"use strict";(self.webpackChunkfirestore_crud_app=self.webpackChunkfirestore_crud_app||[]).push([[179],{2011:(Ut,$e,U)=>{U.d($e,{Dh:()=>Fe,GT:()=>de,cc:()=>Ge,hO:()=>dt,on:()=>te,pX:()=>xe,xv:()=>Me});var l=U(4650),ue=U(1274),j=U(2088);Ut=U.hmd(Ut);const Ie=["ngOnDestroy"],xe=(Ye,Qe,ot,it={})=>new Proxy(Ye,{get:(He,je)=>ot.runOutsideAngular(()=>{var at;if(Ye[je])return!(null===(at=it?.spy)||void 0===at)&&at.get&&it.spy.get(je,Ye[je]),Ye[je];if(Ie.indexOf(je)>-1)return()=>{};const Xe=Qe.toPromise().then(De=>{const ne=De&&De[je];return"function"==typeof ne?ne.bind(De):ne&&ne.then?ne.then(ht=>ot.run(()=>ht)):ot.run(()=>ne)});return new Proxy(()=>{},{get:(De,ne)=>Xe[ne],apply:(De,ne,ht)=>Xe.then(ct=>{var Kt;const Tt=ct&&ct(...ht);return!(null===(Kt=it?.spy)||void 0===Kt)&&Kt.apply&&it.spy.apply(je,ht,Tt),Tt})})})}),de=(Ye,Qe)=>{Qe.forEach(ot=>{Object.getOwnPropertyNames(ot.prototype||ot).forEach(it=>{Object.defineProperty(Ye.prototype,it,Object.getOwnPropertyDescriptor(ot.prototype||ot,it))})})};class Ve{constructor(Qe){return Qe}}const Fe=new l.OlP("angularfire2.app.options"),Me=new l.OlP("angularfire2.app.name");function te(Ye,Qe,ot){const He="object"==typeof ot&&ot||{};He.name=He.name||"string"==typeof ot&&ot||"[DEFAULT]";const at=ue.Z.apps.filter(Xe=>Xe&&Xe.name===He.name)[0]||Qe.runOutsideAngular(()=>ue.Z.initializeApp(Ye,He));try{JSON.stringify(Ye)!==JSON.stringify(at.options)&&Y("error",`${at.name} Firebase App already initialized with different options${Ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ve(at)}const Y=(Ye,...Qe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ye](...Qe)},ae={provide:Ve,useFactory:te,deps:[Fe,l.R0b,[new l.FiY,Me]]};let dt=(()=>{class Ye{constructor(ot){ue.Z.registerVersion("angularfire",j.q4.full,"core"),ue.Z.registerVersion("angularfire",j.q4.full,"app-compat"),ue.Z.registerVersion("angular",l.q4F.full,ot.toString())}static initializeApp(ot,it){return{ngModule:Ye,providers:[{provide:Fe,useValue:ot},{provide:Me,useValue:it}]}}}return Ye.\u0275fac=function(ot){return new(ot||Ye)(l.LFG(l.Lbi))},Ye.\u0275mod=l.oAB({type:Ye}),Ye.\u0275inj=l.cJS({providers:[ae]}),Ye})();function Ge(Ye,Qe,ot,it,He){const[,je,at]=globalThis.\u0275AngularfireInstanceCache.find(Xe=>Xe[0]===Ye)||[];if(je)return function pt(Ye,Qe){try{return Ye.toString()===Qe.toString()}catch{return Ye===Qe}}(He,at)||(Oe("error",`${Qe} was already initialized on the ${ot} Firebase App with different settings.${Rt?" You may need to reload as Firebase is not HMR aware.":""}`),Oe("warn",{is:He,was:at})),je;{const Xe=it();return globalThis.\u0275AngularfireInstanceCache.push([Ye,Xe,He]),Xe}}const Rt=!!Ut.hot,Oe=(Ye,...Qe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ye](...Qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2088:(Ut,$e,U)=>{U.d($e,{q4:()=>Ii,iC:()=>gd,HU:()=>Gh,vb:()=>md,JM:()=>eu,u3:()=>Bm});var l=U(4650),ue=U(8140),j=U(5861),xe=(U(9752),U(5578));function Ih(){return kl.apply(this,arguments)}function kl(){return(kl=(0,j.Z)(function*(){if(!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}function Ng(){return td.apply(this,arguments)}function td(){return(td=(0,j.Z)(function*(){try{yield(0,xe.eu)()}catch{return!1}return typeof window<"u"&&(0,xe.hl)()&&(0,xe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Ea(){return Go.apply(this,arguments)}function Go(){return(Go=(0,j.Z)(function*(){if((0,xe.ru)()||!(0,xe.zI)()||!(0,xe.hl)())return!1;try{return yield(0,xe.eu)()}catch{return!1}})).apply(this,arguments)}U(1617),U(9357);var Ql=U(4408),cc=U(7565);const zg=new class Ia extends cc.v{}(class an extends Ql.o{constructor(A,O){super(A,O),this.scheduler=A,this.work=O}schedule(A,O=0){return O>0?super.schedule(A,O):(this.delay=O,this.state=A,this.scheduler.flush(this),this)}execute(A,O){return O>0||this.closed?super.execute(A,O):this._execute(A,O)}requestAsyncId(A,O,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(A,O,z):(A.flush(this),0)}});var Nm=U(4986),zh=U(9751),Fm=U(8505),Pi=U(9468),lc=U(5363);const Ii=new l.GfV("7.6.1"),Zs="__angularfire_symbol__analyticsIsSupportedValue",Lm="__angularfire_symbol__analyticsIsSupported",uc="__angularfire_symbol__remoteConfigIsSupportedValue",Xl="__angularfire_symbol__remoteConfigIsSupported",fd="__angularfire_symbol__messagingIsSupportedValue",mr="__angularfire_symbol__messagingIsSupported";function eu(T,A,O){if(A){if(1===A.length)return A[0];const oe=A.filter(Ce=>Ce.app===O);if(1===oe.length)return oe[0]}return O.container.getProvider(T).getImmediate({optional:!0})}globalThis[Lm]||(globalThis[Lm]=Ea().then(T=>globalThis[Zs]=T).catch(()=>globalThis[Zs]=!1)),globalThis[mr]||(globalThis[mr]=Ng().then(T=>globalThis[fd]=T).catch(()=>globalThis[fd]=!1)),globalThis[Xl]||(globalThis[Xl]=Ih().then(T=>globalThis[uc]=T).catch(()=>globalThis[uc]=!1));const md=(T,A)=>{const O=A?[A]:(0,ue.C6)(),z=[];return O.forEach(J=>{J.container.getProvider(T).instances.forEach(Ce=>{z.includes(Ce)||z.push(Ce)})}),z};function dc(){}class xa{constructor(A,O=zg){this.zone=A,this.delegate=O}now(){return this.delegate.now()}schedule(A,O,z){const J=this.zone;return this.delegate.schedule(function(Ce){J.runGuarded(()=>{A.apply(this,[Ce])})},O,z)}}class Fs{constructor(A){this.zone=A,this.task=null}call(A,O){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dc,{},dc,dc)),O.pipe((0,Fm.b)({next:z,complete:z,error:z})).subscribe(A).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gh=(()=>{class T{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new xa(Zone.current)),this.insideAngular=O.run(()=>new xa(Zone.current,Nm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(O){return new(O||T)(l.LFG(l.R0b))},T.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Ys(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Wo(T){return Ys().ngZone.run(()=>T())}function gd(T){return Ys(),function qh(T){return function(O){return(O=O.lift(new Fs(T.ngZone))).pipe((0,Pi.R)(T.outsideAngular),(0,lc.Q)(T.insideAngular))}}(Ys())(T)}const _d=(T,A)=>function(){const z=arguments;return A&&setTimeout(()=>{"scheduled"===A.state&&A.invoke()},10),Wo(()=>T.apply(void 0,z))},Bm=(T,A)=>function(){let O;const z=arguments;for(let oe=0;oe<arguments.length;oe++)"function"==typeof z[oe]&&(A&&(O||(O=Wo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dc,{},dc,dc)))),z[oe]=_d(z[oe],O));const J=function Hg(T){return Ys().ngZone.runOutsideAngular(()=>T())}(()=>T.apply(this,z));if(!A){if(J instanceof zh.y){const oe=Ys();return J.pipe((0,Pi.R)(oe.outsideAngular),(0,lc.Q)(oe.insideAngular))}return Wo(()=>J)}return J instanceof zh.y?J.pipe(gd):J instanceof Promise?Wo(()=>new Promise((oe,Ce)=>J.then(ut=>Wo(()=>oe(ut)),ut=>Wo(()=>Ce(ut))))):"function"==typeof J&&O?function(){return setTimeout(()=>{O&&"scheduled"===O.state&&O.invoke()},10),J.apply(this,arguments)}:Wo(()=>J)}},5578:(Ut,$e,U)=>{U.d($e,{$s:()=>en,BH:()=>je,G6:()=>Ki,L:()=>Me,LL:()=>Ee,Pz:()=>He,Sg:()=>at,UG:()=>ne,US:()=>de,ZB:()=>ae,ZR:()=>ye,aH:()=>it,b$:()=>Kt,eu:()=>Bc,hl:()=>Zi,jU:()=>ht,m9:()=>li,ne:()=>Hn,pd:()=>Qr,r3:()=>_n,ru:()=>ct,tV:()=>te,uI:()=>De,vZ:()=>Dt,w1:()=>ci,xO:()=>Ir,xb:()=>Li,z$:()=>Xe,zI:()=>me,zd:()=>co});const Ie=function(K){const q=[];let se=0;for(let Ue=0;Ue<K.length;Ue++){let ve=K.charCodeAt(Ue);ve<128?q[se++]=ve:ve<2048?(q[se++]=ve>>6|192,q[se++]=63&ve|128):55296==(64512&ve)&&Ue+1<K.length&&56320==(64512&K.charCodeAt(Ue+1))?(ve=65536+((1023&ve)<<10)+(1023&K.charCodeAt(++Ue)),q[se++]=ve>>18|240,q[se++]=ve>>12&63|128,q[se++]=ve>>6&63|128,q[se++]=63&ve|128):(q[se++]=ve>>12|224,q[se++]=ve>>6&63|128,q[se++]=63&ve|128)}return q},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,q){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ue=[];for(let ve=0;ve<K.length;ve+=3){const rt=K[ve],sn=ve+1<K.length,kn=sn?K[ve+1]:0,Qi=ve+2<K.length,wi=Qi?K[ve+2]:0;let ps=(15&kn)<<2|wi>>6,Po=63&wi;Qi||(Po=64,sn||(ps=64)),Ue.push(se[rt>>2],se[(3&rt)<<4|kn>>4],se[ps],se[Po])}return Ue.join("")},encodeString(K,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(K):this.encodeByteArray(Ie(K),q)},decodeString(K,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(K):function(K){const q=[];let se=0,Ue=0;for(;se<K.length;){const ve=K[se++];if(ve<128)q[Ue++]=String.fromCharCode(ve);else if(ve>191&&ve<224){const rt=K[se++];q[Ue++]=String.fromCharCode((31&ve)<<6|63&rt)}else if(ve>239&&ve<365){const Qi=((7&ve)<<18|(63&K[se++])<<12|(63&K[se++])<<6|63&K[se++])-65536;q[Ue++]=String.fromCharCode(55296+(Qi>>10)),q[Ue++]=String.fromCharCode(56320+(1023&Qi))}else{const rt=K[se++],sn=K[se++];q[Ue++]=String.fromCharCode((15&ve)<<12|(63&rt)<<6|63&sn)}}return q.join("")}(this.decodeStringToByteArray(K,q))},decodeStringToByteArray(K,q){this.init_();const se=q?this.charToByteMapWebSafe_:this.charToByteMap_,Ue=[];for(let ve=0;ve<K.length;){const rt=se[K.charAt(ve++)],kn=ve<K.length?se[K.charAt(ve)]:0;++ve;const wi=ve<K.length?se[K.charAt(ve)]:64;++ve;const En=ve<K.length?se[K.charAt(ve)]:64;if(++ve,null==rt||null==kn||null==wi||null==En)throw new Ve;Ue.push(rt<<2|kn>>4),64!==wi&&(Ue.push(kn<<4&240|wi>>2),64!==En&&Ue.push(wi<<6&192|En))}return Ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class Ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(K){return function(K){const q=Ie(K);return de.encodeByteArray(q,!0)}(K).replace(/\./g,"")},te=function(K){try{return de.decodeString(K,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function ae(K,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return q}for(const se in q)!q.hasOwnProperty(se)||!dt(se)||(K[se]=ae(K[se],q[se]));return K}function dt(K){return"__proto__"!==K}const Ye=()=>{try{return function Ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const q=K&&te(K[1]);return q&&JSON.parse(q)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},it=()=>{var K;return null===(K=Ye())||void 0===K?void 0:K.config},He=K=>{var q;return null===(q=Ye())||void 0===q?void 0:q[`_${K}`]};class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,se)=>{this.resolve=q,this.reject=se})}wrapCallback(q){return(se,Ue)=>{se?this.reject(se):this.resolve(Ue),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(se):q(se,Ue))}}}function at(K,q){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ue=q||"demo-project",ve=K.iat||0,rt=K.sub||K.user_id;if(!rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const sn=Object.assign({iss:`https://securetoken.google.com/${Ue}`,aud:Ue,iat:ve,exp:ve+3600,auth_time:ve,sub:rt,user_id:rt,firebase:{sign_in_provider:"custom",identities:{}}},K);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(sn)),""].join(".")}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function ne(){var K;const q=null===(K=Ye())||void 0===K?void 0:K.forceEnvironment;if("node"===q)return!0;if("browser"===q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ht(){return"object"==typeof self&&self.self===self}function ct(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ci(){const K=Xe();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Ki(){return!ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zi(){try{return"object"==typeof indexedDB}catch{return!1}}function Bc(){return new Promise((K,q)=>{try{let se=!0;const Ue="validate-browser-context-for-indexeddb-analytics-module",ve=self.indexedDB.open(Ue);ve.onsuccess=()=>{ve.result.close(),se||self.indexedDB.deleteDatabase(Ue),K(!0)},ve.onupgradeneeded=()=>{se=!1},ve.onerror=()=>{var rt;q((null===(rt=ve.error)||void 0===rt?void 0:rt.message)||"")}}catch(se){q(se)}})}function me(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ye extends Error{constructor(q,se,Ue){super(se),this.code=q,this.customData=Ue,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ee.prototype.create)}}class Ee{constructor(q,se,Ue){this.service=q,this.serviceName=se,this.errors=Ue}create(q,...se){const Ue=se[0]||{},ve=`${this.service}/${q}`,rt=this.errors[q],sn=rt?function qe(K,q){return K.replace(Be,(se,Ue)=>{const ve=q[Ue];return null!=ve?String(ve):`<${Ue}?>`})}(rt,Ue):"Error";return new ye(ve,`${this.serviceName}: ${sn} (${ve}).`,Ue)}}const Be=/\{\$([^}]+)}/g;function _n(K,q){return Object.prototype.hasOwnProperty.call(K,q)}function Li(K){for(const q in K)if(Object.prototype.hasOwnProperty.call(K,q))return!1;return!0}function Dt(K,q){if(K===q)return!0;const se=Object.keys(K),Ue=Object.keys(q);for(const ve of se){if(!Ue.includes(ve))return!1;const rt=K[ve],sn=q[ve];if(ms(rt)&&ms(sn)){if(!Dt(rt,sn))return!1}else if(rt!==sn)return!1}for(const ve of Ue)if(!se.includes(ve))return!1;return!0}function ms(K){return null!==K&&"object"==typeof K}function Ir(K){const q=[];for(const[se,Ue]of Object.entries(K))Array.isArray(Ue)?Ue.forEach(ve=>{q.push(encodeURIComponent(se)+"="+encodeURIComponent(ve))}):q.push(encodeURIComponent(se)+"="+encodeURIComponent(Ue));return q.length?"&"+q.join("&"):""}function co(K){const q={};return K.replace(/^\?/,"").split("&").forEach(Ue=>{if(Ue){const[ve,rt]=Ue.split("=");q[decodeURIComponent(ve)]=decodeURIComponent(rt)}}),q}function Qr(K){const q=K.indexOf("?");if(!q)return"";const se=K.indexOf("#",q);return K.substring(q,se>0?se:void 0)}function Hn(K,q){const se=new Pt(K,q);return se.subscribe.bind(se)}class Pt{constructor(q,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{q(this)}).catch(Ue=>{this.error(Ue)})}next(q){this.forEachObserver(se=>{se.next(q)})}error(q){this.forEachObserver(se=>{se.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,se,Ue){let ve;if(void 0===q&&void 0===se&&void 0===Ue)throw new Error("Missing Observer.");ve=function lo(K,q){if("object"!=typeof K||null===K)return!1;for(const se of q)if(se in K&&"function"==typeof K[se])return!0;return!1}(q,["next","error","complete"])?q:{next:q,error:se,complete:Ue},void 0===ve.next&&(ve.next=Xr),void 0===ve.error&&(ve.error=Xr),void 0===ve.complete&&(ve.complete=Xr);const rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ve.error(this.finalError):ve.complete()}catch{}}),this.observers.push(ve),rt}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,q)}sendOne(q,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{se(this.observers[q])}catch(Ue){typeof console<"u"&&console.error&&console.error(Ue)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xr(){}const Mn=1e3,St=2,ze=144e5,It=.5;function en(K,q=Mn,se=St){const Ue=q*Math.pow(se,K),ve=Math.round(It*Ue*(Math.random()-.5)*2);return Math.min(ze,Ue+ve)}function li(K){return K&&K._delegate?K._delegate:K}},1105:(Ut,$e,U)=>{var l=U(4650);let ue=null;function j(){return ue}class xe{}const de=new l.OlP("DocumentToken");let Ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Fe(){return(0,l.LFG)(te)}()},providedIn:"platform"}),n})();const Me=new l.OlP("Location Initialized");let te=(()=>{class n extends Ve{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(t){const i=j().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=j().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){Y()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){Y()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ae(){return new te((0,l.LFG)(de))}()},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function dt(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ge(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function pt(n){return n&&"?"!==n[0]?"?"+n:n}let Rt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ye)},providedIn:"root"}),n})();const Oe=new l.OlP("appBaseHref");let Ye=(()=>{class n extends Rt{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return dt(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+pt(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+pt(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+pt(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ve),l.LFG(Oe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qe=(()=>{class n extends Rt{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=dt(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+pt(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+pt(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ve),l.LFG(Oe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ot=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function at(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ge(je(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+pt(i))}normalize(t){return n.stripTrailingSlash(function He(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pt(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=pt,n.joinWithSlash=dt,n.stripTrailingSlash=Ge,n.\u0275fac=function(t){return new(t||n)(l.LFG(Rt))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function it(){return new ot((0,l.LFG)(Rt))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}const Ss=/\s+/,gt=[];let on=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=gt,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Ss):gt}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Ss):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Ss).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Vi{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ho=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Vi(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,o),Ei(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Ei(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ei(n,e){n.context.$implicit=e.item}let Vr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new dn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Sl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Sl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class dn{constructor(){this.$implicit=null,this.ngIf=null}}function Sl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class Dl{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class bh{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const zc=new bh,ha=new Dl;let fa=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,l.QGY)(t))return zc;if((0,l.F4k)(t))return ha;throw function gs(n,e){return new l.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Tr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Dg="browser",fm="server";function Lo(n){return n===fm}let kl=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new pm((0,l.LFG)(de),window)}),n})();class pm{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ma(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xh(this.window.history)||xh(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xh(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Am extends xe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Mh extends Am{static makeCurrent(){!function Ie(n){ue||(ue=n)}(new Mh)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zc(){return Kc=Kc||document.querySelector("base"),Kc?Kc.getAttribute("href"):null}();return null==t?null:function Jy(n){zo=zo||document.createElement("a"),zo.setAttribute("href",n);const e=zo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Kc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Uc(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let zo,Kc=null;const Og=new l.OlP("TRANSITION_ID"),Iw=[{provide:l.ip1,useFactory:function Qu(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=j(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Og,de,l.zs3],multi:!0}];let Ga=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const qa=new l.OlP("EventManagerPlugins");let Xu=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qa),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Yc{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=j().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let kh=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let s=r.get(t)??0;return s+=i,s>0?r.set(t,s):r.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Wa=(()=>{class n extends kh{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(s=>s.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ka={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ju=/%COMP%/g,Hl=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Dm(n,e){return e.flat(100).map(t=>t.replace(Ju,n))}function Qa(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ps=(()=>{class n{constructor(t,i,r,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Ho(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof km?r.applyToHost(t):r instanceof Yn&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestory;switch(i.encapsulation){case l.ifc.Emulated:s=new km(o,d,i,this.appId,f);break;case l.ifc.ShadowDom:return new Mm(o,d,t,i);default:s=new Yn(o,d,i,f)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Xu),l.LFG(Wa),l.LFG(l.AFp),l.LFG(Hl))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ho{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ka[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Xc(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Xc(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Ka[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Ka[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Qa(i)):this.eventManager.addEventListener(e,t,Qa(i))}}function Xc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Mm extends Ho{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Dm(r.id,r.styles);for(const o of s){const d=document.createElement("style");d.textContent=o,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Yn extends Ho{constructor(e,t,i,r,s=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=Dm(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class km extends Yn{constructor(e,t,i,r,s){const o=r+"-"+i.id;super(e,t,i,s,o),this.contentAttr=function Ng(n){return"_ngcontent-%COMP%".replace(Ju,n)}(o),this.hostAttr=function td(n){return"_nghost-%COMP%".replace(Ju,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let nd=(()=>{class n extends Yc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ph=["alt","control","meta","shift"],id={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tr=(()=>{class n extends Yc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>j().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),o="code."),Ph.forEach(g=>{const b=i.indexOf(g);b>-1&&(i.splice(b,1),o+=g+".")}),o+=s,0!=i.length||0===s.length)return null;const f={};return f.domEventName=r,f.fullKey=o,f}static matchEventFullKeyCode(t,i){let r=id[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ph.forEach(o=>{o!==r&&(0,rd[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Nh=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Dg},{provide:l.g9A,useValue:function $o(){Mh.makeCurrent()},multi:!0},{provide:de,useFactory:function sd(){return(0,l.RDi)(document),document},deps:[]}]),ql=new l.OlP(""),Jc=[{provide:l.rWj,useClass:class zl{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,o=!1;const d=function(f){o=o||f,s--,0==s&&i(o)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?j().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],va=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Fg(){return new l.qLn},deps:[]},{provide:qa,useClass:nd,multi:!0,deps:[de,l.R0b,l.Lbi]},{provide:qa,useClass:tr,multi:!0,deps:[de]},{provide:Ps,useClass:Ps,deps:[Xu,Wa,l.AFp,Hl]},{provide:l.FYo,useExisting:Ps},{provide:kh,useExisting:Wa},{provide:Wa,useClass:Wa,deps:[de]},{provide:Xu,useClass:Xu,deps:[qa,l.R0b]},{provide:class Lu{},useClass:Ga,deps:[]},[]];let ba=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Og,useExisting:l.AFp},Iw]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ql,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...va,...Jc],imports:[Tr,l.hGG]}),n})(),Vg=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function tc(){return new Vg((0,l.LFG)(de))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ld=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(Yl),i},providedIn:"root"}),n})(),Yl=(()=>{class n extends ld{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ud(n){return new Yl(n.get(de))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var jr=U(2011),Os=U(4986),_i=U(9751),An=U(8996),fr=U(3269);function Mt(...n){const e=(0,fr.yG)(n);return(0,An.D)(n,e)}var Qn=U(2088),wa=U(8189);function rc(...n){return function dd(){return(0,wa.J)(1)}()((0,An.D)(n,(0,fr.yG)(n)))}var Ln=U(4482);function Ar(...n){const e=(0,fr.yG)(n);return(0,Ln.e)((t,i)=>{(e?rc(n,t,e):rc(n,t)).subscribe(i)})}var ni=U(5403);function sc(){return(0,Ln.e)((n,e)=>{let t,i=!1;n.subscribe((0,ni.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var kt=U(4004);function oc(n,e){return(0,Ln.e)(function hd(n,e,t,i,r){return(s,o)=>{let d=t,f=e,g=0;s.subscribe((0,ni.x)(o,b=>{const x=g++;f=d?n(f,b,x):(d=!0,b),i&&o.next(f)},r&&(()=>{d&&o.next(f),o.complete()})))}}(n,e,arguments.length>=2,!0))}var Ea=U(4671);function Go(n,e=Ea.y){return n=n??ac,(0,Ln.e)((t,i)=>{let r,s=!0;t.subscribe((0,ni.x)(i,o=>{const d=e(o);(s||!n(r,d))&&(s=!1,r=d,i.next(o))}))})}function ac(n,e){return n===e}function ei(n,e){return(0,Ln.e)((t,i)=>{let r=0;t.subscribe((0,ni.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}U(8463),U(6101);var bt,re=U(5861),qo=(U(9752),U(1617),U(9357)),Tn=U(5578),Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ks={},Ql=Ql||{},an=Uh||self;function cc(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ia(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var jh="closure_uid_"+(1e9*Math.random()>>>0),Nm=0;function zh(n,e,t){return n.call.apply(n.bind,arguments)}function Fm(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Pi(n,e,t){return(Pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zh:Fm).apply(null,arguments)}function lc(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Zs(){this.s=this.s,this.o=this.o}Zs.prototype.s=!1,Zs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zg(n){Object.prototype.hasOwnProperty.call(n,jh)&&n[jh]||(n[jh]=++Nm)}(this)},Zs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uc=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Xl(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function fd(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(cc(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let o=0;o<s;o++)n[r+o]=i[o]}else n.push(i)}}function mr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}mr.prototype.h=function(){this.defaultPrevented=!0};var Hh=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{an.addEventListener("test",()=>{},e),an.removeEventListener("test",()=>{},e)}catch{}return n}();function Jl(n){return/^[\s\xa0]*$/.test(n)}function $h(){var n=an.navigator;return n&&(n=n.userAgent)?n:""}function go(n){return-1!=$h().indexOf(n)}function eu(n){return eu[" "](n),n}eu[" "]=function(){};var pd,dc=go("Opera"),xa=go("Trident")||go("MSIE"),Fs=go("Edge"),Gh=Fs||xa,Ys=go("Gecko")&&!(-1!=$h().toLowerCase().indexOf("webkit")&&!go("Edge"))&&!(go("Trident")||go("MSIE"))&&!go("Edge"),Hg=-1!=$h().toLowerCase().indexOf("webkit")&&!go("Edge");function Wo(){var n=an.document;return n?n.documentMode:void 0}e:{var Vm="",gd=function(){var n=$h();return Ys?/rv:([^\);]+)(\)|;)/.exec(n):Fs?/Edge\/([\d\.]+)/.exec(n):xa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Hg?/WebKit\/(\S+)/.exec(n):dc?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(gd&&(Vm=gd?gd[1]:""),xa){var qh=Wo();if(null!=qh&&qh>parseFloat(Vm)){pd=String(qh);break e}}pd=Vm}var T=an.document&&xa&&(Wo()||parseInt(pd,10))||void 0;function A(n,e){if(mr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ys){e:{try{eu(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:O[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&A.$.h.call(this)}}var O={2:"touch",3:"pen",4:"mouse"};A.prototype.h=function(){A.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),J=0;function oe(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++J,this.fa=this.ia=!1}function Ce(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function ut(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Ft(n){const e={};for(const t in n)e[t]=n[t];return e}const Xt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rn(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<Xt.length;s++)t=Xt[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function ir(n){this.src=n,this.g={},this.h=0}function xi(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=uc(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Ce(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function hc(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}ir.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=hc(n,e,i,r);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new oe(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var fc="closure_lm_"+(1e6*Math.random()|0),mc={};function zr(n,e,t,i,r){if(i&&i.once)return vd(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)zr(n,e[s],t,i,r);return null}return t=Yh(t),n&&n[z]?n.O(e,t,Ia(i)?!!i.capture:!!i,r):Qs(n,e,t,!1,i,r)}function Qs(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var o=Ia(r)?!!r.capture:!!r,d=Zh(n);if(d||(n[fc]=d=new ir(n)),(t=d.add(e,t,i,o,s)).proxy)return t;if(i=function yd(){const e=bd;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Hh||(r=o),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Kh(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function vd(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)vd(n,e[s],t,i,r);return null}return t=Yh(t),n&&n[z]?n.P(e,t,Ia(i)?!!i.capture:!!i,r):Qs(n,e,t,!0,i,r)}function Aw(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Aw(n,e[s],t,i,r);else i=Ia(i)?!!i.capture:!!i,t=Yh(t),n&&n[z]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=hc(s=n.g[e],t,i,r))&&(Ce(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Zh(n))&&(e=n.g[e.toString()],n=-1,e&&(n=hc(e,t,i,r)),(t=-1<n?e[n]:null)&&Wh(t))}function Wh(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[z])xi(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Kh(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Zh(e))?(xi(t,n),0==t.h&&(t.src=null,e[fc]=null)):Ce(n)}}}function Kh(n){return n in mc?mc[n]:mc[n]="on"+n}function bd(n,e){if(n.fa)n=!0;else{e=new A(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Wh(n),n=t.call(i,e)}return n}function Zh(n){return(n=n[fc])instanceof ir?n:null}var pc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yh(n){return"function"==typeof n?n:(n[pc]||(n[pc]=function(e){return n.handleEvent(e)}),n[pc])}function pr(){Zs.call(this),this.i=new ir(this),this.S=this,this.J=null}function Hr(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new mr(e,n);else if(e instanceof mr)e.target=e.target||n;else{var r=e;rn(e=new mr(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];r=wd(o,i,!0,e)&&r}if(r=wd(o=e.g=n,i,!0,e)&&r,r=wd(o,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=wd(o=e.g=t[s],i,!1,e)&&r}function wd(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var d=o.listener,f=o.la||o.src;o.ia&&xi(n.i,o),r=!1!==d.call(f,i)&&r}}return r&&!i.defaultPrevented}pr.prototype[z]=!0,pr.prototype.removeEventListener=function(n,e,t,i){Aw(this,n,e,t,i)},pr.prototype.N=function(){if(pr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Ce(t[i]);delete n.g[e],n.h--}}this.J=null},pr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},pr.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var $g=an.JSON.stringify;class tv{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Sw(){var n=Gg;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class $T{constructor(){this.h=this.g=null}add(e,t){const i=el.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}}var el=new tv(()=>new Dw,n=>n.reset());class Dw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nv(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Qh(n){an.setTimeout(()=>{throw n},0)}let Ed,gc=!1,Gg=new $T,iv=()=>{const n=an.Promise.resolve(void 0);Ed=()=>{n.then(Um)}};var Um=()=>{for(var n;n=Sw();){try{n.h.call(n.g)}catch(t){Qh(t)}var e=el;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}gc=!1};function Xh(n,e){pr.call(this),this.h=n||1,this.g=e||an,this.j=Pi(this.qb,this),this.l=Date.now()}function _c(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Id(n,e,t){if("function"==typeof n)t&&(n=Pi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Pi(n.handleEvent,n)}return 2147483647<Number(e)?-1:an.setTimeout(n,e||0)}function qg(n){n.g=Id(()=>{n.g=null,n.i&&(n.i=!1,qg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(bt=Xh.prototype).ga=!1,bt.T=null,bt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hr(this,"tick"),this.ga&&(_c(this),this.start()))}},bt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bt.N=function(){Xh.$.N.call(this),_c(this),delete this.g};class Mw extends Zs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qg(this)}N(){super.N(),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jm(n){Zs.call(this),this.h=n,this.g={}}var Jh=[];function rv(n,e,t,i){Array.isArray(t)||(t&&(Jh[0]=t.toString()),t=Jh);for(var r=0;r<t.length;r++){var s=zr(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function zm(n){ut(n.g,function(e,t){this.g.hasOwnProperty(t)&&Wh(e)},n),n.g={}}function tu(){this.g=!0}function yc(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Hm(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return $g(t)}catch{return e}}(n,t)+(i?" "+i:"")})}jm.prototype.N=function(){jm.$.N.call(this),zm(this)},jm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tu.prototype.Ea=function(){this.g=!1},tu.prototype.info=function(){};var tl={},nu=null;function Td(){return nu=nu||new pr}function $m(n){mr.call(this,tl.Ta,n)}function vc(n){const e=Td();Hr(e,new $m(e))}function Kg(n,e){mr.call(this,tl.STAT_EVENT,n),this.stat=e}function is(n){const e=Td();Hr(e,new Kg(e,n))}function ov(n,e){mr.call(this,tl.Ua,n),this.size=e}function ef(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){n()},e)}tl.Ta="serverreachability",tl.STAT_EVENT="statevent",tl.Ua="timingevent";var Gm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},iu={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wm(){}var Qg,Ta={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Zg(){mr.call(this,"d")}function Yg(){mr.call(this,"c")}function Ad(){}function bc(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new jm(this),this.P=av,this.V=new Xh(n=Gh?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Xg}function Xg(){this.i=null,this.g="",this.h=!1}Ad.prototype.g=function(){return new XMLHttpRequest},Ad.prototype.i=function(){return{}},Qg=new Ad;var av=45e3,nl={},Sd={};function rs(n,e,t){n.L=1,n.v=rl(_o(e)),n.s=t,n.S=!0,ru(n,null)}function ru(n,e){n.G=Date.now(),su(n),n.A=_o(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Z(t.i,"t",i),n.C=0,t=n.l.J,n.h=new Xg,n.g=zw(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Mw(Pi(n.Pa,n,n.g),n.O)),rv(n.U,n.g,"readystatechange",n.nb),e=n.I?Ft(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),vc(),function sv(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var o="",d=s.split("&"),f=0;f<d.length;f++){var g=d[f].split("=");if(1<g.length){var b=g[0];g=g[1];var x=b.split("_");o=2<=x.length&&"type"==x[1]?o+(b+"=")+g+"&":o+(b+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Km(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function il(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Jg(n,t),r==Sd){4==e&&(n.o=4,is(14),i=!1),yc(n.j,n.m,null,"[Incomplete Response]");break}if(r==nl){n.o=4,is(15),yc(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}yc(n.j,n.m,r,null),wc(n,r)}Km(n)&&r!=Sd&&r!=nl&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,is(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Pd(e),e.M=!0,is(11))):(yc(n.j,n.m,t,"[Invalid Chunked Response]"),Oi(n),nf(n))}function Jg(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Sd:(t=Number(e.substring(t,i)),isNaN(t)?nl:(i+=1)+t>e.length?Sd:(e=e.slice(i,i+t),n.C=i+t,e))}function su(n){n.Y=Date.now()+n.P,cv(n,n.P)}function cv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ef(Pi(n.lb,n),e)}function tf(n){n.B&&(an.clearTimeout(n.B),n.B=null)}function nf(n){0==n.l.H||n.J||QT(n.l,n)}function Oi(n){tf(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,_c(n.V),zm(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function wc(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Ca(t.i,n)))if(!n.K&&Ca(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ev(t),vv(t)}wv(t),is(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=ef(Pi(t.ib,t),6e3));if(1>=vs(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else lf(t,11)}else if((n.K||t.g==n)&&Ev(t),!Jl(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let g=r[e];if(t.V=g[0],g=g[1],2==t.H)if("c"==g[0]){t.K=g[1],t.pa=g[2];const b=g[3];null!=b&&(t.ra=b,t.l.info("VER="+t.ra));const x=g[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const k=g[5];null!=k&&"number"==typeof k&&0<k&&(t.L=i=1.5*k,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const N=n.g;if(N){const V=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var s=i.i;s.g||-1==V.indexOf("spdy")&&-1==V.indexOf("quic")&&-1==V.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(sl(s,s.h),s.h=null))}if(i.F){const $=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;$&&(i.Da=$,oi(i.I,i.F,$))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((i=t).wa=XT(i,i.J?i.pa:null,i.Y),o.K){yi(i.i,o);var d=o,f=i.L;f&&d.setTimeout(f),d.B&&(tf(d),su(d)),i.g=o}else ZT(i);0<t.j.length&&sf(t)}else"stop"!=g[0]&&"close"!=g[0]||lf(t,7);else 3==t.H&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?lf(t,7):Qm(t):"noop"!=g[0]&&t.h&&t.h.Aa(g),t.A=0)}vc()}catch{}}function lv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(cc(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Rw(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(cc(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function kw(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(cc(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(bt=bc.prototype).setTimeout=function(n){this.P=n},bt.nb=function(n){n=n.target;const e=this.M;e&&3==ol(n)?e.l():this.Pa(n)},bt.Pa=function(n){try{if(n==this.g)e:{const b=ol(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||Gh||this.g&&(this.h.h||this.g.ja()||_v(this.g)))){this.J||4!=b||7==e||vc(),tf(this);var t=this.g.da();this.ca=t;t:if(Km(this)){var i=_v(this.g);n="";var r=i.length,s=4==ol(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),nf(this);var o="";break t}this.h.i=new an.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function Wg(n,e,t,i,r,s,o){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,b,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jl(d)){var g=d;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,is(12),Oi(this),nf(this);break e}yc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wc(this,t)}this.S?(il(this,b,o),Gh&&this.i&&3==b&&(rv(this.U,this.V,"tick",this.mb),this.V.start())):(yc(this.j,this.m,o,null),wc(this,o)),4==b&&Oi(this),this.i&&!this.J&&(4==b?QT(this.l,this):(this.i=!1,su(this)))}else(function WT(n){const e={};n=(n.g&&2<=ol(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Jl(n[i]))continue;var t=nv(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function lt(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,is(12)):(this.o=0,is(13)),Oi(this),nf(this)}}}catch{}},bt.mb=function(){if(this.g){var n=ol(this.g),e=this.g.ja();this.C<e.length&&(tf(this),il(this,n,e),this.i&&4!=n&&su(this))}},bt.cancel=function(){this.J=!0,Oi(this)},bt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function xd(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(vc(),is(17)),Oi(this),this.o=2,nf(this)):cv(this,this.Y-n)};var e_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ec(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ec){this.h=n.h,Zm(this,n.j),this.s=n.s,this.g=n.g,yo(this,n.m),this.l=n.l;var e=n.i,t=new _;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Dd(this,t),this.o=n.o}else n&&(e=String(n).match(e_))?(this.h=!1,Zm(this,e[1]||"",!0),this.s=Xs(e[2]||""),this.g=Xs(e[3]||"",!0),yo(this,e[4]),this.l=Xs(e[5]||"",!0),Dd(this,e[6]||"",!0),this.o=Xs(e[7]||"")):(this.h=!1,this.i=new _(null,this.h))}function _o(n){return new Ec(n)}function Zm(n,e,t){n.j=t?Xs(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function yo(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Dd(n,e,t){e instanceof _?(n.i=e,function We(n,e){e&&!n.j&&(I(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(M(this,i),Z(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ko(e,w)),n.i=new _(e,n.h))}function oi(n,e,t){n.i.set(e,t)}function rl(n){return oi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xs(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ko(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,uv),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function uv(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ec.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ko(e,t_,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ko(e,t_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ko(t,"/"==t.charAt(0)?GT:dv,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ko(t,p)),n.join("")};var t_=/[#\/\?@]/g,dv=/[#\?:]/g,GT=/[#\?]/g,w=/[#\?@]/g,p=/#/g;function _(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function I(n){n.g||(n.g=new Map,n.h=0,n.i&&function Ls(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function M(n,e){I(n),e=le(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function F(n,e){return I(n),e=le(n,e),n.g.has(e)}function Z(n,e,t){M(n,e),0<t.length&&(n.i=null,n.g.set(le(n,e),Xl(t)),n.h+=t.length)}function le(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Bt(n){this.l=n||_t,n=an.PerformanceNavigationTiming?0<(n=an.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(an.g&&an.g.Ka&&an.g.Ka()&&an.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(bt=_.prototype).add=function(n,e){I(this),this.i=null,n=le(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},bt.forEach=function(n,e){I(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},bt.ta=function(){I(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},bt.Z=function(n){I(this);let e=[];if("string"==typeof n)F(this,n)&&(e=e.concat(this.g.get(le(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},bt.set=function(n,e){return I(this),this.i=null,F(this,n=le(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},bt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},bt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),n.push(r)}}return this.i=n.join("&")};var _t=10;function gn(n){return!!n.h||!!n.g&&n.g.size>=n.j}function vs(n){return n.h?1:n.g?n.g.size:0}function Ca(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function sl(n,e){n.g?n.g.add(e):n.h=e}function yi(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function n_(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Xl(n.i)}Bt.prototype.cancel=function(){if(this.i=n_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var n,hv=class{stringify(n){return an.JSON.stringify(n,void 0)}parse(n){return an.JSON.parse(n,void 0)}};function rf(){this.g=new hv}function i_(n,e,t){const i=t||"";try{lv(n,function(r,s){let o=r;Ia(r)&&(o=$g(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Md(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function kd(n){this.l=n.fc||null,this.j=n.ob||!1}function Ym(n,e){pr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Rd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kd.prototype.g=function(){return new Ym(this.l,this.j)},kd.prototype.i=(n={},function(){return n});var Rd=0;function Pw(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function mv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ou(n)}function ou(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(bt=Ym.prototype).open=function(n,e){if(this.readyState!=Rd)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ou(this)},bt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||an).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},bt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mv(this)),this.readyState=Rd},bt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ou(this)),this.g&&(this.readyState=3,ou(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof an.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pw(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},bt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?mv(this):ou(this),3==this.readyState&&Pw(this)}},bt.Za=function(n){this.g&&(this.response=this.responseText=n,mv(this))},bt.Ya=function(n){this.g&&(this.response=n,mv(this))},bt.ka=function(){this.g&&mv(this)},bt.setRequestHeader=function(n,e){this.v.append(n,e)},bt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},bt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var Ow=an.JSON.parse;function ji(n){pr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Nw,this.L=this.M=!1}var Nw="",qT=/^https?$/i,I2=["POST","PUT"];function Fw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Lw(n),Vw(n)}function Lw(n){n.F||(n.F=!0,Hr(n,"complete"),Hr(n,"error"))}function pv(n){if(n.h&&typeof Ql<"u"&&(!n.C[1]||4!=ol(n)||2!=n.da()))if(n.v&&4==ol(n))Id(n.La,0,n);else if(Hr(n,"readystatechange"),4==ol(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===o){var r=String(n.I).match(e_)[1]||null;!r&&an.self&&an.self.location&&(r=an.self.location.protocol.slice(0,-1)),i=!qT.test(r?r.toLowerCase():"")}t=i}if(t)Hr(n,"complete"),Hr(n,"success");else{n.m=6;try{var s=2<ol(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",Lw(n)}}finally{Vw(n)}}}function Vw(n,e){if(n.g){gv(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Hr(n,"ready");try{t.onreadystatechange=i}catch{}}}function gv(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(an.clearTimeout(n.A),n.A=null)}function ol(n){return n.g?n.g.readyState:0}function _v(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Nw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Bw(n){let e="";return ut(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function au(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Bw(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):oi(n,e,t))}function r_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function yv(n){this.Ga=0,this.j=[],this.l=new tu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=r_("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=r_("baseRetryDelayMs",5e3,n),this.hb=r_("retryDelaySeedMs",1e4,n),this.eb=r_("forwardChannelMaxRetries",2,n),this.xa=r_("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Bt(n&&n.concurrentRequestLimit),this.Ja=new rf,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Qm(n){if(bv(n),3==n.H){var e=n.W++,t=_o(n.I);if(oi(t,"SID",n.K),oi(t,"RID",e),oi(t,"TYPE","terminate"),cf(n,t),(e=new bc(n,n.l,e)).L=2,e.v=rl(_o(t)),t=!1,an.navigator&&an.navigator.sendBeacon)try{t=an.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&an.Image&&((new Image).src=e.v,t=!0),t||(e.g=zw(e.l,null),e.g.ha(e.v)),e.G=Date.now(),su(e)}jw(n)}function vv(n){n.g&&(Pd(n),n.g.cancel(),n.g=null)}function bv(n){vv(n),n.u&&(an.clearTimeout(n.u),n.u=null),Ev(n),n.i.cancel(),n.m&&("number"==typeof n.m&&an.clearTimeout(n.m),n.m=null)}function sf(n){if(!gn(n.i)&&!n.m){n.m=!0;var e=n.Na;Ed||iv(),gc||(Ed(),gc=!0),Gg.add(e,n),n.C=0}}function Uw(n,e){var t;t=e?e.m:n.W++;const i=_o(n.I);oi(i,"SID",n.K),oi(i,"RID",t),oi(i,"AID",n.V),cf(n,i),n.o&&n.s&&au(i,n.o,n.s),t=new bc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=KT(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),sl(n.i,t),rs(t,i,e)}function cf(n,e){n.na&&ut(n.na,function(t,i){oi(e,i,t)}),n.h&&lv({},function(t,i){oi(e,i,t)})}function KT(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Pi(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let d=!0;for(let f=0;f<t;f++){let g=r[f].g;const b=r[f].map;if(g-=s,0>g)s=Math.max(0,r[f].g-100),d=!1;else try{i_(b,o,"req"+g+"_")}catch{i&&i(b)}}if(d){i=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function ZT(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ed||iv(),gc||(Ed(),gc=!0),Gg.add(e,n),n.A=0}}function wv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ef(Pi(n.Ma,n),Iv(n,n.A)),n.A++,0))}function Pd(n){null!=n.B&&(an.clearTimeout(n.B),n.B=null)}function YT(n){n.g=new bc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=_o(n.wa);oi(e,"RID","rpc"),oi(e,"SID",n.K),oi(e,"AID",n.V),oi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&oi(e,"TO",n.qa),oi(e,"TYPE","xmlhttp"),cf(n,e),n.o&&n.s&&au(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=rl(_o(e)),t.s=null,t.S=!0,ru(t,n)}function Ev(n){null!=n.v&&(an.clearTimeout(n.v),n.v=null)}function QT(n,e){var t=null;if(n.g==e){Ev(n),Pd(n),n.g=null;var i=2}else{if(!Ca(n.i,e))return;t=e.F,yi(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Hr(i=Td(),new ov(i,t)),sf(n)}else ZT(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function af(n,e){return!(vs(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ef(Pi(n.Na,n,e),Iv(n,n.C)),n.C++,0)))}(n,e)||2==i&&wv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:lf(n,5);break;case 4:lf(n,10);break;case 3:lf(n,6);break;default:lf(n,2)}}function Iv(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function lf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Pi(n.pb,n);t||(t=new Ec("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||Zm(t,"https"),rl(t)),function fv(n,e){const t=new tu;if(an.Image){const i=new Image;i.onload=lc(Md,t,i,"TestLoadImage: loaded",!0,e),i.onerror=lc(Md,t,i,"TestLoadImage: error",!1,e),i.onabort=lc(Md,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=lc(Md,t,i,"TestLoadImage: timeout",!1,e),an.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else is(2);n.H=0,n.h&&n.h.za(e),jw(n),bv(n)}function jw(n){if(n.H=0,n.ma=[],n.h){const e=n_(n.i);(0!=e.length||0!=n.j.length)&&(fd(n.ma,e),fd(n.ma,n.j),n.i.i.length=0,Xl(n.j),n.j.length=0),n.h.ya()}}function XT(n,e,t){var i=t instanceof Ec?_o(t):new Ec(t);if(""!=i.g)e&&(i.g=e+"."+i.g),yo(i,i.m);else{var r=an.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Ec(null);i&&Zm(s,i),e&&(s.g=e),r&&yo(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&oi(i,t,e),oi(i,"VER",n.ra),cf(n,i),i}function zw(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ji(t&&n.Ha&&!n.va?new kd({ob:!0}):n.va)).Oa(n.J),e}function xv(){if(xa&&!(10<=Number(T)))throw Error("Environmental error: no available transport.")}function bs(n,e){pr.call(this),this.g=new yv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Jl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jl(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new al(this)}function JT(n){Zg.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function uf(){Yg.call(this),this.status=1}function al(n){this.g=n}function Aa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Hw(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;o=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((r=s+((o=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function ii(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(bt=ji.prototype).Oa=function(n){this.M=n},bt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qg.g(),this.C=function Cd(n){return n.h||(n.h=n.i())}(this.u?this.u:Qg),this.g.onreadystatechange=Pi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void Fw(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=an.FormData&&n instanceof an.FormData,!(0<=uc(I2,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gv(this),0<this.B&&((this.L=function G1(n){return xa&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pi(this.ua,this)):this.A=Id(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Fw(this,s)}},bt.ua=function(){typeof Ql<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hr(this,"timeout"),this.abort(8))},bt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hr(this,"complete"),Hr(this,"abort"),Vw(this))},bt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vw(this,!0)),ji.$.N.call(this)},bt.La=function(){this.s||(this.G||this.v||this.l?pv(this):this.kb())},bt.kb=function(){pv(this)},bt.isActive=function(){return!!this.g},bt.da=function(){try{return 2<ol(this)?this.g.status:-1}catch{return-1}},bt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},bt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ow(e)}},bt.Ia=function(){return this.m},bt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(bt=yv.prototype).ra=8,bt.H=1,bt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new bc(this,this.l,n);let s=this.s;if(this.U&&(s?(s=Ft(s),rn(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=KT(this,r,e),oi(t=_o(this.I),"RID",n),oi(t,"CVER",22),this.F&&oi(t,"X-HTTP-Session-Id",this.F),cf(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(Bw(s)))+"&"+e:this.o&&au(t,this.o,s)),sl(this.i,r),this.bb&&oi(t,"TYPE","init"),this.P?(oi(t,"$req",e),oi(t,"SID","null"),r.aa=!0,rs(r,t,null)):rs(r,t,e),this.H=2}}else 3==this.H&&(n?Uw(this,n):0==this.j.length||gn(this.i)||Uw(this))},bt.Ma=function(){if(this.u=null,YT(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ef(Pi(this.jb,this),n)}},bt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,is(10),vv(this),YT(this))},bt.ib=function(){null!=this.v&&(this.v=null,vv(this),wv(this),is(19))},bt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),is(2)):(this.l.info("Failed to ping google.com"),is(1))},bt.isActive=function(){return!!this.h&&this.h.isActive(this)},(bt=function q1(){}.prototype).Ba=function(){},bt.Aa=function(){},bt.za=function(){},bt.ya=function(){},bt.isActive=function(){return!0},bt.Va=function(){},xv.prototype.g=function(n,e){return new bs(n,e)},bs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;is(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=XT(n,null,n.Y),sf(n)},bs.prototype.close=function(){Qm(this.g)},bs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=$g(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&sf(e)},bs.prototype.N=function(){this.g.h=null,delete this.j,Qm(this.g),delete this.g,bs.$.N.call(this)},al.prototype.Ba=function(){Hr(this.g,"a")},al.prototype.Aa=function(n){Hr(this.g,new JT(n))},al.prototype.za=function(n){Hr(this.g,new uf)},al.prototype.ya=function(){Hr(this.g,"b")},Aa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Aa.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)Hw(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){Hw(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){Hw(this,i),r=0;break}}this.h=r,this.i+=e},Aa.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var K1={};function Tv(n){return-128<=n&&128>n?function md(n,e){var t=K1;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ii([0|e],0>e?-1:0)}):new ii([0|n],0>n?-1:0)}function Ic(n){if(isNaN(n)||!isFinite(n))return Xm;if(0>n)return ws(Ic(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=s_;return new ii(e,0)}var s_=4294967296,Xm=Tv(0),o_=Tv(1),Jm=Tv(16777216);function cu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Sa(n){return-1==n.h}function ws(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new ii(t,~n.h).add(o_)}function Av(n,e){return n.add(ws(e))}function Sv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function a_(n,e){this.g=n,this.h=e}function Dv(n,e){if(cu(e))throw Error("division by zero");if(cu(n))return new a_(Xm,Xm);if(Sa(n))return e=Dv(ws(n),e),new a_(ws(e.g),ws(e.h));if(Sa(e))return e=Dv(n,ws(e)),new a_(ws(e.g),e.h);if(30<n.g.length){if(Sa(n)||Sa(e))throw Error("slowDivide_ only works with positive integers.");for(var t=o_,i=e;0>=i.X(n);)t=df(t),i=df(i);var r=vo(t,1),s=vo(i,1);for(i=vo(i,2),t=vo(t,2);!cu(i);){var o=s.add(i);0>=o.X(n)&&(r=r.add(t),s=o),i=vo(i,1),t=vo(t,1)}return e=Av(n,r.R(e)),new a_(r,e)}for(r=Xm;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),o=(s=Ic(t)).R(e);Sa(o)||0<o.X(n);)o=(s=Ic(t-=i)).R(e);cu(s)&&(s=o_),r=r.add(s),n=Av(n,o)}return new a_(r,n)}function df(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new ii(t,n.h)}function vo(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new ii(r,n.h)}(bt=ii.prototype).ea=function(){if(Sa(this))return-ws(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:s_+i)*e,e*=s_}return n},bt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(cu(this))return"0";if(Sa(this))return"-"+ws(this).toString(n);for(var e=Ic(Math.pow(n,6)),t=this,i="";;){var r=Dv(t,e).g,s=((0<(t=Av(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(cu(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},bt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},bt.X=function(n){return Sa(n=Av(this,n))?-1:cu(n)?0:1},bt.abs=function(){return Sa(this)?ws(this):this},bt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),o=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=o>>>16,t[r]=(o&=65535)<<16|(s&=65535)}return new ii(t,-2147483648&t[t.length-1]?-1:0)},bt.R=function(n){if(cu(this)||cu(n))return Xm;if(Sa(this))return Sa(n)?ws(this).R(ws(n)):ws(ws(this).R(n));if(Sa(n))return ws(this.R(ws(n)));if(0>this.X(Jm)&&0>n.X(Jm))return Ic(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,o=65535&this.D(i),d=n.D(r)>>>16,f=65535&n.D(r);t[2*i+2*r]+=o*f,Sv(t,2*i+2*r),t[2*i+2*r+1]+=s*f,Sv(t,2*i+2*r+1),t[2*i+2*r+1]+=o*d,Sv(t,2*i+2*r+1),t[2*i+2*r+2]+=s*d,Sv(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new ii(t,0)},bt.gb=function(n){return Dv(this,n).h},bt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new ii(t,this.h&n.h)},bt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new ii(t,this.h|n.h)},bt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new ii(t,this.h^n.h)},xv.prototype.createWebChannel=xv.prototype.g,bs.prototype.send=bs.prototype.u,bs.prototype.open=bs.prototype.m,bs.prototype.close=bs.prototype.close,Gm.NO_ERROR=0,Gm.TIMEOUT=8,Gm.HTTP_ERROR=6,iu.COMPLETE="complete",Wm.EventType=Ta,Ta.OPEN="a",Ta.CLOSE="b",Ta.ERROR="c",Ta.MESSAGE="d",pr.prototype.listen=pr.prototype.O,ji.prototype.listenOnce=ji.prototype.P,ji.prototype.getLastError=ji.prototype.Sa,ji.prototype.getLastErrorCode=ji.prototype.Ia,ji.prototype.getStatus=ji.prototype.da,ji.prototype.getResponseJson=ji.prototype.Wa,ji.prototype.getResponseText=ji.prototype.ja,ji.prototype.send=ji.prototype.ha,ji.prototype.setWithCredentials=ji.prototype.Oa,Aa.prototype.digest=Aa.prototype.l,Aa.prototype.reset=Aa.prototype.reset,Aa.prototype.update=Aa.prototype.j,ii.prototype.add=ii.prototype.add,ii.prototype.multiply=ii.prototype.R,ii.prototype.modulo=ii.prototype.gb,ii.prototype.compare=ii.prototype.X,ii.prototype.toNumber=ii.prototype.ea,ii.prototype.toString=ii.prototype.toString,ii.prototype.getBits=ii.prototype.D,ii.fromNumber=Ic,ii.fromString=function Cv(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ws(Cv(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ic(Math.pow(e,8)),i=Xm,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),o=parseInt(n.substring(r,r+s),e);8>s?(s=Ic(Math.pow(e,s)),i=i.R(s).add(Ic(o))):i=(i=i.R(t)).add(Ic(o))}return i};var Z1=Ks.createWebChannelTransport=function(){return new xv},Y1=Ks.getStatEventTarget=function(){return Td()},eC=Ks.ErrorCode=Gm,x2=Ks.EventType=iu,tC=Ks.Event=tl,Q1=Ks.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nC=Ks.FetchXmlHttpFactory=kd,c_=Ks.WebChannel=Wm,X1=Ks.XhrIo=ji,iC=Ks.Md5=Aa,ep=Ks.Integer=ii;class ai{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ai.UNAUTHENTICATED=new ai(null),ai.GOOGLE_CREDENTIALS=new ai("google-credentials-uid"),ai.FIRST_PARTY=new ai("first-party-uid"),ai.MOCK_USER=new ai("mock-user");let tp="9.23.0";const lu=new qo.Yd("@firebase/firestore");function $w(){return lu.logLevel}function nt(n,...e){if(lu.logLevel<=qo.in.DEBUG){const t=e.map(Gw);lu.debug(`Firestore (${tp}): ${n}`,...t)}}function gr(n,...e){if(lu.logLevel<=qo.in.ERROR){const t=e.map(Gw);lu.error(`Firestore (${tp}): ${n}`,...t)}}function Zo(n,...e){if(lu.logLevel<=qo.in.WARN){const t=e.map(Gw);lu.warn(`Firestore (${tp}): ${n}`,...t)}}function Gw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ot(n="Unexpected state"){const e=`FIRESTORE (${tp}) INTERNAL ASSERTION FAILED: `+n;throw gr(e),new Error(e)}function $t(n,e){n||Ot()}function xt(n,e){return n}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ke extends Tn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class oC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ai.UNAUTHENTICATED))}shutdown(){}}class tk{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=ai.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class nk{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new tk(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ai.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function hf(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class lC{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=hf(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function cn(n,e){return n<e?-1:n>e?1:0}function Od(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class zi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ke(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ke(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ke(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ke(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zi.fromMillis(Date.now())}static fromDate(e){return zi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new zi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Gt(e)}static min(){return new Gt(new zi(0,0))}static max(){return new Gt(new zi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Mv{constructor(e,t,i){void 0===t?t=0:t>e.length&&Ot(),void 0===i?i=e.length-t:i>e.length-t&&Ot(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Mv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mv?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vn extends Mv{construct(e,t,i){return new Vn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Vn(t)}static emptyPath(){return new Vn([])}}const dC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends Mv{construct(e,t,i){return new _r(e,t,i)}static isValidIdentifier(e){return dC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new Ke(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Ke(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else"`"===d?(o=!o,r++):"."!==d||o?(i+=d,r++):(s(),r++)}if(s(),o)throw new Ke(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(t)}static emptyPath(){return new _r([])}}class wt{constructor(e){this.path=e}static fromPath(e){return new wt(Vn.fromString(e))}static fromName(e){return new wt(Vn.fromString(e).popFirst(5))}static empty(){return new wt(Vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wt(new Vn(e.slice()))}}function mC(n){return new Yo(n.readTime,n.key,-1)}class Yo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Yo(Gt.min(),wt.empty(),-1)}static max(){return new Yo(Gt.max(),wt.empty(),-1)}}function Ww(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=wt.comparator(n.documentKey,e.documentKey),0!==t?t:cn(n.largestBatchId,e.largestBatchId))}const Kw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function du(n){return Pv.apply(this,arguments)}function Pv(){return Pv=(0,re.Z)(function*(n){if(n.code!==Ae.FAILED_PRECONDITION||n.message!==Kw)throw n;nt("LocalStore","Unexpectedly lost primary lease")}),Pv.apply(this,arguments)}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):be.reject(t)}static resolve(e){return new be((t,i)=>{t(e)})}static reject(e){return new be((t,i)=>{i(e)})}static waitFor(e){return new be((t,i)=>{let r=0,s=0,o=!1;e.forEach(d=>{++r,d.next(()=>{++s,o&&s===r&&t()},f=>i(f))}),o=!0,s===r&&t()})}static or(e){let t=be.resolve(!1);for(const i of e)t=t.next(r=>r?be.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new be((i,r)=>{const s=e.length,o=new Array(s);let d=0;for(let f=0;f<s;f++){const g=f;t(e[g]).next(b=>{o[g]=b,++d,d===s&&i(o)},b=>r(b))}})}static doWhile(e,t){return new be((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}function Xo(n){return"IndexedDbTransactionError"===n.name}let ss=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function mf(n){return null==n}function hu(n){return 0===n&&1/n==-1/0}function xC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function TC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class vi{constructor(e,t){this.comparator=e,this.root=t||qr.EMPTY}insert(e,t){return new vi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qr.BLACK,null,null))}remove(e){return new vi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ea(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ea(this.root,e,this.comparator,!1)}getReverseIterator(){return new ea(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ea(this.root,e,this.comparator,!0)}}class ea{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??qr.RED,this.left=r??qr.EMPTY,this.right=s??qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new qr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return qr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)}}qr.EMPTY=null,qr.RED=!0,qr.BLACK=!1,qr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(n,e,t,i,r){return this}insert(n,e,t){return new qr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ti{constructor(e){this.comparator=e,this.data=new vi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CC(this.data.getIterator())}getIteratorFrom(e){return new CC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ti)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ti(this.comparator);return t.data=e,t}}class CC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bo{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new bo([])}unionWith(e){let t=new Ti(_r.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new bo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Od(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class AC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new AC("Invalid base64 string: "+r):r}}(e);return new yr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new yr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const yk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ld(n){if($t(!!n),"string"==typeof n){let e=0;const t=yk.exec(n);if($t(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ci(n.seconds),nanos:Ci(n.nanos)}}function Ci(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ma(n){return"string"==typeof n?yr.fromBase64String(n):yr.fromUint8Array(n)}function gf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function eE(n){const e=n.mapValue.fields.__previous_value__;return gf(e)?eE(e):e}function _f(n){const e=Ld(n.mapValue.fields.__local_write_time__.timestampValue);return new zi(e.seconds,e.nanos)}class C2{constructor(e,t,i,r,s,o,d,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=g}}class fu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}const mu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gf(n)?4:DC(n)?9007199254740991:10:Ot()}function ka(n,e){if(n===e)return!0;const t=pu(n);if(t!==pu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _f(n).isEqual(_f(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Ld(i.timestampValue),o=Ld(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Ma(n.bytesValue).isEqual(Ma(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ci(i.geoPointValue.latitude)===Ci(r.geoPointValue.latitude)&&Ci(i.geoPointValue.longitude)===Ci(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ci(i.integerValue)===Ci(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ci(i.doubleValue),o=Ci(r.doubleValue);return s===o?hu(s)===hu(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Od(n.arrayValue.values||[],e.arrayValue.values||[],ka);case 10:return function(i,r){const s=i.mapValue.fields||{},o=r.mapValue.fields||{};if(xC(s)!==xC(o))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===o[d]||!ka(s[d],o[d])))return!1;return!0}(n,e);default:return Ot()}var r}function ta(n,e){return void 0!==(n.values||[]).find(t=>ka(t,e))}function xc(n,e){if(n===e)return 0;const t=pu(n),i=pu(e);if(t!==i)return cn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return cn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const o=Ci(r.integerValue||r.doubleValue),d=Ci(s.integerValue||s.doubleValue);return o<d?-1:o>d?1:o===d?0:isNaN(o)?isNaN(d)?0:-1:1}(n,e);case 3:return f_(n.timestampValue,e.timestampValue);case 4:return f_(_f(n),_f(e));case 5:return cn(n.stringValue,e.stringValue);case 6:return function(r,s){const o=Ma(r),d=Ma(s);return o.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const o=r.split("/"),d=s.split("/");for(let f=0;f<o.length&&f<d.length;f++){const g=cn(o[f],d[f]);if(0!==g)return g}return cn(o.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const o=cn(Ci(r.latitude),Ci(s.latitude));return 0!==o?o:cn(Ci(r.longitude),Ci(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const o=r.values||[],d=s.values||[];for(let f=0;f<o.length&&f<d.length;++f){const g=xc(o[f],d[f]);if(g)return g}return cn(o.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===mu.mapValue&&s===mu.mapValue)return 0;if(r===mu.mapValue)return 1;if(s===mu.mapValue)return-1;const o=r.fields||{},d=Object.keys(o),f=s.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let b=0;b<d.length&&b<g.length;++b){const x=cn(d[b],g[b]);if(0!==x)return x;const k=xc(o[d[b]],f[g[b]]);if(0!==k)return k}return cn(d.length,g.length)}(n.mapValue,e.mapValue);default:throw Ot()}}function f_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return cn(n,e);const t=Ld(n),i=Ld(e),r=cn(t.seconds,i.seconds);return 0!==r?r:cn(t.nanos,i.nanos)}function cl(n){return tE(n)}function tE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ld(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ma(n.bytesValue).toBase64():"referenceValue"in n?wt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const o of i.values||[])s?s=!1:r+=",",r+=tE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",o=!0;for(const d of r)o?o=!1:s+=",",s+=`${d}:${tE(i.fields[d])}`;return s+"}"}(n.mapValue):Ot();var e}function Vd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function nE(n){return!!n&&"integerValue"in n}function p_(n){return!!n&&"arrayValue"in n}function np(n){return!!n&&"nullValue"in n}function SC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function iE(n){return!!n&&"mapValue"in n}function g_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fd(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=g_(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=g_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Es{constructor(e){this.value=e}static empty(){return new Es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!iE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=g_(t)}setAll(e){let t=_r.emptyPath(),i={},r=[];e.forEach((o,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=d.popLast()}o?i[d.lastSegment()]=g_(o):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());iE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ka(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];iE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Fd(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Es(g_(this.value))}}function rE(n){const e=[];return Fd(n.fields,(t,i)=>{const r=new _r([t]);if(iE(i)){const s=rE(i.mapValue).fields;if(0===s.length)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new bo(e)}class di{constructor(e,t,i,r,s,o,d){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=d}static newInvalidDocument(e){return new di(e,0,Gt.min(),Gt.min(),Gt.min(),Es.empty(),0)}static newFoundDocument(e,t,i,r){return new di(e,1,t,Gt.min(),i,r,0)}static newNoDocument(e,t){return new di(e,2,t,Gt.min(),Gt.min(),Es.empty(),0)}static newUnknownDocument(e,t){return new di(e,3,t,Gt.min(),Gt.min(),Es.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Gt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bd{constructor(e,t){this.position=e,this.inclusive=t}}function Uv(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(i=s.field.isKeyField()?wt.comparator(wt.fromName(o.referenceValue),t.key):xc(o,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function RC(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ka(n.position[t],e.position[t]))return!1;return!0}class ip{constructor(e,t="asc"){this.field=e,this.dir=t}}function wk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class PC{}class Sn extends PC{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Ik(e,t,i):"array-contains"===t?new ll(e,i):"in"===t?new sp(e,i):"not-in"===t?new Vs(e,i):"array-contains-any"===t?new yf(e,i):new Sn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new xk(e,i):new oE(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xc(t,this.value)):null!==t&&pu(this.value)===pu(t)&&this.matchesComparison(xc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ri extends PC{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ri(e,t)}matches(e){return rp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function rp(n){return"and"===n.op}function zv(n){return function OC(n){for(const e of n.filters)if(e instanceof ri)return!1;return!0}(n)&&rp(n)}function NC(n){if(n instanceof Sn)return n.field.canonicalString()+n.op.toString()+cl(n.value);if(zv(n))return n.filters.map(e=>NC(e)).join(",");{const e=n.filters.map(t=>NC(t)).join(",");return`${n.op}(${e})`}}function sE(n,e){return n instanceof Sn?(t=n,(i=e)instanceof Sn&&t.op===i.op&&t.field.isEqual(i.field)&&ka(t.value,i.value)):n instanceof ri?function(t,i){return i instanceof ri&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,o)=>r&&sE(s,i.filters[o]),!0)}(n,e):void Ot();var t,i}function __(n){return n instanceof Sn?`${(e=n).field.canonicalString()} ${e.op} ${cl(e.value)}`:n instanceof ri?function(e){return e.op.toString()+" {"+e.getFilters().map(__).join(" ,")+"}"}(n):"Filter";var e}class Ik extends Sn{constructor(e,t,i){super(e,t,i),this.key=wt.fromName(i.referenceValue)}matches(e){const t=wt.comparator(e.key,this.key);return this.matchesComparison(t)}}class xk extends Sn{constructor(e,t){super(e,"in",t),this.keys=FC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oE extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=FC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function FC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>wt.fromName(i.referenceValue))}class ll extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return p_(t)&&ta(t.arrayValue,this.value)}}class sp extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ta(this.value.arrayValue,t)}}class Vs extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ta(this.value.arrayValue,t)}}class yf extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!p_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ta(this.value.arrayValue,i))}}class Hv{constructor(e,t=null,i=[],r=[],s=null,o=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=d,this.dt=null}}function wo(n,e=null,t=[],i=[],r=null,s=null,o=null){return new Hv(n,e,t,i,r,s,o)}function gu(n){const e=xt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>NC(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),mf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>cl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>cl(i)).join(",")),e.dt=t}return e.dt}function ul(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!wk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!RC(n.startAt,e.startAt)&&RC(n.endAt,e.endAt)}function _u(n){return wt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Eo{constructor(e,t=null,i=[],r=[],s=null,o="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=d,this.endAt=f,this.wt=null,this._t=null}}function Tc(n){return new Eo(n)}function Ef(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function $v(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function y_(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Gv(n){return null!==n.collectionGroup}function Ud(n){const e=xt(n);if(null===e.wt){e.wt=[];const t=y_(e),i=$v(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new ip(t)),e.wt.push(new ip(_r.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ip(_r.keyField(),s))}}}return e.wt}function Bs(n){const e=xt(n);if(!e._t)if("F"===e.limitType)e._t=wo(e.path,e.collectionGroup,Ud(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ud(e))t.push(new ip(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Bd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Bd(e.startAt.position,e.startAt.inclusive):null;e._t=wo(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function qv(n,e){e.getFirstInequalityField(),y_(n);const t=n.filters.concat([e]);return new Eo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function v_(n,e,t){return new Eo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function op(n,e){return ul(Bs(n),Bs(e))&&n.limitType===e.limitType}function aE(n){return`${gu(Bs(n))}|lt:${n.limitType}`}function cE(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>__(i)).join(", ")}]`),mf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>cl(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>cl(i)).join(",")),`Target(${t})`}(Bs(n))}; limitType=${n.limitType})`}function b_(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):wt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Ud(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,o){const d=Uv(r,s,o);return r.inclusive?d<=0:d<0}(t.startAt,Ud(t),i)||t.endAt&&!function(r,s,o){const d=Uv(r,s,o);return r.inclusive?d>=0:d>0}(t.endAt,Ud(t),i)));var t,i}function LC(n){return(e,t)=>{let i=!1;for(const r of Ud(n)){const s=VC(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function VC(n,e,t){const i=n.field.isKeyField()?wt.comparator(e.key,t.key):function(r,s,o){const d=s.data.field(r),f=o.data.field(r);return null!==d&&null!==f?xc(d,f):Ot()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ot()}}class Cc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Fd(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return TC(this.inner)}size(){return this.innerSize}}const uE=new vi(wt.comparator);function Io(){return uE}const w_=new vi(wt.comparator);function jd(...n){let e=w_;for(const t of n)e=e.insert(t.key,t);return e}function Wv(n){let e=w_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function dl(){return If()}function Kv(){return If()}function If(){return new Cc(n=>n.toString(),(n,e)=>n.isEqual(e))}const BC=new vi(wt.comparator),UC=new Ti(wt.comparator);function pn(...n){let e=UC;for(const t of n)e=e.add(t);return e}const jC=new Ti(cn);function Yv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hu(e)?"-0":e}}function Qv(n){return{integerValue:""+n}}function zC(n,e){return function Fv(n){return"number"==typeof n&&Number.isInteger(n)&&!hu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Qv(e):Yv(n,e)}class E_{constructor(){this._=void 0}}function HC(n,e,t){return n instanceof ap?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&gf(r)&&(r=eE(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof zd?hE(n,e):n instanceof Hd?Xv(n,e):function(i,r){const s=dE(i,r),o=fE(s)+fE(i.gt);return nE(s)&&nE(i.gt)?Qv(o):Yv(i.serializer,o)}(n,e)}function $C(n,e,t){return n instanceof zd?hE(n,e):n instanceof Hd?Xv(n,e):t}function dE(n,e){return n instanceof xf?nE(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class ap extends E_{}class zd extends E_{constructor(e){super(),this.elements=e}}function hE(n,e){const t=mE(e);for(const i of n.elements)t.some(r=>ka(r,i))||t.push(i);return{arrayValue:{values:t}}}class Hd extends E_{constructor(e){super(),this.elements=e}}function Xv(n,e){let t=mE(e);for(const i of n.elements)t=t.filter(r=>!ka(r,i));return{arrayValue:{values:t}}}class xf extends E_{constructor(e,t){super(),this.serializer=e,this.gt=t}}function fE(n){return Ci(n.integerValue||n.doubleValue)}function mE(n){return p_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class qC{constructor(e,t){this.version=e,this.transformResults=t}}class Ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function I_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Tf{}function vu(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new lp(n.key,Ai.none()):new Gd(n.key,n.data,Ai.none());{const t=n.data,i=Es.empty();let r=new Ti(_r.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new bu(n.key,i,new bo(r.toArray()),Ai.none())}}function Tk(n,e,t){n instanceof Gd?function(i,r,s){const o=i.value.clone(),d=Ck(i.fieldTransforms,r,s.transformResults);o.setAll(d),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof bu?function(i,r,s){if(!I_(i.precondition,r))return void r.convertToUnknownDocument(s.version);const o=Ck(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(Jv(i)),d.setAll(o),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function x_(n,e,t,i){return n instanceof Gd?function(r,s,o,d){if(!I_(r.precondition,s))return o;const f=r.value.clone(),g=Ak(r.fieldTransforms,d,s);return f.setAll(g),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof bu?function(r,s,o,d){if(!I_(r.precondition,s))return o;const f=Ak(r.fieldTransforms,d,s),g=s.data;return g.setAll(Jv(r)),g.setAll(f),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null===o?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,e,t,i):(o=t,I_(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function pE(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=dE(i.transform,r||null);null!=s&&(null===t&&(t=Es.empty()),t.set(i.field,s))}return t||null}function $d(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Od(t,i,(r,s)=>function GC(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof zd&&i instanceof zd||t instanceof Hd&&i instanceof Hd?Od(t.elements,i.elements,ka):t instanceof xf&&i instanceof xf?ka(t.gt,i.gt):t instanceof ap&&i instanceof ap);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Gd extends Tf{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class bu extends Tf{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Jv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Ck(n,e,t){const i=new Map;$t(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,d=e.data.field(s.field);i.set(s.field,$C(o,d,t[r]))}return i}function Ak(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,HC(s,o,e))}return i}class lp extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gE extends Tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eb{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Tk(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=x_(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=x_(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Kv();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let d=this.applyToLocalView(o,s.mutatedFields);d=t.has(r.key)?null:d;const f=vu(o,d);null!==f&&i.set(r.key,f),o.isValidDocument()||o.convertToNoDocument(Gt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&Od(this.mutations,e.mutations,(t,i)=>$d(t,i))&&Od(this.baseMutations,e.baseMutations,(t,i)=>$d(t,i))}}class _E{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){$t(e.mutations.length===i.length);let r=BC;const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new _E(e,t,i,r)}}class vr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Sk{constructor(e,t){this.count=e,this.unchangedNames=t}}var Sr,Pn;function yE(n){if(void 0===n)return gr("GRPC error has no .code"),Ae.UNKNOWN;switch(n){case Sr.OK:return Ae.OK;case Sr.CANCELLED:return Ae.CANCELLED;case Sr.UNKNOWN:return Ae.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return Ae.INTERNAL;case Sr.UNAVAILABLE:return Ae.UNAVAILABLE;case Sr.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case Sr.NOT_FOUND:return Ae.NOT_FOUND;case Sr.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case Sr.ABORTED:return Ae.ABORTED;case Sr.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case Sr.DATA_LOSS:return Ae.DATA_LOSS;default:return Ot()}}(Pn=Sr||(Sr={}))[Pn.OK=0]="OK",Pn[Pn.CANCELLED=1]="CANCELLED",Pn[Pn.UNKNOWN=2]="UNKNOWN",Pn[Pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pn[Pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pn[Pn.NOT_FOUND=5]="NOT_FOUND",Pn[Pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pn[Pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pn[Pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pn[Pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pn[Pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pn[Pn.ABORTED=10]="ABORTED",Pn[Pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pn[Pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pn[Pn.INTERNAL=13]="INTERNAL",Pn[Pn.UNAVAILABLE=14]="UNAVAILABLE",Pn[Pn.DATA_LOSS=15]="DATA_LOSS";class tb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return wu}static getOrCreateInstance(){return null===wu&&(wu=new tb),wu}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let wu=null;const Dk=new ep([4294967295,4294967295],0);function vE(n){const e=function ZC(){return new TextEncoder}().encode(n),t=new iC;return t.update(e),new Uint8Array(t.digest())}function YC(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ep([t,i],0),new ep([r,s],0)]}class nb{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ib(`Invalid padding: ${t}`);if(i<0)throw new ib(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new ib(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new ib(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ep.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(ep.fromNumber(i)));return 1===r.compare(Dk)&&(r=new ep([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=vE(e),[i,r]=YC(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(i,r,s);if(!this.At(o))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new nb(s,r,t);return i.forEach(d=>o.insert(d)),o}insert(e){if(0===this.It)return;const t=vE(e),[i,r]=YC(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(i,r,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ib extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cf{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Af.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Cf(Gt.min(),r,new vi(cn),Io(),pn())}}class Af{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Af(i,t,pn(),pn(),pn())}}class na{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class QC{constructor(e,t){this.targetId=e,this.Vt=t}}class XC{constructor(e,t,i=yr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Ac{constructor(){this.St=0,this.Dt=bE(),this.Ct=yr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=pn(),t=pn(),i=pn();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Ot()}}),new Af(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=bE()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Sc{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Io(),this.zt=Ra(),this.Wt=new vi(cn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:Ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const o=s.target;if(_u(o))if(0===r){const d=new wt(o.path);this.Yt(i,d,di.newNoDocument(d,Gt.min()))}else $t(1===r);else{const d=this.ie(i);if(d!==r){const f=this.re(e,d);0!==f&&(this.ee(i),this.Wt=this.Wt.insert(i,2===f?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=tb.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(g,b,x){var k,N,V,$,W,Te;const Ne={localCacheCount:b,existenceFilterCount:x.count},Pe=x.unchangedNames;return Pe&&(Ne.bloomFilter={applied:0===g,hashCount:null!==(k=Pe?.hashCount)&&void 0!==k?k:0,bitmapLength:null!==($=null===(V=null===(N=Pe?.bits)||void 0===N?void 0:N.bitmap)||void 0===V?void 0:V.length)&&void 0!==$?$:0,padding:null!==(Te=null===(W=Pe?.bits)||void 0===W?void 0:W.padding)&&void 0!==Te?Te:0}),Ne}(f,d,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:d=0}=i;let f,g;try{f=Ma(s).toUint8Array()}catch(b){if(b instanceof AC)return Zo("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{g=new nb(f,o,d)}catch(b){return Zo(b instanceof ib?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===g.It?1:r!==t-this.oe(e.targetId,g)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Gt.ue(),d=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(d)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const d=this.se(o);if(d){if(s.current&&_u(d.target)){const f=new wt(d.target.path);null!==this.jt.get(f)||this.ae(o,f)||this.Yt(o,f,di.newNoDocument(f,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let i=pn();this.zt.forEach((s,o)=>{let d=!0;o.forEachWhile(f=>{const g=this.se(f);return!g||"TargetPurposeLimboResolution"===g.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const r=new Cf(e,t,this.Wt,this.jt,i);return this.jt=Io(),this.zt=Ra(),this.Wt=new vi(cn),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Ac,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ti(cn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||nt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Ac),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Ra(){return new vi(wt.comparator)}function bE(){return new vi(wt.comparator)}const JC=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Mk=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),kk=(()=>({and:"AND",or:"OR"}))();class Rk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wE(n,e){return n.useProto3Json||mf(e)?e:{value:e}}function qd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function up(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Pk(n,e){return qd(n,e.toTimestamp())}function rr(n){return $t(!!n),Gt.fromTimestamp(function(e){const t=Ld(e);return new zi(t.seconds,t.nanos)}(n))}function EE(n,e){return(t=n,new Vn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function eA(n){const e=Vn.fromString(n);return $t(sA(e)),e}function dp(n,e){return EE(n.databaseId,e.path)}function Dc(n,e){const t=eA(e);if(t.get(1)!==n.databaseId.projectId)throw new Ke(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ke(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new wt(IE(t))}function hp(n,e){return EE(n.databaseId,e)}function fp(n){return new Vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IE(n){return $t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function rb(n,e,t){return{name:dp(n,e),fields:t.value.mapValue.fields}}function CE(n,e){return{documents:[hp(n,e.path)]}}function ob(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=hp(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=hp(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0!==f.length)return rA(ri.create(f,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(g=>{return{field:Wd((b=g).field),direction:Nk(b.dir)};var b})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=wE(n,e.limit);var d,f;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(f=e.endAt).inclusive,values:f.position}),t}function AE(n){let e=function tA(n){const e=eA(n);return 4===e.length?Vn.emptyPath():IE(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){$t(1===i);const b=t.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=function(b){const x=iA(b);return x instanceof ri&&zv(x)?x.getFilters():[x]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(b=>{return new ip(pp((x=b).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let d=null;t.limit&&(d=function(b){let x;return x="object"==typeof b?b.value:b,mf(x)?null:x}(t.limit));let f=null;var b;t.startAt&&(f=new Bd((b=t.startAt).values||[],!!b.before));let g=null;return t.endAt&&(g=function(b){return new Bd(b.values||[],!b.before)}(t.endAt)),function wf(n,e,t,i,r,s,o,d){return new Eo(n,e,t,i,r,s,o,d)}(e,r,o,s,d,"F",f,g)}function iA(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=pp(e.unaryFilter.field);return Sn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=pp(e.unaryFilter.field);return Sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pp(e.unaryFilter.field);return Sn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=pp(e.unaryFilter.field);return Sn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}(n):void 0!==n.fieldFilter?Sn.create(pp((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ri.create(e.compositeFilter.filters.map(t=>iA(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ot()}}(e.compositeFilter.op))}(n):Ot();var e}function Nk(n){return JC[n]}function Fk(n){return Mk[n]}function Lk(n){return kk[n]}function Wd(n){return{fieldPath:n.canonicalString()}}function pp(n){return _r.fromServerFormat(n.fieldPath)}function rA(n){return n instanceof Sn?function(e){if("=="===e.op){if(SC(e.value))return{unaryFilter:{field:Wd(e.field),op:"IS_NAN"}};if(np(e.value))return{unaryFilter:{field:Wd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(SC(e.value))return{unaryFilter:{field:Wd(e.field),op:"IS_NOT_NAN"}};if(np(e.value))return{unaryFilter:{field:Wd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wd(e.field),op:Fk(e.op),value:e.value}}}(n):n instanceof ri?function(e){const t=e.getFilters().map(i=>rA(i));return 1===t.length?t[0]:{compositeFilter:{op:Lk(e.op),filters:t}}}(n):Ot()}function Vk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sA(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Eu{constructor(e,t,i,r,s=Gt.min(),o=Gt.min(),d=yr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Eu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oA{constructor(e){this.fe=e}}function cb(n){const e=AE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?v_(e,e.limit,"L"):e}class ia{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ci(e.integerValue));else if("doubleValue"in e){const i=Ci(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),hu(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ma(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?DC(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ot()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),wt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}ia.Ve=new ia;class hA{constructor(){this.rn=new db}addToCollectionParentIndex(e,t){return this.rn.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(Yo.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(Yo.min())}updateCollectionGroup(e,t,i){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class db{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Ti(Vn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ti(Vn.comparator)).toArray()}}class Dr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Dr(e,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Dr.DEFAULT_COLLECTION_PERCENTILE=10,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dr.DEFAULT=new Dr(41943040,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dr.DISABLED=new Dr(-1,0,0);class Pf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Pf(0)}static Mn(){return new Pf(-1)}}class IA{constructor(){this.changes=new Cc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,di.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?be.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wp{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&x_(i.mutation,r,bo.empty(),zi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,pn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=pn()){const r=dl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=jd();return s.forEach((d,f)=>{o=o.insert(d,f.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=dl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,pn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,d)=>{t.set(o,d)})})}computeViews(e,t,i,r){let s=Io();const o=If(),d=If();return t.forEach((f,g)=>{const b=i.get(g.key);r.has(g.key)&&(void 0===b||b.mutation instanceof bu)?s=s.insert(g.key,g):void 0!==b?(o.set(g.key,b.mutation.getFieldMask()),x_(b.mutation,g,b.mutation.getFieldMask(),zi.now())):o.set(g.key,bo.empty())}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((g,b)=>o.set(g,b)),t.forEach((g,b)=>{var x;return d.set(g,new CA(b,null!==(x=o.get(g))&&void 0!==x?x:null))}),d))}recalculateAndSaveOverlays(e,t){const i=If();let r=new vi((o,d)=>o-d),s=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const d of o)d.keys().forEach(f=>{const g=t.get(f);if(null===g)return;let b=i.get(f)||bo.empty();b=d.applyToLocalView(g,b),i.set(f,b);const x=(r.get(d.batchId)||pn()).add(f);r=r.insert(d.batchId,x)})}).next(()=>{const o=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),g=f.key,b=f.value,x=Kv();b.forEach(k=>{if(!s.has(k)){const N=vu(t.get(k),i.get(k));null!==N&&x.set(k,N),s=s.add(k)}}),o.push(this.documentOverlayCache.saveOverlays(e,g,x))}return be.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return wt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Gv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):be.resolve(dl());let d=-1,f=s;return o.next(g=>be.forEach(g,(b,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),s.get(b)?be.resolve():this.remoteDocumentCache.getEntry(e,b).next(k=>{f=f.insert(b,k)}))).next(()=>this.populateOverlays(e,g,s)).next(()=>this.computeViews(e,f,g,pn())).next(b=>({batchId:d,changes:Wv(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wt(t)).next(i=>{let r=jd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=jd();return this.indexManager.getCollectionParents(e,r).next(o=>be.forEach(o,d=>{const f=(g=t,b=d.child(r),new Eo(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,b;return this.getDocumentsMatchingCollectionQuery(e,f,i).next(g=>{g.forEach((b,x)=>{s=s.insert(b,x)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((d,f)=>{const g=f.getKey();null===s.get(g)&&(s=s.insert(g,di.newInvalidDocument(g)))});let o=jd();return s.forEach((d,f)=>{const g=r.get(d);void 0!==g&&x_(g.mutation,f,bo.empty(),zi.now()),b_(t,f)&&(o=o.insert(d,f))}),o})}}class Gk{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return be.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:rr(i.createTime)}),be.resolve()}getNamedQuery(e,t){return be.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:cb(i.bundledQuery),readTime:rr(i.readTime)}),be.resolve();var i}}class qk{constructor(){this.overlays=new vi(wt.comparator),this.ls=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const i=dl();return be.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),be.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),be.resolve()}getOverlaysForCollection(e,t,i){const r=dl(),s=t.length+1,o=new wt(t.child("")),d=this.overlays.getIteratorFrom(o);for(;d.hasNext();){const f=d.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return be.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new vi((g,b)=>g-b);const o=this.overlays.getIterator();for(;o.hasNext();){const g=o.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let b=s.get(g.largestBatchId);null===b&&(b=dl(),s=s.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const d=dl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,b)=>d.set(g,b)),!(d.size()>=r)););return be.resolve(d)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new vr(t,i));let s=this.ls.get(t);void 0===s&&(s=pn(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class BE{constructor(){this.fs=new Ti(as.ds),this.ws=new Ti(as._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new as(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new as(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new wt(new Vn([])),i=new as(t,e),r=new as(t,e+1),s=[];return this.ws.forEachInRange([i,r],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new wt(new Vn([])),i=new as(t,e),r=new as(t,e+1);let s=pn();return this.ws.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new as(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class as{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return wt.comparator(e.key,t.key)||cn(e.As,t.As)}static _s(e,t){return cn(e.As,t.As)||wt.comparator(e.key,t.key)}}class M2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ti(as.ds)}checkEmpty(e){return be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const o=new eb(s,t,i,r);this.mutationQueue.push(o);for(const d of r)this.Rs=this.Rs.add(new as(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return be.resolve(o)}lookupMutationBatch(e,t){return be.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new as(t,0),r=new as(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],o=>{const d=this.Ps(o.As);s.push(d)}),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ti(cn);return t.forEach(r=>{const s=new as(r,0),o=new as(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],d=>{i=i.add(d.As)})}),be.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;wt.isDocumentKey(s)||(s=s.child(""));const o=new as(new wt(s),0);let d=new Ti(cn);return this.Rs.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(d=d.add(f.As)),!0)},o),be.resolve(this.Vs(d))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){$t(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return be.forEach(t.mutations,r=>{const s=new as(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new as(t,0),r=this.Rs.firstAfterOrEqual(i);return be.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return be.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Wk{constructor(e){this.Ds=e,this.docs=new vi(wt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return be.resolve(i?i.document.mutableCopy():di.newInvalidDocument(t))}getEntries(e,t){let i=Io();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():di.newInvalidDocument(r))}),be.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Io();const o=t.path,d=new wt(o.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:g,value:{document:b}}=f.getNext();if(!o.isPrefixOf(g.path))break;g.path.length>o.length+1||Ww(mC(b),i)<=0||(r.has(b.key)||b_(t,b))&&(s=s.insert(b.key,b.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Ot()}Cs(e,t){return be.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new AA(this)}getSize(e){return be.resolve(this.size)}}class AA extends IA{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),be.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Kk{constructor(e){this.persistence=e,this.xs=new Cc(t=>gu(t),ul),this.lastRemoteSnapshotVersion=Gt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new BE,this.targetCount=0,this.Ms=Pf.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),be.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Pf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Fn(t),be.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((o,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),be.waitFor(s).next(()=>r)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return be.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),be.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),be.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),be.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return be.resolve(i)}containsKey(e,t){return be.resolve(this.ks.containsKey(t))}}class UE{constructor(e,t){this.$s={},this.overlays={},this.Os=new ss(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Kk(this),this.indexManager=new hA,this.remoteDocumentCache=new Wk(i=>this.referenceDelegate.Ls(i)),this.serializer=new oA(t),this.qs=new Gk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new M2(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){nt("MemoryPersistence","Starting transaction:",e);const r=new k_(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return be.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class k_ extends pC{constructor(e){super(),this.currentSequenceNumber=e}}class gb{constructor(e){this.persistence=e,this.Qs=new BE,this.js=null}static zs(e){return new gb(e)}get Ws(){if(this.js)return this.js;throw Ot()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),be.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),be.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Ws,i=>{const r=wt.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,Gt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return be.or([()=>be.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class yb{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=pn(),r=pn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new yb(e,t.fromCache,i,r)}}class $E{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(Ef(t))return be.resolve(null);let i=Bs(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=v_(t,null,"F"),i=Bs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=pn(...s);return this.Ui.getDocuments(e,o).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const g=this.ji(t,d);return this.zi(t,g,o,f.readTime)?this.Ki(e,v_(t,null,"F")):this.Wi(e,g,t,f)}))})))}Gi(e,t,i,r){return Ef(t)||r.isEqual(Gt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const o=this.ji(t,s);return this.zi(t,o,i,r)?this.Qi(e,t):($w()<=qo.in.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cE(t)),this.Wi(e,o,t,function fC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Gt.fromTimestamp(1e9===i?new zi(t+1,0):new zi(t,i));return new Yo(r,wt.empty(),e)}(r,-1)))})}ji(e,t){let i=new Ti(LC(e));return t.forEach((r,s)=>{b_(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return $w()<=qo.in.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",cE(t)),this.Ui.getDocumentsMatchingQuery(e,t,Yo.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Yk{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new vi(cn),this.Yi=new Cc(s=>gu(s),ul),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function DA(n,e){return O_.apply(this,arguments)}function O_(){return O_=(0,re.Z)(function*(n,e){const t=xt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],d=[];let f=pn();for(const g of r){o.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}for(const g of s){d.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}return t.localDocuments.getDocuments(i,f).next(g=>({er:g,removedBatchIds:o,addedBatchIds:d}))})})}),O_.apply(this,arguments)}function GE(n){const e=xt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Jk(n,e){const t=xt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function xp(n,e,t){return qE.apply(this,arguments)}function qE(){return qE=(0,re.Z)(function*(n,e,t){const i=xt(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Xo(o))throw o;nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),qE.apply(this,arguments)}function vb(n,e,t){const i=xt(n);let r=Gt.min(),s=pn();return i.persistence.runTransaction("Execute query","readonly",o=>function(d,f,g){const b=xt(d),x=b.Yi.get(g);return void 0!==x?be.resolve(b.Ji.get(x)):b.Bs.getTargetData(f,g)}(i,o,Bs(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(o,d.targetId).next(f=>{s=f})}).next(()=>i.Hi.getDocumentsMatchingQuery(o,e,t?r:Gt.min(),t?s:pn())).next(d=>(function KE(n,e,t){let i=n.Xi.get(e)||Gt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}(i,function lE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),d),{documents:d,ir:s})))}class XE{constructor(){this.activeTargetIds=function Zv(){return jC}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NA{constructor(){this.Hr=new XE,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new XE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FA{Yr(e){}shutdown(){}}class Of{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let L_=null;function JE(){return null===L_?L_=268435456+Math.round(2147483648*Math.random()):L_++,"0x"+L_.toString(16)}const k2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LA{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const cs="WebChannelConnection";class tR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const o=JE(),d=this.To(e,t);nt("RestConnection",`Sending RPC '${e}' ${o}:`,d,i);const f={};return this.Eo(f,r,s),this.Ao(e,d,f,i).then(g=>(nt("RestConnection",`Received RPC '${e}' ${o}: `,g),g),g=>{throw Zo("RestConnection",`RPC '${e}' ${o} failed with error: `,g,"url: ",d,"request:",i),g})}vo(e,t,i,r,s,o){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+tp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${k2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=JE();return new Promise((o,d)=>{const f=new X1;f.setWithCredentials(!0),f.listenOnce(x2.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case eC.NO_ERROR:const b=f.getResponseJson();nt(cs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(b)),o(b);break;case eC.TIMEOUT:nt(cs,`RPC '${e}' ${s} timed out`),d(new Ke(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case eC.HTTP_ERROR:const x=f.getStatus();if(nt(cs,`RPC '${e}' ${s} failed with status:`,x,"response text:",f.getResponseText()),x>0){let k=f.getResponseJson();Array.isArray(k)&&(k=k[0]);const N=k?.error;if(N&&N.status&&N.message){const V=function($){const W=$.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(W)>=0?W:Ae.UNKNOWN}(N.status);d(new Ke(V,N.message))}else d(new Ke(Ae.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ke(Ae.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{nt(cs,`RPC '${e}' ${s} completed.`)}});const g=JSON.stringify(r);nt(cs,`RPC '${e}' ${s} sending request:`,r),f.send(t,"POST",g,i,15)})}Ro(e,t,i){const r=JE(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Z1(),d=Y1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;void 0!==g&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.xmlHttpFactory=new nC({})),this.Eo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const b=s.join("");nt(cs,`Creating RPC '${e}' stream ${r}: ${b}`,f);const x=o.createWebChannel(b,f);let k=!1,N=!1;const V=new LA({ro:W=>{N?nt(cs,`Not sending because RPC '${e}' stream ${r} is closed:`,W):(k||(nt(cs,`Opening RPC '${e}' stream ${r} transport.`),x.open(),k=!0),nt(cs,`RPC '${e}' stream ${r} sending:`,W),x.send(W))},oo:()=>x.close()}),$=(W,Te,Ne)=>{W.listen(Te,Pe=>{try{Ne(Pe)}catch(Ze){setTimeout(()=>{throw Ze},0)}})};return $(x,c_.EventType.OPEN,()=>{N||nt(cs,`RPC '${e}' stream ${r} transport opened.`)}),$(x,c_.EventType.CLOSE,()=>{N||(N=!0,nt(cs,`RPC '${e}' stream ${r} transport closed`),V.wo())}),$(x,c_.EventType.ERROR,W=>{N||(N=!0,Zo(cs,`RPC '${e}' stream ${r} transport errored:`,W),V.wo(new Ke(Ae.UNAVAILABLE,"The operation could not be completed")))}),$(x,c_.EventType.MESSAGE,W=>{var Te;if(!N){const Ne=W.data[0];$t(!!Ne);const Ze=Ne.error||(null===(Te=Ne[0])||void 0===Te?void 0:Te.error);if(Ze){nt(cs,`RPC '${e}' stream ${r} received error:`,Ze);const yt=Ze.status;let mt=function(G){const Q=Sr[G];if(void 0!==Q)return yE(Q)}(yt),ee=Ze.message;void 0===mt&&(mt=Ae.INTERNAL,ee="Unknown error status: "+yt+" with message "+Ze.message),N=!0,V.wo(new Ke(mt,ee)),x.close()}else nt(cs,`RPC '${e}' stream ${r} received:`,Ne),V._o(Ne)}}),$(d,tC.STAT_EVENT,W=>{W.stat===Q1.PROXY?nt(cs,`RPC '${e}' stream ${r} detected buffering proxy`):W.stat===Q1.NOPROXY&&nt(cs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{V.fo()},0),V}}function wb(){return typeof document<"u"?document:null}function Sp(n){return new Rk(n,!0)}class V_{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&nt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class eI{constructor(e,t,i,r,s,o,d,f){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new V_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,re.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,re.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,re.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===Ae.RESOURCE_EXHAUSTED?(gr(t.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===Ae.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Ke(Ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,re.Z)(function*(){e.state=0,e.start()}))}tu(e){return nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VA extends eI{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function TE(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(f=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:Ot(),r=e.targetChange.targetIds||[],s=function(f,g){return f.useProto3Json?($t(void 0===g||"string"==typeof g),yr.fromBase64String(g||"")):($t(void 0===g||g instanceof Uint8Array),yr.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,d=o&&function(f){const g=void 0===f.code?Ae.UNKNOWN:yE(f.code);return new Ke(g,f.message||"")}(o);t=new XC(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=Dc(n,i.document.name),s=rr(i.document.updateTime),o=i.document.createTime?rr(i.document.createTime):Gt.min(),d=new Es({mapValue:{fields:i.document.fields}}),f=di.newFoundDocument(r,s,o,d);t=new na(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=Dc(n,i.document),s=i.readTime?rr(i.readTime):Gt.min(),o=di.newNoDocument(r,s);t=new na([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=Dc(n,i.document);t=new na([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Ot();{const i=e.filter,{count:r=0,unchangedNames:s}=i,o=new Sk(r,s);t=new QC(i.targetId,o)}}var f;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Gt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Gt.min():s.readTime?rr(s.readTime):Gt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=fp(this.serializer),t.addTarget=function(r,s){let o;const d=s.target;if(o=_u(d)?{documents:CE(r,d)}:{query:ob(r,d)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=up(r,s.resumeToken);const f=wE(r,s.expectedCount);null!==f&&(o.expectedCount=f)}else if(s.snapshotVersion.compareTo(Gt.min())>0){o.readTime=qd(r,s.snapshotVersion.toTimestamp());const f=wE(r,s.expectedCount);null!==f&&(o.expectedCount=f)}return o}(this.serializer,e);const i=function Ok(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=fp(this.serializer),t.removeTarget=e,this.Wo(t)}}class BA extends eI{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if($t(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function nA(n,e){return n&&n.length>0?($t(void 0!==e),n.map(t=>function(i,r){let s=rr(i.updateTime?i.updateTime:r);return s.isEqual(Gt.min())&&(s=rr(r)),new qC(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=rr(e.commitTime);return this.listener.cu(i,t)}return $t(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=fp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function mp(n,e){let t;if(e instanceof Gd)t={update:rb(n,e.key,e.value)};else if(e instanceof lp)t={delete:dp(n,e.key)};else if(e instanceof bu)t={update:rb(n,e.key,e.data),updateMask:Vk(e.fieldMask)};else{if(!(e instanceof gE))return Ot();t={verify:dp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof ap)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof zd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Hd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof xf)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw Ot()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Pk(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Ot()),t;var r}(this.serializer,i))};this.Wo(t)}}class UA extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Ke(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ke(Ae.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,i,s,o,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ke(Ae.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class iR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gr(t),this.mu=!1):nt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class rR{constructor(e,t,i,r,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(d=>{i.enqueueAndForget((0,re.Z)(function*(){var f;Jd(o)&&(nt("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,re.Z)(function*(g){const b=xt(g);b.vu.add(4),yield Nf(b),b.bu.set("Unknown"),b.vu.delete(4),yield Dp(b)}),function(g){return f.apply(this,arguments)})(o))}))}),this.bu=new iR(i,r)}}function Dp(n){return jA.apply(this,arguments)}function jA(){return jA=(0,re.Z)(function*(n){if(Jd(n))for(const e of n.Ru)yield e(!0)}),jA.apply(this,arguments)}function Nf(n){return nI.apply(this,arguments)}function nI(){return nI=(0,re.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),nI.apply(this,arguments)}function Eb(n,e){const t=xt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),sI(t)?rI(t):kp(t).Ko()&&iI(t,e))}function Ib(n,e){const t=xt(n),i=kp(t);t.Au.delete(e),i.Ko()&&zA(t,e),0===t.Au.size&&(i.Ko()?i.jo():Jd(t)&&t.bu.set("Unknown"))}function iI(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Gt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kp(n).su(e)}function zA(n,e){n.Vu.qt(e),kp(n).iu(e)}function rI(n){n.Vu=new Sc({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),kp(n).start(),n.bu.gu()}function sI(n){return Jd(n)&&!kp(n).Uo()&&n.Au.size>0}function Jd(n){return 0===xt(n).vu.size}function HA(n){n.Vu=void 0}function sR(n){return oI.apply(this,arguments)}function oI(){return oI=(0,re.Z)(function*(n){n.Au.forEach((e,t)=>{iI(n,e)})}),oI.apply(this,arguments)}function oR(n,e){return aI.apply(this,arguments)}function aI(){return aI=(0,re.Z)(function*(n,e){HA(n),sI(n)?(n.bu.Iu(e),rI(n)):n.bu.set("Unknown")}),aI.apply(this,arguments)}function aR(n,e,t){return cI.apply(this,arguments)}function cI(){return cI=(0,re.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof XC&&2===e.state&&e.cause)try{yield(i=(0,re.Z)(function*(r,s){const o=s.cause;for(const d of s.targetIds)r.Au.has(d)&&(yield r.remoteSyncer.rejectListen(d,o),r.Au.delete(d),r.Vu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield eh(n,i)}else if(e instanceof na?n.Vu.Ht(e):e instanceof QC?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Gt.min()))try{const i=yield GE(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const o=r.Vu.ce(s);return o.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=r.Au.get(f);g&&r.Au.set(f,g.withResumeToken(d.resumeToken,s))}}),o.targetMismatches.forEach((d,f)=>{const g=r.Au.get(d);if(!g)return;r.Au.set(d,g.withResumeToken(yr.EMPTY_BYTE_STRING,g.snapshotVersion)),zA(r,d);const b=new Eu(g.target,d,f,g.sequenceNumber);iI(r,b)}),r.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(i){nt("RemoteStore","Failed to raise snapshot:",i),yield eh(n,i)}var i}),cI.apply(this,arguments)}function eh(n,e,t){return xb.apply(this,arguments)}function xb(){return xb=(0,re.Z)(function*(n,e,t){if(!Xo(e))throw e;n.vu.add(1),yield Nf(n),n.bu.set("Offline"),t||(t=()=>GE(n.localStore)),n.asyncQueue.enqueueRetryable((0,re.Z)(function*(){nt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Dp(n)}))}),xb.apply(this,arguments)}function lI(n,e){return e().catch(t=>eh(n,t,e))}function Ff(n){return Tb.apply(this,arguments)}function Tb(){return Tb=(0,re.Z)(function*(n){const e=xt(n),t=th(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;$A(e);)try{const r=yield Jk(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,GA(e,r)}catch(r){yield eh(e,r)}qA(e)&&cR(e)}),Tb.apply(this,arguments)}function $A(n){return Jd(n)&&n.Eu.length<10}function GA(n,e){n.Eu.push(e);const t=th(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function qA(n){return Jd(n)&&!th(n).Uo()&&n.Eu.length>0}function cR(n){th(n).start()}function WA(n){return uI.apply(this,arguments)}function uI(){return uI=(0,re.Z)(function*(n){th(n).hu()}),uI.apply(this,arguments)}function lR(n){return dI.apply(this,arguments)}function dI(){return dI=(0,re.Z)(function*(n){const e=th(n);for(const t of n.Eu)e.uu(t.mutations)}),dI.apply(this,arguments)}function uR(n,e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,re.Z)(function*(n,e,t){const i=n.Eu.shift(),r=_E.from(i,e,t);yield lI(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ff(n)}),Lf.apply(this,arguments)}function dR(n,e){return B_.apply(this,arguments)}function B_(){return B_=(0,re.Z)(function*(n,e){var t;e&&th(n).ou&&(yield(t=(0,re.Z)(function*(i,r){if(function KC(n){switch(n){default:return Ot();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0}}(s=r.code)&&s!==Ae.ABORTED){const o=i.Eu.shift();th(i).Qo(),yield lI(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Ff(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),qA(n)&&cR(n)}),B_.apply(this,arguments)}function Mc(n,e){return hI.apply(this,arguments)}function hI(){return hI=(0,re.Z)(function*(n,e){const t=xt(n);t.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const i=Jd(t);t.vu.add(3),yield Nf(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Dp(t)}),hI.apply(this,arguments)}function Vf(){return Vf=(0,re.Z)(function*(n,e){const t=xt(n);e?(t.vu.delete(2),yield Dp(t)):e||(t.vu.add(2),yield Nf(t),t.bu.set("Unknown"))}),Vf.apply(this,arguments)}function kp(n){return n.Su||(n.Su=function(e,t,i){const r=xt(e);return r.fu(),new VA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:sR.bind(null,n),ao:oR.bind(null,n),nu:aR.bind(null,n)}),n.Ru.push(function(){var e=(0,re.Z)(function*(t){t?(n.Su.Qo(),sI(n)?rI(n):n.bu.set("Unknown")):(yield n.Su.stop(),HA(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function th(n){return n.Du||(n.Du=function(e,t,i){const r=xt(e);return r.fu(),new BA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:WA.bind(null,n),ao:dR.bind(null,n),au:lR.bind(null,n),cu:uR.bind(null,n)}),n.Ru.push(function(){var e=(0,re.Z)(function*(t){t?(n.Du.Qo(),yield Ff(n)):(yield n.Du.stop(),n.Eu.length>0&&(nt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class fI{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,d=new fI(e,t,o,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ke(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tu(n,e){if(gr("AsyncQueue",`${e}: ${n}`),Xo(n))return new Ke(Ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Cu{constructor(e){this.comparator=e?(t,i)=>e(t,i)||wt.comparator(t.key,i.key):(t,i)=>wt.comparator(t.key,i.key),this.keyedMap=jd(),this.sortedSet=new vi(this.comparator)}static emptySet(e){return new Cu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Cu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class KA{constructor(){this.Cu=new vi(wt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ot():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Rp{constructor(e,t,i,r,s,o,d,f,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,r,s){const o=[];return t.forEach(d=>{o.push({type:0,doc:d})}),new Rp(e,t,Cu.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class ZA{constructor(){this.Nu=void 0,this.listeners=[]}}class YA{constructor(){this.queries=new Cc(e=>aE(e),op),this.onlineState="Unknown",this.ku=new Set}}function U_(n,e){return Cb.apply(this,arguments)}function Cb(){return Cb=(0,re.Z)(function*(n,e){const t=xt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new ZA),r)try{s.Nu=yield t.onListen(i)}catch(o){const d=Tu(o,`Initialization of query '${cE(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&H_(t)}),Cb.apply(this,arguments)}function j_(n,e){return z_.apply(this,arguments)}function z_(){return z_=(0,re.Z)(function*(n,e){const t=xt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),z_.apply(this,arguments)}function QA(n,e){const t=xt(n);let i=!1;for(const r of e){const o=t.queries.get(r.query);if(o){for(const d of o.listeners)d.$u(r)&&(i=!0);o.Nu=r}}i&&H_(t)}function mI(n,e,t){const i=xt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function H_(n){n.ku.forEach(e=>{e.next()})}class pI{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Rp(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Rp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Ab{constructor(e){this.key=e}}class _I{constructor(e){this.key=e}}class yI{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=pn(),this.mutatedKeys=pn(),this.tc=LC(e),this.ec=new Cu(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new KA,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,g="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((b,x)=>{const k=r.get(b),N=b_(this.query,x)?x:null,V=!!k&&this.mutatedKeys.has(k.key),$=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let W=!1;k&&N?k.data.isEqual(N.data)?V!==$&&(i.track({type:3,doc:N}),W=!0):this.rc(k,N)||(i.track({type:2,doc:N}),W=!0,(f&&this.tc(N,f)>0||g&&this.tc(N,g)<0)&&(d=!0)):!k&&N?(i.track({type:0,doc:N}),W=!0):k&&!N&&(i.track({type:1,doc:k}),W=!0,(f||g)&&(d=!0)),W&&(N?(o=o.add(N),s=$?s.add(b):s.delete(b)):(o=o.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const b="F"===this.query.limitType?o.last():o.first();o=o.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{ec:o,ic:i,zi:d,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((g,b)=>function(x,k){const N=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return N(x)-N(k)}(g.type,b.type)||this.tc(g.doc,b.doc)),this.oc(i);const o=t?this.uc():[],d=0===this.Zu.size&&this.current?1:0,f=d!==this.Xu;return this.Xu=d,0!==s.length||f?{snapshot:new Rp(this.query,e.ec,r,s,e.mutatedKeys,0===d,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new KA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=pn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new _I(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new Ab(i))}),t}hc(e){this.Yu=e.ir,this.Zu=pn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Rp.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class JA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class eS{constructor(e){this.key=e,this.fc=!1}}class mR{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Cc(d=>aE(d),op),this._c=new Map,this.mc=new Set,this.gc=new vi(wt.comparator),this.yc=new Map,this.Ic=new BE,this.Tc={},this.Ec=new Map,this.Ac=Pf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function tS(n,e){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,re.Z)(function*(n,e){const t=function Lb(n){const e=xt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=iS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Op.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sS.bind(null,e),e.dc.nu=QA.bind(null,e.eventManager),e.dc.Pc=mI.bind(null,e.eventManager),e}(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const o=yield function Ip(n,e){const t=xt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,be.resolve(r)):t.Bs.allocateTargetId(i).next(o=>(r=new Eu(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,Bs(e)),d=t.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield function vI(n,e,t,i,r){return Db.apply(this,arguments)}(t,e,i,"current"===d,o.resumeToken),t.isPrimaryClient&&Eb(t.remoteStore,o)}return r}),Sb.apply(this,arguments)}function Db(){return Db=(0,re.Z)(function*(n,e,t,i,r){n.Rc=(x,k,N)=>{return(V=(0,re.Z)(function*($,W,Te,Ne){let Pe=W.view.sc(Te);Pe.zi&&(Pe=yield vb($.localStore,W.query,!1).then(({documents:mt})=>W.view.sc(mt,Pe)));const Ze=Ne&&Ne.targetChanges.get(W.targetId),yt=W.view.applyChanges(Pe,$.isPrimaryClient,Ze);return Mb($,W.targetId,yt.cc),yt.snapshot}),function($,W,Te,Ne){return V.apply(this,arguments)})(n,x,k,N);var V};const s=yield vb(n.localStore,e,!0),o=new yI(e,s.ir),d=o.sc(s.documents),f=Af.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),g=o.applyChanges(d,n.isPrimaryClient,f);Mb(n,t,g.cc);const b=new JA(e,t,o);return n.wc.set(e,b),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),g.snapshot}),Db.apply(this,arguments)}function nS(n,e){return Is.apply(this,arguments)}function Is(){return Is=(0,re.Z)(function*(n,e){const t=xt(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!op(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield xp(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Ib(t.remoteStore,i.targetId),nh(t,i.targetId)}).catch(du))):(nh(t,i.targetId),yield xp(t.localStore,i.targetId,!0))}),Is.apply(this,arguments)}function bI(){return bI=(0,re.Z)(function*(n,e,t){const i=function RI(n){const e=xt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EI.bind(null,e),e}(n);try{const r=yield function(s,o){const d=xt(s),f=zi.now(),g=o.reduce((k,N)=>k.add(N.key),pn());let b,x;return d.persistence.runTransaction("Locally write mutations","readwrite",k=>{let N=Io(),V=pn();return d.Zi.getEntries(k,g).next($=>{N=$,N.forEach((W,Te)=>{Te.isValidDocument()||(V=V.add(W))})}).next(()=>d.localDocuments.getOverlayedDocuments(k,N)).next($=>{b=$;const W=[];for(const Te of o){const Ne=pE(Te,b.get(Te.key).overlayedDocument);null!=Ne&&W.push(new bu(Te.key,Ne,rE(Ne.value.mapValue),Ai.exists(!0)))}return d.mutationQueue.addMutationBatch(k,f,W,o)}).next($=>{x=$;const W=$.applyToLocalDocumentSet(b,V);return d.documentOverlayCache.saveOverlays(k,$.batchId,W)})}).then(()=>({batchId:x.batchId,changes:Wv(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,d){let f=s.Tc[s.currentUser.toKey()];f||(f=new vi(cn)),f=f.insert(o,d),s.Tc[s.currentUser.toKey()]=f}(i,r.batchId,t),yield ih(i,r.changes),yield Ff(i.remoteStore)}catch(r){const s=Tu(r,"Failed to persist write");t.reject(s)}}),bI.apply(this,arguments)}function iS(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,re.Z)(function*(n,e){const t=xt(n);try{const i=yield function Xk(n,e){const t=xt(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const d=[];e.targetChanges.forEach((b,x)=>{const k=r.get(x);if(!k)return;d.push(t.Bs.removeMatchingKeys(s,b.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(s,b.addedDocuments,x)));let N=k.withSequenceNumber(s.currentSequenceNumber);var V,$,W;null!==e.targetMismatches.get(x)?N=N.withResumeToken(yr.EMPTY_BYTE_STRING,Gt.min()).withLastLimboFreeSnapshotVersion(Gt.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,i)),r=r.insert(x,N),$=N,W=b,(0===(V=k).resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0)&&d.push(t.Bs.updateTargetData(s,N))});let f=Io(),g=pn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(function MA(n,e,t){let i=pn(),r=pn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Io();return t.forEach((d,f)=>{const g=s.get(d);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(Gt.min())?(e.removeEntry(d,f.readTime),o=o.insert(d,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(f),o=o.insert(d,f)):nt("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",f.version)}),{nr:o,sr:r}})}(s,o,e.documentUpdates).next(b=>{f=b.nr,g=b.sr})),!i.isEqual(Gt.min())){const b=t.Bs.getLastRemoteSnapshotVersion(s).next(x=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return be.waitFor(d).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,g)).next(()=>f)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.yc.get(s);o&&($t(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.fc=!0:r.modifiedDocuments.size>0?$t(o.fc):r.removedDocuments.size>0&&($t(o.fc),o.fc=!1))}),yield ih(t,i,e)}catch(i){yield du(i)}}),rS.apply(this,arguments)}function pR(n,e,t){const i=xt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,o)=>{const d=o.view.Mu(e);d.snapshot&&r.push(d.snapshot)}),function(s,o){const d=xt(s);d.onlineState=o;let f=!1;d.queries.forEach((g,b)=>{for(const x of b.listeners)x.Mu(o)&&(f=!0)}),f&&H_(d)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function sS(n,e,t){return $_.apply(this,arguments)}function $_(){return $_=(0,re.Z)(function*(n,e,t){const i=xt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let o=new vi(wt.comparator);o=o.insert(s,di.newNoDocument(s,Gt.min()));const d=pn().add(s),f=new Cf(Gt.min(),new Map,new vi(cn),o,d);yield iS(i,f),i.gc=i.gc.remove(s),i.yc.delete(e),q_(i)}else yield xp(i.localStore,e,!1).then(()=>nh(i,e,t)).catch(du)}),$_.apply(this,arguments)}function G_(n,e){return wI.apply(this,arguments)}function wI(){return wI=(0,re.Z)(function*(n,e){const t=xt(n),i=e.batch.batchId;try{const r=yield function Qk(n,e){const t=xt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,d,f,g){const b=f.batch,x=b.keys();let k=be.resolve();return x.forEach(N=>{k=k.next(()=>g.getEntry(d,N)).next(V=>{const $=f.docVersions.get(N);$t(null!==$),V.version.compareTo($)<0&&(b.applyToRemoteDocument(V,f),V.isValidDocument()&&(V.setReadTime(f.commitVersion),g.addEntry(V)))})}),k.next(()=>o.mutationQueue.removeMutationBatch(d,b))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let d=pn();for(let f=0;f<o.mutationResults.length;++f)o.mutationResults[f].transformResults.length>0&&(d=d.add(o.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);CI(t,i,null),TI(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ih(t,r)}catch(r){yield du(r)}}),wI.apply(this,arguments)}function EI(n,e,t){return II.apply(this,arguments)}function II(){return II=(0,re.Z)(function*(n,e,t){const i=xt(n);try{const r=yield function(s,o){const d=xt(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,o).next(b=>($t(null!==b),g=b.keys(),d.mutationQueue.removeMutationBatch(f,b))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,o)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(i.localStore,e);CI(i,e,t),TI(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ih(i,r)}catch(r){yield du(r)}}),II.apply(this,arguments)}function TI(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function CI(n,e,t){const i=xt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function nh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||AI(n,i)})}function AI(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Ib(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),q_(n))}function Mb(n,e,t){for(const i of t)i instanceof Ab?(n.Ic.addReference(i.key,e),kb(n,i)):i instanceof _I?(nt("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||AI(n,i.key)):Ot()}function kb(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(nt("SyncEngine","New document in limbo: "+t),n.mc.add(i),q_(n))}function q_(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new wt(Vn.fromString(e)),i=n.Ac.next();n.yc.set(i,new eS(t)),n.gc=n.gc.insert(t,i),Eb(n.remoteStore,new Eu(Bs(Tc(t.path)),i,"TargetPurposeLimboResolution",ss.ct))}}function ih(n,e,t){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,re.Z)(function*(n,e,t){const i=xt(n),r=[],s=[],o=[];var d;i.wc.isEmpty()||(i.wc.forEach((d,f)=>{o.push(i.Rc(f,e,t).then(g=>{if((g||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,g?.fromCache?"not-current":"current"),g){r.push(g);const b=yb.Li(f.targetId,g);s.push(b)}}))}),yield Promise.all(o),i.dc.nu(r),yield(d=(0,re.Z)(function*(f,g){const b=xt(f);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>be.forEach(g,k=>be.forEach(k.Fi,N=>b.persistence.referenceDelegate.addReference(x,k.targetId,N)).next(()=>be.forEach(k.Bi,N=>b.persistence.referenceDelegate.removeReference(x,k.targetId,N)))))}catch(x){if(!Xo(x))throw x;nt("LocalStore","Failed to update sequence numbers: "+x)}for(const x of g){const k=x.targetId;if(!x.fromCache){const N=b.Ji.get(k),$=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);b.Ji=b.Ji.insert(k,$)}}}),function(f,g){return d.apply(this,arguments)})(i.localStore,s))}),Rb.apply(this,arguments)}function gR(n,e){return Pb.apply(this,arguments)}function Pb(){return Pb=(0,re.Z)(function*(n,e){const t=xt(n);if(!t.currentUser.isEqual(e)){nt("SyncEngine","User change. New user:",e.toKey());const i=yield DA(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(o=>{o.forEach(d=>{d.reject(new Ke(Ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ih(t,i.er)}var r}),Pb.apply(this,arguments)}function Op(n,e){const t=xt(n),i=t.yc.get(e);if(i&&i.fc)return pn().add(i.key);{let r=pn();const s=t._c.get(e);if(!s)return r;for(const o of s){const d=t.wc.get(o);r=r.unionWith(d.view.nc)}return r}}class Np{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,re.Z)(function*(){t.serializer=Sp(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function SA(n,e,t,i){return new Yk(n,e,t,i)}(this.persistence,new $E,e.initialUser,this.serializer)}createPersistence(e){return new UE(gb.zs,this.serializer)}createSharedClientState(e){return new NA}terminate(){var e=this;return(0,re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Fp{initialize(e,t){var i=this;return(0,re.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>pR(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=gR.bind(null,i.syncEngine),yield function Mp(n,e){return Vf.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new YA}createDatastore(e){const t=Sp(e.databaseInfo.databaseId),i=new tR(e.databaseInfo);return new UA(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>pR(this.syncEngine,d,0),o=Of.D()?new Of:new FA,new rR(t,i,r,s,o);var t,i,r,s,o}createSyncEngine(e,t){return function(i,r,s,o,d,f,g){const b=new mR(i,r,s,o,d,f);return g&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,re.Z)(function*(t){const i=xt(t);nt("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Nf(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class W_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class N2{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=ai.UNAUTHENTICATED,this.clientId=lC.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var o=(0,re.Z)(function*(d){nt("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(i,o=>(nt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ke(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,re.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Tu(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function PI(n,e){return mS.apply(this,arguments)}function mS(){return mS=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,re.Z)(function*(s){i.isEqual(s)||(yield DA(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),mS.apply(this,arguments)}function pS(n,e){return gS.apply(this,arguments)}function gS(){return gS=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield _S(n);nt("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Mc(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Mc(e.remoteStore,s)),n._onlineComponents=e}),gS.apply(this,arguments)}function _S(n){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,re.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){nt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield PI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function K_(n){return"FirebaseError"===n.name?n.code===Ae.FAILED_PRECONDITION||n.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Zo("Error using user provided cache. Falling back to memory cache: "+t),yield PI(n,new Np)}}else nt("FirestoreClient","Using default OfflineComponentProvider"),yield PI(n,new Np);return n._offlineComponents}),Bb.apply(this,arguments)}function Bf(n){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,re.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(nt("FirestoreClient","Using user provided OnlineComponentProvider"),yield pS(n,n._uninitializedComponentsProvider._online)):(nt("FirestoreClient","Using default OnlineComponentProvider"),yield pS(n,new Fp))),n._onlineComponents}),Ub.apply(this,arguments)}function NI(n){return _S(n).then(e=>e.localStore)}function Z_(n){return FI.apply(this,arguments)}function FI(){return FI=(0,re.Z)(function*(n){const e=yield Bf(n),t=e.eventManager;return t.onListen=tS.bind(null,e.syncEngine),t.onUnlisten=nS.bind(null,e.syncEngine),t}),FI.apply(this,arguments)}function vS(n,e,t={}){const i=new $r;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function(r,s,o,d,f){const g=new W_({next:x=>{s.enqueueAndForget(()=>j_(r,b));const k=x.docs.has(o);!k&&x.fromCache?f.reject(new Ke(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&x.fromCache&&d&&"server"===d.source?f.reject(new Ke(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),b=new pI(Tc(o.path),g,{includeMetadataChanges:!0,Ku:!0});return U_(r,b)}(yield Z_(n),n.asyncQueue,e,t,i)})),i.promise}function TR(n,e,t={}){const i=new $r;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function(r,s,o,d,f){const g=new W_({next:x=>{s.enqueueAndForget(()=>j_(r,b)),x.fromCache&&"server"===d.source?f.reject(new Ke(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),b=new pI(o,g,{includeMetadataChanges:!0,Ku:!0});return U_(r,b)}(yield Z_(n),n.asyncQueue,e,t,i)})),i.promise}function DR(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const bS=new Map;function $b(n,e,t){if(!t)throw new Ke(Ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function MR(n){if(!wt.isDocumentKey(n))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pa(n){if(wt.isDocumentKey(n))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ot()}function In(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ke(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gb(n);throw new Ke(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function wS(n,e){if(e<=0)throw new Ke(Ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class kR{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Ke(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ke(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function LI(n,e,t,i){if(!0===e&&!0===i)throw new Ke(Ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=DR(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Ke(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ke(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ke(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Us{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ke(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ke(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new oC;switch(t.type){case"firstParty":return new nk(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ke(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bS.get(e);t&&(nt("ComponentProvider","Removing Datastore"),bS.delete(e),t.terminate())}(this),Promise.resolve()}}class hi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hi(this.firestore,e,this._key)}}class xs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class fl extends xs{constructor(e,t,i){super(e,t,Tc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hi(this.firestore,null,new wt(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function Y_(n,e,...t){if(n=(0,Tn.m9)(n),$b("collection","path",e),n instanceof Us){const i=Vn.fromString(e,...t);return Pa(i),new fl(n,null,i)}{if(!(n instanceof hi||n instanceof fl))throw new Ke(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Vn.fromString(e,...t));return Pa(i),new fl(n.firestore,null,i)}}function Lp(n,e,...t){if(n=(0,Tn.m9)(n),1===arguments.length&&(e=lC.A()),$b("doc","path",e),n instanceof Us){const i=Vn.fromString(e,...t);return MR(i),new hi(n,null,new wt(i))}{if(!(n instanceof hi||n instanceof fl))throw new Ke(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Vn.fromString(e,...t));return MR(i),new hi(n.firestore,n instanceof fl?n.converter:null,new wt(i))}}function xS(n,e){return n=(0,Tn.m9)(n),e=(0,Tn.m9)(e),(n instanceof hi||n instanceof fl)&&(e instanceof hi||e instanceof fl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function qb(n,e){return n=(0,Tn.m9)(n),e=(0,Tn.m9)(e),n instanceof xs&&e instanceof xs&&n.firestore===e.firestore&&op(n._query,e._query)&&n.converter===e.converter}class TS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new V_(this,"async_queue_retry"),this.Xc=()=>{const t=wb();t&&nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=wb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=wb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new $r;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,re.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Xo(t))throw t;nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,gr("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=fI.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&Ot()}verifyOperationInProgress(){}sa(){var e=this;return(0,re.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function VI(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class fi extends Us{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new TS,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Wb(this),this._firestoreClient.terminate()}}function sr(n){return n._firestoreClient||Wb(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Wb(n){var e,t,i;const r=n._freezeSettings(),s=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new C2(n._databaseId,d,n._persistenceKey,(g=r).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,DR(g.experimentalLongPollingOptions),g.useFetchStreams));var d,g;n._firestoreClient=new N2(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(yr.fromBase64String(e))}catch(t){throw new Ke(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oa(yr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ml{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ke(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sh{constructor(e){this._methodName=e}}class Q_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ke(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ke(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}}const MS=/^__.*__$/;class Kb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new bu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gd(e,this.data,t,this.fieldTransforms)}}class X_{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new bu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class Zb{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Zb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ty(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(BI(this.ca)&&MS.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class jR{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Sp(e)}ya(e,t,i,r=!1){return new Zb({ca:e,methodName:t,ga:i,path:_r.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bp(n){const e=n._freezeSettings(),t=Sp(n._databaseId);return new jR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function UI(n,e,t,i,r,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,r);HI("Data must be an object, but it was:",o,i);const d=PS(i,o);let f,g;if(s.merge)f=new bo(o.fieldMask),g=o.fieldTransforms;else if(s.mergeFields){const b=[];for(const x of s.mergeFields){const k=ey(e,x,t);if(!o.contains(k))throw new Ke(Ae.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);Qb(b,k)||b.push(k)}f=new bo(b),g=o.fieldTransforms.filter(x=>f.covers(x.field))}else f=null,g=o.fieldTransforms;return new Kb(new Es(d),f,g)}class Yb extends sh{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yb}}function $R(n,e,t,i=!1){return Up(t,n.ya(i?4:3,e))}function Up(n,e){if(J_(n=(0,Tn.m9)(n)))return HI("Unsupported field value:",e,n),PS(n,e);if(n instanceof sh)return function(t,i){if(!BI(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const o of t){let d=Up(o,i.wa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Tn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zC(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=zi.fromDate(t);return{timestampValue:qd(i.serializer,r)}}if(t instanceof zi){const r=new zi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:qd(i.serializer,r)}}if(t instanceof Q_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Oa)return{bytesValue:up(i.serializer,t._byteString)};if(t instanceof hi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:EE(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${Gb(t)}`)}(n,e)}function PS(n,e){const t={};return TC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fd(n,(i,r)=>{const s=Up(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function J_(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof zi||n instanceof Q_||n instanceof Oa||n instanceof hi||n instanceof sh)}function HI(n,e,t){if(!J_(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Gb(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function ey(n,e,t){if((e=(0,Tn.m9)(e))instanceof ml)return e._internalPath;if("string"==typeof e)return pl(n,e);throw ty("Field path arguments must be of type string or ",n,!1,void 0,t)}const OS=new RegExp("[~\\*/\\[\\]]");function pl(n,e,t){if(e.search(OS)>=0)throw ty(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ml(...e.split("."))._internalPath}catch{throw ty(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ty(n,e,t,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||o)&&(f+=" (found",s&&(f+=` in field ${i}`),o&&(f+=` in document ${r}`),f+=")"),new Ke(Ae.INVALID_ARGUMENT,d+n+f)}function Qb(n,e){return n.some(t=>t.isEqual(e))}class jf{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new GR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class GR extends jf{data(){return super.data()}}function jp(n,e){return"string"==typeof e?pl(n,e):e instanceof ml?e._internalPath:e._delegate._internalPath}function Xb(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ke(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zp{}class Jb extends zp{}function zf(n,e,...t){let i=[];e instanceof zp&&i.push(e),i=i.concat(t),function(r){const s=r.filter(d=>d instanceof Hf).length,o=r.filter(d=>d instanceof e0).length;if(s>1||s>0&&o>0)throw new Ke(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class e0 extends Jb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new e0(e,t,i)}_apply(e){const t=this._parse(e);return KR(e._query,t),new xs(e.firestore,e.converter,qv(e._query,t))}_parse(e){const t=Bp(e.firestore);return function(r,s,o,d,f,g,b){let x;if(f.isKeyField()){if("array-contains"===g||"array-contains-any"===g)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if("in"===g||"not-in"===g){US(b,g);const k=[];for(const N of b)k.push(BS(d,r,N));x={arrayValue:{values:k}}}else x=BS(d,r,b)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||US(b,g),x=$R(o,"where",b,"in"===g||"not-in"===g);return Sn.create(f,g,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Hf extends zp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hf(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:ri.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const o=r.getFlattenedFilters();for(const d of o)KR(s,d),s=qv(s,d)}(e._query,t),new xs(e.firestore,e.converter,qv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class $I extends Jb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $I(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Ke(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ke(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new ip(r,s);return function(d,f){if(null===$v(d)){const g=y_(d);null!==g&&ZR(0,g,f.field)}}(i,o),o}(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Eo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class ny extends Jb{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new ny(e,t,i)}_apply(e){return new xs(e.firestore,e.converter,v_(e._query,this._limit,this._limitType))}}class t0 extends Jb{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new t0(e,t,i)}_apply(e){const t=n0(e,this.type,this._docOrFields,this._inclusive);return new xs(e.firestore,e.converter,(r=t,new Eo((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Hp extends Jb{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Hp(e,t,i)}_apply(e){const t=n0(e,this.type,this._docOrFields,this._inclusive);return new xs(e.firestore,e.converter,(r=t,new Eo((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function n0(n,e,t,i){if(t[0]=(0,Tn.m9)(t[0]),t[0]instanceof jf)return function(r,s,o,d,f){if(!d)throw new Ke(Ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const g=[];for(const b of Ud(r))if(b.field.isKeyField())g.push(Vd(s,d.key));else{const x=d.data.field(b.field);if(gf(x))throw new Ke(Ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const k=b.field.canonicalString();throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}g.push(x)}return new Bd(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Bp(n.firestore);return function(s,o,d,f,g,b){const x=s.explicitOrderBy;if(g.length>x.length)throw new Ke(Ae.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let N=0;N<g.length;N++){const V=g[N];if(x[N].field.isKeyField()){if("string"!=typeof V)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof V}`);if(!Gv(s)&&-1!==V.indexOf("/"))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${V}' contains a slash.`);const $=s.path.child(Vn.fromString(V));if(!wt.isDocumentKey($))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${$}' is not because it contains an odd number of segments.`);const W=new wt($);k.push(Vd(o,W))}else{const $=$R(d,f,V);k.push($)}}return new Bd(k,b)}(n._query,n.firestore._databaseId,r,e,t,i)}}function BS(n,e,t){if("string"==typeof(t=(0,Tn.m9)(t))){if(""===t)throw new Ke(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gv(e)&&-1!==t.indexOf("/"))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Vn.fromString(t));if(!wt.isDocumentKey(i))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Vd(n,new wt(i))}if(t instanceof hi)return Vd(n,t._key);throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gb(t)}.`)}function US(n,e){if(!Array.isArray(n)||0===n.length)throw new Ke(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KR(n,e){if(e.isInequality()){const i=y_(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=$v(n);null!==s&&ZR(0,r,s)}const t=function(i,r){for(const s of i)for(const o of s.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ke(Ae.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ZR(n,e,t){if(!t.isEqual(e))throw new Ke(Ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class GI{convertValue(e,t="none"){switch(pu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Fd(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new Q_(Ci(e.latitude),Ci(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=eE(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(_f(e));default:return null}}convertTimestamp(e){const t=Ld(e);return new zi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Vn.fromString(e);$t(sA(i));const r=new fu(i.get(1),i.get(3)),s=new wt(i.popFirst(5));return r.isEqual(t)||gr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function r0(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class $p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oh extends jf{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new s0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(jp("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class s0 extends oh{data(e={}){return super.data(e)}}class $f{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $p(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new s0(this._firestore,this._userDataWriter,i.key,i,new $p(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ke(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>({type:"added",doc:new s0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new $p(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>r||3!==o.type).map(o=>{const d=new s0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new $p(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return 0!==o.type&&(f=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),g=s.indexOf(o.doc.key)),{type:K2(o.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function K2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}function a(n,e){return n instanceof oh&&e instanceof oh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof $f&&e instanceof $f&&n._firestore===e._firestore&&qb(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class u extends GI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hi(this.firestore,null,t)}}function S(n,e,t){n=In(n,hi);const i=In(n.firestore,fi),r=r0(n.converter,e,t);return Le(i,[UI(Bp(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ai.none())])}function R(n,e,t,...i){n=In(n,hi);const r=In(n.firestore,fi),s=Bp(r);let o;return o="string"==typeof(e=(0,Tn.m9)(e))||e instanceof ml?function RS(n,e,t,i,r,s){const o=n.ya(1,e,t),d=[ey(e,i,t)],f=[r];if(s.length%2!=0)throw new Ke(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<s.length;k+=2)d.push(ey(e,s[k])),f.push(s[k+1]);const g=[],b=Es.empty();for(let k=d.length-1;k>=0;--k)if(!Qb(g,d[k])){const N=d[k];let V=f[k];V=(0,Tn.m9)(V);const $=o.da(N);if(V instanceof Yb)g.push(N);else{const W=Up(V,$);null!=W&&(g.push(N),b.set(N,W))}}const x=new bo(g);return new X_(b,x,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,i):function kS(n,e,t,i){const r=n.ya(1,e,t);HI("Data must be an object, but it was:",r,i);const s=[],o=Es.empty();Fd(i,(f,g)=>{const b=pl(e,f,t);g=(0,Tn.m9)(g);const x=r.da(b);if(g instanceof Yb)s.push(b);else{const k=Up(g,x);null!=k&&(s.push(b),o.set(b,k))}});const d=new bo(s);return new X_(o,d,r.fieldTransforms)}(s,"updateDoc",n._key,e),Le(r,[o.toMutation(n._key,Ai.exists(!0))])}function L(n){return Le(In(n.firestore,fi),[new lp(n._key,Ai.none())])}function H(n,e){const t=In(n.firestore,fi),i=Lp(n),r=r0(n.converter,e);return Le(t,[UI(Bp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ai.exists(!1))]).then(()=>i)}function ie(n,...e){var t,i,r;n=(0,Tn.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||VI(e[o])||(s=e[o],o++);const d={includeMetadataChanges:s.includeMetadataChanges};if(VI(e[o])){const x=e[o];e[o]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[o+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),e[o+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let f,g,b;if(n instanceof hi)g=In(n.firestore,fi),b=Tc(n._key.path),f={next:x=>{e[o]&&e[o](st(g,n,x))},error:e[o+1],complete:e[o+2]};else{const x=In(n,xs);g=In(x.firestore,fi),b=x._query;const k=new u(g);f={next:N=>{e[o]&&e[o](new $f(g,k,x,N))},error:e[o+1],complete:e[o+2]},Xb(n._query)}return function(x,k,N,V){const $=new W_(V),W=new pI(k,$,N);return x.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return U_(yield Z_(x),W)})),()=>{$.Dc(),x.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return j_(yield Z_(x),W)}))}}(sr(g),b,d,f)}function Le(n,e){return function(t,i){const r=new $r;return t.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function Pp(n,e,t){return bI.apply(this,arguments)}(yield function zb(n){return Bf(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(sr(n),e)}function st(n,e,t){const i=t.docs.get(e._key),r=new u(n);return new oh(n,r,e._key,i,new $p(t.hasPendingWrites,t.fromCache),e.converter)}function Q2(){if(typeof Uint8Array>"u")throw new Ke("unimplemented","Uint8Arrays are not available in this environment.")}function X2(){if(!function _k(){return typeof atob<"u"}())throw new Ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}class qI{constructor(e){this._delegate=e}static fromBase64String(e){return X2(),new qI(Oa.fromBase64String(e))}static fromUint8Array(e){return Q2(),new qI(Oa.fromUint8Array(e))}toBase64(){return X2(),this._delegate.toBase64()}toUint8Array(){return Q2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function QR(n){return function nG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class zS extends GI{constructor(e){super(),this.firestore=e}convertBytes(e){return new qI(new Oa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return gl.forKey(t,this.firestore,null)}}class iy{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new s0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new KI(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=iy.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new iy(e,new zS(e),t),r.set(t,s)),s}}iy.INSTANCES=new WeakMap;class gl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zS(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new gl(t,new hi(t._delegate,i,new wt(e)))}static forKey(e,t,i){return new gl(t,new hi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new o0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new o0(this.firestore,Y_(this._delegate,e))}catch(t){throw ra(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Tn.m9)(e))instanceof hi&&xS(this._delegate,e)}set(e,t){t=function YR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?S(this._delegate,e,t):S(this._delegate,e)}catch(i){throw ra(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?R(this._delegate,e):R(this._delegate,e,t,...i)}catch(r){throw ra(r,"updateDoc()","DocumentReference.update()")}}delete(){return L(this._delegate)}onSnapshot(...e){const t=nV(e),i=iV(e,r=>new WI(this.firestore,new oh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return ie(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function h(n){n=In(n,hi);const e=In(n.firestore,fi),t=sr(e),i=new u(e);return function Hb(n,e){const t=new $r;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return(i=(0,re.Z)(function*(r,s,o){try{const d=yield function(f,g){const b=xt(f);return b.persistence.runTransaction("read document","readonly",x=>b.localDocuments.getDocument(x,g))}(r,s);d.isFoundDocument()?o.resolve(d):d.isNoDocument()?o.resolve(null):o.reject(new Ke(Ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=Tu(d,`Failed to get document '${s} from cache`);o.reject(f)}}),function(r,s,o){return i.apply(this,arguments)})(yield NI(n),e,t);var i})),t.promise}(t,n._key).then(r=>new oh(e,i,n._key,r,new $p(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function m(n){n=In(n,hi);const e=In(n.firestore,fi);return vS(sr(e),n._key,{source:"server"}).then(t=>st(e,n,t))}(this._delegate):function c(n){n=In(n,hi);const e=In(n.firestore,fi);return vS(sr(e),n._key).then(t=>st(e,n,t))}(this._delegate),t.then(i=>new WI(this.firestore,new oh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new gl(this.firestore,this._delegate.withConverter(e?iy.getInstance(this.firestore,e):null))}}function ra(n,e,t){return n.message=n.message.replace(e,t),n}function nV(n){for(const e of n)if("object"==typeof e&&!QR(e))return e;return{}}function iV(n,e){var t,i;let r;return r=QR(n[0])?n[0]:QR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class WI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new gl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return a(this._delegate,e._delegate)}}class KI extends WI{data(e){const t=this._delegate.data(e);return function mn(n,e){n||Ot()}(void 0!==t),t}}class sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new zS(e)}where(e,t,i){try{return new sa(this.firestore,zf(this._delegate,function j2(n,e,t){const i=e,r=jp("where",n);return e0._create(r,i,t)}(e,t,i)))}catch(r){throw ra(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new sa(this.firestore,zf(this._delegate,function qR(n,e="asc"){const t=e,i=jp("orderBy",n);return $I._create(i,t)}(e,t)))}catch(i){throw ra(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new sa(this.firestore,zf(this._delegate,function NS(n){return wS("limit",n),ny._create("limit",n,"F")}(e)))}catch(t){throw ra(t,"limit()","Query.limit()")}}limitToLast(e){try{return new sa(this.firestore,zf(this._delegate,function FS(n){return wS("limitToLast",n),ny._create("limitToLast",n,"L")}(e)))}catch(t){throw ra(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new sa(this.firestore,zf(this._delegate,function WR(...n){return t0._create("startAt",n,!0)}(...e)))}catch(t){throw ra(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new sa(this.firestore,zf(this._delegate,function LS(...n){return t0._create("startAfter",n,!1)}(...e)))}catch(t){throw ra(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new sa(this.firestore,zf(this._delegate,function $2(...n){return Hp._create("endBefore",n,!1)}(...e)))}catch(t){throw ra(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new sa(this.firestore,zf(this._delegate,function VS(...n){return Hp._create("endAt",n,!0)}(...e)))}catch(t){throw ra(t,"endAt()","Query.endAt()")}}isEqual(e){return qb(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function E(n){n=In(n,xs);const e=In(n.firestore,fi),t=sr(e),i=new u(e);return function F2(n,e){const t=new $r;return n.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return(i=(0,re.Z)(function*(r,s,o){try{const d=yield vb(r,s,!0),f=new yI(s,d.ir),g=f.sc(d.documents),b=f.applyChanges(g,!1);o.resolve(b.snapshot)}catch(d){const f=Tu(d,`Failed to execute query '${s} against cache`);o.reject(f)}}),function(r,s,o){return i.apply(this,arguments)})(yield NI(n),e,t);var i})),t.promise}(t,n._query).then(r=>new $f(e,i,n,r))}(this._delegate):"server"===e?.source?function C(n){n=In(n,xs);const e=In(n.firestore,fi),t=sr(e),i=new u(e);return TR(t,n._query,{source:"server"}).then(r=>new $f(e,i,n,r))}(this._delegate):function y(n){n=In(n,xs);const e=In(n.firestore,fi),t=sr(e),i=new u(e);return Xb(n._query),TR(t,n._query).then(r=>new $f(e,i,n,r))}(this._delegate),t.then(i=>new XR(this.firestore,new $f(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=nV(e),i=iV(e,r=>new XR(this.firestore,new $f(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return ie(this._delegate,t,i)}withConverter(e){return new sa(this.firestore,this._delegate.withConverter(e?iy.getInstance(this.firestore,e):null))}}class sG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new KI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class XR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new sa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new KI(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new sG(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new KI(this._firestore,i))})}isEqual(e){return a(this._delegate,e._delegate)}}class o0 extends sa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new gl(this.firestore,e):null}doc(e){try{return new gl(this.firestore,void 0===e?Lp(this._delegate):Lp(this._delegate,e))}catch(t){throw ra(t,"doc()","CollectionReference.doc()")}}add(e){return H(this._delegate,e).then(t=>new gl(this.firestore,t))}isEqual(e){return xS(this._delegate,e._delegate)}withConverter(e){return new o0(this.firestore,this._delegate.withConverter(e?iy.getInstance(this.firestore,e):null))}}var Dn=U(7579),oy=U(6451),HS=U(5363),ay=U(8421);function ls(n,e){return(0,Ln.e)((t,i)=>{let r=null,s=0,o=!1;const d=()=>o&&!r&&i.complete();t.subscribe((0,ni.x)(i,f=>{r?.unsubscribe();let g=0;const b=s++;(0,ay.Xf)(n(f,b)).subscribe(r=(0,ni.x)(i,x=>i.next(e?e(f,x,b,g++):x),()=>{r=null,d()}))},()=>{o=!0,d()}))})}var lG=U(6063);class uG extends Dn.x{constructor(e=1/0,t=1/0,i=lG.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;t||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=t.now();let d=0;for(let f=1;f<i.length&&i[f]<=o;f+=2)d=f;d&&i.splice(0,d+1)}}}var rV=U(3099);function sV(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,rV.B)({connector:()=>new uG(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const $S=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var qp=U(515);function Js(n){return n<=0?()=>qp.E:(0,Ln.e)((e,t)=>{let i=0;e.subscribe((0,ni.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function GS(n){return(0,Ln.e)((e,t)=>{let i=!1;e.subscribe((0,ni.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function oV(n=hG){return(0,Ln.e)((e,t)=>{let i=!1;e.subscribe((0,ni.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function hG(){return new $S}function Gf(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ei((r,s)=>n(r,s,i)):Ea.y,Js(1),t?GS(e):oV(()=>new $S))}var ah=U(576);function aV(n,e){return(0,ah.m)(e)?ls(()=>n,e):ls(()=>n)}var eP=U(9468);U(8140);class EP{constructor(){return(0,Qn.vb)("app-check")}}typeof window<"u"&&window;var sq=U(1274);const MV=new l.OlP("angularfire2.auth.use-emulator"),kV=new l.OlP("angularfire2.auth.settings"),RV=new l.OlP("angularfire2.auth.tenant-id"),PV=new l.OlP("angularfire2.auth.langugage-code"),OV=new l.OlP("angularfire2.auth.use-device-language"),NV=new l.OlP("angularfire.auth.persistence"),FV=(n,e,t,i,r,s,o,d)=>(0,jr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=e.runOutsideAngular(()=>n.auth());if(t&&f.useEmulator(...t),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),o)for(const[g,b]of Object.entries(o))f.settings[g]=b;return d&&f.setPersistence(d),f},[t,i,r,s,o,d]);let LV=(()=>{class n{constructor(t,i,r,s,o,d,f,g,b,x,k,N){const V=new Dn.x,$=Mt(void 0).pipe((0,HS.Q)(o.outsideAngular),ls(()=>s.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,8463)))),(0,kt.U)(()=>(0,jr.on)(t,s,i)),(0,kt.U)(W=>FV(W,s,d,g,b,x,f,k)),sV({bufferSize:1,refCount:!1}));if(Lo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Mt(null);else{$.pipe(Gf()).subscribe();const Te=$.pipe(ls(Ze=>Ze.getRedirectResult().then(yt=>yt,()=>null)),Qn.iC,sV({bufferSize:1,refCount:!1})),Ne=$.pipe(ls(Ze=>new _i.y(yt=>({unsubscribe:s.runOutsideAngular(()=>Ze.onAuthStateChanged(mt=>yt.next(mt),mt=>yt.error(mt),()=>yt.complete()))})))),Pe=$.pipe(ls(Ze=>new _i.y(yt=>({unsubscribe:s.runOutsideAngular(()=>Ze.onIdTokenChanged(mt=>yt.next(mt),mt=>yt.error(mt),()=>yt.complete()))}))));this.authState=Te.pipe(aV(Ne),(0,eP.R)(o.outsideAngular),(0,HS.Q)(o.insideAngular)),this.user=Te.pipe(aV(Pe),(0,eP.R)(o.outsideAngular),(0,HS.Q)(o.insideAngular)),this.idToken=this.user.pipe(ls(Ze=>Ze?(0,An.D)(Ze.getIdToken()):Mt(null))),this.idTokenResult=this.user.pipe(ls(Ze=>Ze?(0,An.D)(Ze.getIdTokenResult()):Mt(null))),this.credential=(0,oy.T)(Te,V,this.authState.pipe(ei(Ze=>!Ze))).pipe((0,kt.U)(Ze=>Ze?.user?Ze:null),(0,eP.R)(o.outsideAngular),(0,HS.Q)(o.insideAngular))}return(0,jr.pX)(this,$,s,{spy:{apply:(W,Te,Ne)=>{(W.startsWith("signIn")||W.startsWith("createUser"))&&Ne.then(Pe=>V.next(Pe))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jr.Dh),l.LFG(jr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Qn.HU),l.LFG(MV,8),l.LFG(kV,8),l.LFG(RV,8),l.LFG(PV,8),l.LFG(OV,8),l.LFG(NV,8),l.LFG(EP,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function VV(n,e){return function aq(n,e=Os.z){return new _i.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function xP(n,e){return VV(n,e).pipe((0,kt.U)(t=>({payload:t,type:"query"})))}function JS(n,e){return xP(n,e).pipe(Ar(void 0),sc(),(0,kt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(o=>({type:o.type,payload:o}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((o,d)=>{const f=r.find(b=>b.doc.ref.isEqual(o.ref)),g=t?.payload.docs.find(b=>b.ref.isEqual(o.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(o.metadata)||!f&&g&&JSON.stringify(g.metadata)===JSON.stringify(o.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:o}})}),s}))}function BV(n,e,t){return JS(n,t).pipe(oc((i,r)=>function lq(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function uq(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return TP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return TP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return TP(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),Go(),(0,kt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function TP(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function UV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class jV{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=JS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,kt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Ar(void 0),sc(),ei(([i,r])=>r.length>0||!i),(0,kt.U)(([i,r])=>r),Qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(oc((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=UV(e);return BV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return xP(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Qn.iC)}get(e){return(0,An.D)(this.query.get(e)).pipe(Qn.iC)}add(e){return this.ref.add(e)}doc(e){return new zV(this.ref.doc(e),this.afs)}}class zV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=GV(i,t);return new jV(r,s,this.afs)}snapshotChanges(){return function cq(n,e){return VV(n,e).pipe(Ar(void 0),sc(),(0,kt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,kt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,An.D)(this.ref.get(e)).pipe(Qn.iC)}}class dq{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?JS(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),ei(t=>t.length>0),Qn.iC):JS(this.query,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(oc((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=UV(e);return BV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Qn.iC)}valueChanges(e={}){return xP(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Qn.iC)}get(e){return(0,An.D)(this.query.get(e)).pipe(Qn.iC)}}const HV=new l.OlP("angularfire2.enableFirestorePersistence"),$V=new l.OlP("angularfire2.firestore.persistenceSettings"),hq=new l.OlP("angularfire2.firestore.settings"),fq=new l.OlP("angularfire2.firestore.use-emulator");function GV(n,e=(t=>t)){return{query:e(n),ref:n}}let XI=(()=>{class n{constructor(t,i,r,s,o,d,f,g,b,x,k,N,V,$,W,Te,Ne){this.schedulers=f;const Pe=(0,jr.on)(t,d,i),Ze=b;x&&FV(Pe,d,k,V,$,W,N,Te),[this.firestore,this.persistenceEnabled$]=(0,jr.cc)(`${Pe.name}.firestore`,"AngularFirestore",Pe.name,()=>{const yt=d.runOutsideAngular(()=>Pe.firestore());if(s&&yt.settings(s),Ze&&yt.useEmulator(...Ze),r&&!Lo(o)){const mt=()=>{try{return(0,An.D)(yt.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(ee){return typeof console<"u"&&console.warn(ee),Mt(!1)}};return[yt,d.runOutsideAngular(mt)]}return[yt,Mt(!1)]},[s,Ze,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=GV(r,i),d=this.schedulers.ngZone.run(()=>s);return new jV(d,o,this)}collectionGroup(t,i){const r=i||(o=>o),s=this.firestore.collectionGroup(t);return new dq(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new zV(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jr.Dh),l.LFG(jr.xv,8),l.LFG(HV,8),l.LFG(hq,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Qn.HU),l.LFG($V,8),l.LFG(fq,8),l.LFG(LV,8),l.LFG(MV,8),l.LFG(kV,8),l.LFG(RV,8),l.LFG(PV,8),l.LFG(OV,8),l.LFG(NV,8),l.LFG(EP,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mq=(()=>{class n{constructor(){sq.Z.registerVersion("angularfire",Qn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:HV,useValue:!0},{provide:$V,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[XI]}),n})();const{isArray:pq}=Array,{getPrototypeOf:gq,prototype:_q,keys:yq}=Object;function qV(n){if(1===n.length){const e=n[0];if(pq(e))return{args:e,keys:null};if(function vq(n){return n&&"object"==typeof n&&gq(n)===_q}(e)){const t=yq(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:bq}=Array;function CP(n){return(0,kt.U)(e=>function wq(n,e){return bq(e)?n(...e):n(e)}(n,e))}function WV(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function KV(...n){const e=(0,fr.jO)(n),{args:t,keys:i}=qV(n),r=new _i.y(s=>{const{length:o}=t;if(!o)return void s.complete();const d=new Array(o);let f=o,g=o;for(let b=0;b<o;b++){let x=!1;(0,ay.Xf)(t[b]).subscribe((0,ni.x)(s,k=>{x||(x=!0,g--),d[b]=k},()=>f--,void 0,()=>{(!f||!x)&&(g||s.next(i?WV(i,d):d),s.complete())}))}});return e?r.pipe(CP(e)):r}let ZV=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),cy=(()=>{class n extends ZV{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Au=new l.OlP("NgValueAccessor"),Iq={provide:Au,useExisting:(0,l.Gpc)(()=>Wp),multi:!0},Tq=new l.OlP("CompositionEventMode");let Wp=(()=>{class n extends ZV{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xq(){const n=j()?j().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Tq,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([Iq]),l.qOj]}),n})();const Cq=!1;function Kp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function QV(n){return null!=n&&"number"==typeof n.length}const xo=new l.OlP("NgValidators"),Zp=new l.OlP("NgAsyncValidators"),Aq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _l{static min(e){return function XV(n){return e=>{if(Kp(e.value)||Kp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function JV(n){return e=>{if(Kp(e.value)||Kp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return eB(e)}static requiredTrue(e){return function tB(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function nB(n){return Kp(n.value)||Aq.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function iB(n){return e=>Kp(e.value)||!QV(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function rB(n){return e=>QV(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function sB(n){if(!n)return eD;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Kp(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return dB(e)}static composeAsync(e){return hB(e)}}function eB(n){return Kp(n.value)?{required:!0}:null}function eD(n){return null}function oB(n){return null!=n}function aB(n){const e=(0,l.QGY)(n)?(0,An.D)(n):n;if(Cq&&!(0,l.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,t)}return e}function cB(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function lB(n,e){return e.map(t=>t(n))}function uB(n){return n.map(e=>function Sq(n){return!n.validate}(e)?e:t=>e.validate(t))}function dB(n){if(!n)return null;const e=n.filter(oB);return 0==e.length?null:function(t){return cB(lB(t,e))}}function AP(n){return null!=n?dB(uB(n)):null}function hB(n){if(!n)return null;const e=n.filter(oB);return 0==e.length?null:function(t){return KV(lB(t,e).map(aB)).pipe((0,kt.U)(cB))}}function SP(n){return null!=n?hB(uB(n)):null}function fB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function mB(n){return n._rawValidators}function pB(n){return n._rawAsyncValidators}function DP(n){return n?Array.isArray(n)?n:[n]:[]}function tD(n,e){return Array.isArray(n)?n.includes(e):n===e}function gB(n,e){const t=DP(e);return DP(n).forEach(r=>{tD(t,r)||t.push(r)}),t}function _B(n,e){return DP(e).filter(t=>!tD(n,t))}class yB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=AP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=SP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class oa extends yB{get formDirective(){return null}get path(){return null}}class Yp extends yB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let c0=(()=>{class n extends vB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yp,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),nD=(()=>{class n extends vB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oa,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();function bB(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const RP=!1,JI="VALID",rD="INVALID",l0="PENDING",ex="DISABLED";function PP(n){return(sD(n)?n.validators:n)||null}function OP(n,e){return(sD(e)?e.asyncValidators:n)||null}function sD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function wB(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,RP?function Rq(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new l.vHH(1001,RP?function Pq(n,e){return`Cannot find form control ${bB(n,e)}`}(e,t):"")}function EB(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,RP?function Oq(n,e){return`Must supply a value for form control ${bB(n,e)}`}(e,r):"")})}class oD{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===JI}get invalid(){return this.status===rD}get pending(){return this.status==l0}get disabled(){return this.status===ex}get enabled(){return this.status!==ex}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_B(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_B(e,this._rawAsyncValidators))}hasValidator(e){return tD(this._rawValidators,e)}hasAsyncValidator(e){return tD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=l0,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ex,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=JI,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===JI||this.status===l0)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ex:JI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=l0,this._hasOwnPendingAsyncValidator=!0;const t=aB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ex:this.errors?rD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(l0)?l0:this._anyControlsHaveStatus(rD)?rD:JI}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Nq(n){return Array.isArray(n)?AP(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Fq(n){return Array.isArray(n)?SP(n):n||null}(this._rawAsyncValidators)}}class tx extends oD{constructor(e,t,i){super(PP(t),OP(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){EB(this,!0,e),Object.keys(e).forEach(i=>{wB(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class IB extends tx{}const ly=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>nx}),nx="always";function aD(n,e){return[...e.path,n]}function ix(n,e,t=nx){NP(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Vq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xB(n,e)})}(n,e),function Uq(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Bq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Lq(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cD(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),uD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function lD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function NP(n,e){const t=mB(n);null!==e.validator?n.setValidators(fB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=pB(n);null!==e.asyncValidator?n.setAsyncValidators(fB(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();lD(e._rawValidators,r),lD(e._rawAsyncValidators,r)}function uD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=mB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=pB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return lD(e._rawValidators,i),lD(e._rawAsyncValidators,i),t}function xB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function TB(n,e){NP(n,e)}function LP(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function CB(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function VP(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Wp?t=s:function Hq(n){return Object.getPrototypeOf(n.constructor)===cy}(s)?i=s:r=s}),r||i||t||null}const Gq={provide:oa,useExisting:(0,l.Gpc)(()=>dD)},rx=(()=>Promise.resolve())();let dD=(()=>{class n extends oa{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new tx({},AP(t),SP(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){rx.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),ix(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){rx.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){rx.then(()=>{const i=this._findContainer(t.path),r=new tx({});TB(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){rx.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){rx.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,CB(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xo,10),l.Y36(Zp,10),l.Y36(ly,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Gq]),l.qOj]}),n})();function AB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function SB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const sx=class extends oD{constructor(e=null,t,i){super(PP(t),OP(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sD(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=SB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){SB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Kq={provide:Yp,useExisting:(0,l.Gpc)(()=>ox)},kB=(()=>Promise.resolve())();let ox=(()=>{class n extends Yp{constructor(t,i,r,s,o,d){super(),this._changeDetectorRef=o,this.callSetDisabledState=d,this.control=new sx,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=VP(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),LP(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ix(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){kB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);kB.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?aD(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oa,9),l.Y36(xo,10),l.Y36(Zp,10),l.Y36(Au,10),l.Y36(l.sBO,8),l.Y36(ly,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Kq]),l.qOj,l.TTD]}),n})(),hD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),PB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const BP=new l.OlP("NgModelWithFormControlWarning"),e9={provide:oa,useExisting:(0,l.Gpc)(()=>ax)};let ax=(()=>{class n extends oa{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(uD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return ix(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){cD(t.control||null,t,!1),function $q(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,CB(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(cD(i||null,t),(n=>n instanceof sx)(r)&&(ix(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);TB(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function jq(n,e){return uD(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){NP(this.form,this),this._oldForm&&uD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xo,10),l.Y36(Zp,10),l.Y36(ly,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([e9]),l.qOj,l.TTD]}),n})();const i9={provide:Yp,useExisting:(0,l.Gpc)(()=>fD)};let fD=(()=>{class n extends Yp{set isDisabled(t){}constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=VP(0,s)}ngOnChanges(t){this._added||this._setUpControl(),LP(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return aD(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(oa,13),l.Y36(xo,10),l.Y36(Zp,10),l.Y36(Au,10),l.Y36(BP,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([i9]),l.qOj,l.TTD]}),n})(),uy=(()=>{class n{constructor(){this._validator=eD}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):eD,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const h9={provide:xo,useExisting:(0,l.Gpc)(()=>mD),multi:!0};let mD=(()=>{class n extends uy{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=t=>eB}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([h9]),l.qOj]}),n})(),ZB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[PB]}),n})();class YB extends oD{constructor(e,t,i){super(PP(t),OP(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){EB(this,!1,e),e.forEach((i,r)=>{wB(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function QB(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let XB=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return QB(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new tx(r,s)}record(t,i=null){const r=this._reduceControls(t);return new IB(r,i)}control(t,i,r){let s={};return this.useNonNullable?(QB(i)?s=i:(s.validators=i,s.asyncValidators=r),new sx(t,{...s,nonNullable:!0})):new sx(t,i,r)}array(t,i,r){const s=t.map(o=>this._createControl(o));return new YB(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof sx||t instanceof oD?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y9=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ly,useValue:t.callSetDisabledState??nx}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ZB]}),n})(),JB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:BP,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ly,useValue:t.callSetDisabledState??nx}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ZB]}),n})();const v9_firebase={apiKey:"AIzaSyBYb1OMxcpcM6R64LnR_ClaQhi93foO5D4",authDomain:"facedetection-74e1f.firebaseapp.com",databaseURL:"https://facedetection-74e1f-default-rtdb.firebaseio.com",projectId:"facedetection-74e1f",storageBucket:"facedetection-74e1f.appspot.com",messagingSenderId:"972660051873",appId:"1:972660051873:web:0a650de9da2b525eba85e0",measurementId:"G-Q4XZ2DC1HG"};class aa extends Dn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var b9=U(9672);function $P(...n){const e=(0,fr.yG)(n),t=(0,fr.jO)(n),{args:i,keys:r}=qV(n);if(0===i.length)return(0,An.D)([],e);const s=new _i.y(function w9(n,e,t=Ea.y){return i=>{eU(e,()=>{const{length:r}=n,s=new Array(r);let o=r,d=r;for(let f=0;f<r;f++)eU(e,()=>{const g=(0,An.D)(n[f],e);let b=!1;g.subscribe((0,ni.x)(i,x=>{s[f]=x,b||(b=!0,d--),d||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>WV(r,o):Ea.y));return t?s.pipe(CP(t)):s}function eU(n,e,t){n?(0,b9.f)(t,n,e):e()}function tU(n){return new _i.y(e=>{(0,ay.Xf)(n()).subscribe(e)})}var E9=U(9635);function u0(n,e){const t=(0,ah.m)(n)?n:()=>n,i=r=>r.error(t());return new _i.y(e?r=>e.schedule(i,0,r):i)}var kc=U(727);function GP(){return(0,Ln.e)((n,e)=>{let t=null;n._refCount++;const i=(0,ni.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class nU extends _i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ln.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new kc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ni.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=kc.w0.EMPTY)}return e}refCount(){return GP()(this)}}var to=U(5577);function Qp(n,e){return(0,ah.m)(e)?(0,to.z)(n,e,1):(0,to.z)(n,1)}var us=U(8505);function qf(n){return(0,Ln.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,ni.x)(t,void 0,void 0,o=>{s=(0,ay.Xf)(n(o,qf(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function qP(n){return n<=0?()=>qp.E:(0,Ln.e)((e,t)=>{let i=[];e.subscribe((0,ni.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function iU(n,e){const t=arguments.length>=2;return i=>i.pipe(n?ei((r,s)=>n(r,s,i)):Ea.y,qP(1),t?GS(e):oV(()=>new $S))}function pD(n){return(0,kt.U)(()=>n)}function gD(n){return(0,Ln.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const yn="primary",cx=Symbol("RouteTitle");class x9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function d0(n){return new x9(n)}function T9(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],d=n[s];if(o.startsWith(":"))r[o.substring(1)]=d;else if(o!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ch(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!rU(n[r],e[r]))return!1;return!0}function rU(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function sU(n){return Array.prototype.concat.apply([],n)}function oU(n){return n.length>0?n[n.length-1]:null}function no(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Xp(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,An.D)(Promise.resolve(n)):Mt(n)}const _D=!1,A9={exact:function lU(n,e,t){if(!dy(n.segments,e.segments)||!yD(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!lU(n.children[i],e.children[i],t))return!1;return!0},subset:uU},aU={exact:function S9(n,e){return ch(n,e)},subset:function D9(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rU(n[t],e[t]))},ignored:()=>!0};function cU(n,e,t){return A9[t.paths](n.root,e.root,t.matrixParams)&&aU[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function uU(n,e,t){return dU(n,e,e.segments,t)}function dU(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!dy(r,t)||e.hasChildren()||!yD(r,t,i))}if(n.segments.length===t.length){if(!dy(n.segments,t)||!yD(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!uU(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(dy(n.segments,r)&&yD(n.segments,r,i)&&n.children[yn])&&dU(n.children[yn],e,s,i)}}function yD(n,e,t){return e.every((i,r)=>aU[t](n[r].parameters,i.parameters))}class Jp{constructor(e=new Cn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=d0(this.queryParams)),this._queryParamMap}toString(){return R9.serialize(this)}}class Cn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,no(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vD(this)}}class lx{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=d0(this.parameters)),this._parameterMap}toString(){return mU(this)}}function dy(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let ux=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new WP},providedIn:"root"}),n})();class WP{parse(e){const t=new j9(e);return new Jp(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${dx(e.root,!0)}`,i=function N9(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${bD(t)}=${bD(r)}`).join("&"):`${bD(t)}=${bD(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function P9(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const R9=new WP;function vD(n){return n.segments.map(e=>mU(e)).join("/")}function dx(n,e){if(!n.hasChildren())return vD(n);if(e){const t=n.children[yn]?dx(n.children[yn],!1):"",i=[];return no(n.children,(r,s)=>{s!==yn&&i.push(`${s}:${dx(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function k9(n,e){let t=[];return no(n.children,(i,r)=>{r===yn&&(t=t.concat(e(i,r)))}),no(n.children,(i,r)=>{r!==yn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===yn?[dx(n.children[yn],!1)]:[`${r}:${dx(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yn]?`${vD(n)}/${t[0]}`:`${vD(n)}/(${t.join("//")})`}}function hU(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bD(n){return hU(n).replace(/%3B/gi,";")}function KP(n){return hU(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wD(n){return decodeURIComponent(n)}function fU(n){return wD(n.replace(/\+/g,"%20"))}function mU(n){return`${KP(n.path)}${function O9(n){return Object.keys(n).map(e=>`;${KP(e)}=${KP(n[e])}`).join("")}(n.parameters)}`}const F9=/^[^\/()?;=#]+/;function ED(n){const e=n.match(F9);return e?e[0]:""}const L9=/^[^=?&#]+/,B9=/^[^&#]+/;class j9{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[yn]=new Cn(e,t)),i}parseSegment(){const e=ED(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,_D);return this.capture(e),new lx(wD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ED(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=ED(this.remaining);r&&(i=r,this.capture(i))}e[wD(t)]=wD(i)}parseQueryParam(e){const t=function V9(n){const e=n.match(L9);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function U9(n){const e=n.match(B9);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=fU(t),s=fU(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ED(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,_D);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=yn);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[yn]:new Cn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,_D)}}function ZP(n){return n.segments.length>0?new Cn([],{[yn]:n}):n}function ID(n){const e={};for(const i of Object.keys(n.children)){const s=ID(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function z9(n){if(1===n.numberOfChildren&&n.children[yn]){const e=n.children[yn];return new Cn(n.segments.concat(e.segments),e.children)}return n}(new Cn(n.segments,e))}function hy(n){return n instanceof Jp}const YP=!1;function H9(n,e,t,i,r){if(0===t.length)return h0(e.root,e.root,e.root,i,r);const s=function vU(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yU(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return no(s.outlets,(f,g)=>{d[g]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new yU(t,e,i)}(t);return s.toRoot()?h0(e.root,e.root,new Cn([],{}),i,r):function o(f){const g=function G9(n,e,t,i){if(n.isAbsolute)return new f0(e.root,!0,0);if(-1===i)return new f0(t,t===e.root,0);return function bU(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.vHH(4005,YP&&"Invalid number of '../'");r=i.segments.length}return new f0(i,!1,r-s)}(t,i+(hx(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,f),b=g.processChildren?m0(g.segmentGroup,g.index,s.commands):QP(g.segmentGroup,g.index,s.commands);return h0(e.root,g.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function hx(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fx(n){return"object"==typeof n&&null!=n&&n.outlets}function h0(n,e,t,i,r){let o,s={};i&&no(i,(f,g)=>{s[g]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),o=n===e?t:_U(n,e,t);const d=ZP(ID(o));return new Jp(d,s,r)}function _U(n,e,t){const i={};return no(n.children,(r,s)=>{i[s]=r===e?t:_U(r,e,t)}),new Cn(n.segments,i)}class yU{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&hx(i[0]))throw new l.vHH(4003,YP&&"Root segment cannot have matrix parameters");const r=i.find(fx);if(r&&r!==oU(i))throw new l.vHH(4004,YP&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class f0{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function QP(n,e,t){if(n||(n=new Cn([],{})),0===n.segments.length&&n.hasChildren())return m0(n,e,t);const i=function W9(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],d=t[i];if(fx(d))break;const f=`${d}`,g=i<t.length-1?t[i+1]:null;if(r>0&&void 0===f)break;if(f&&g&&"object"==typeof g&&void 0===g.outlets){if(!EU(f,g,o))return s;i+=2}else{if(!EU(f,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Cn(n.segments.slice(0,i.pathIndex),{});return s.children[yn]=new Cn(n.segments.slice(i.pathIndex),n.children),m0(s,0,r)}return i.match&&0===r.length?new Cn(n.segments,{}):i.match&&!n.hasChildren()?XP(n,e,t):i.match?m0(n,0,r):XP(n,e,t)}function m0(n,e,t){if(0===t.length)return new Cn(n.segments,{});{const i=function q9(n){return fx(n[0])?n[0].outlets:{[yn]:n}}(t),r={};if(!i[yn]&&n.children[yn]&&1===n.numberOfChildren&&0===n.children[yn].segments.length){const s=m0(n.children[yn],e,t);return new Cn(n.segments,s.children)}return no(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=QP(n.children[o],e,s))}),no(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new Cn(n.segments,r)}}function XP(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(fx(s)){const f=K9(s.outlets);return new Cn(i,f)}if(0===r&&hx(t[0])){i.push(new lx(n.segments[e].path,wU(t[0]))),r++;continue}const o=fx(s)?s.outlets[yn]:`${s}`,d=r<t.length-1?t[r+1]:null;o&&d&&hx(d)?(i.push(new lx(o,wU(d))),r+=2):(i.push(new lx(o,{})),r++)}return new Cn(i,{})}function K9(n){const e={};return no(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=XP(new Cn([],{}),0,t))}),e}function wU(n){const e={};return no(n,(t,i)=>e[i]=`${t}`),e}function EU(n,e,t){return n==t.path&&ch(e,t.parameters)}const mx="imperative";class lh{constructor(e,t){this.id=e,this.url=t}}class JP extends lh{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fy extends lh{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xD extends lh{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class TD extends lh{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class eO extends lh{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Z9 extends lh{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y9 extends lh{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q9 extends lh{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class X9 extends lh{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J9 extends lh{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class t8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class n8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r8{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s8{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IU{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let c8=(()=>{class n{createUrlTree(t,i,r,s,o,d){return H9(t||i.root,r,s,o,d)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),u8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return c8.\u0275fac(e)},providedIn:"root"}),n})();class xU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=tO(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=tO(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=nO(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return nO(e,this._root).map(t=>t.value)}}function tO(n,e){if(n===e.value)return e;for(const t of e.children){const i=tO(n,t);if(i)return i}return null}function nO(n,e){if(n===e.value)return[e];for(const t of e.children){const i=nO(n,t);if(i.length)return i.unshift(e),i}return[]}class Wf{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function p0(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class TU extends xU{constructor(e,t){super(e),this.snapshot=t,iO(this,e)}toString(){return this.snapshot.toString()}}function CU(n,e){const t=function d8(n,e){const o=new CD([],{},{},"",{},yn,e,null,n.root,-1,{});return new SU("",new Wf(o,[]))}(n,e),i=new aa([new lx("",{})]),r=new aa({}),s=new aa({}),o=new aa({}),d=new aa(""),f=new g0(i,r,o,d,s,yn,e,t.root);return f.snapshot=t.root,new TU(new Wf(f,[]),t)}class g0{constructor(e,t,i,r,s,o,d,f){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=d,this.title=this.data?.pipe((0,kt.U)(g=>g[cx]))??Mt(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(e=>d0(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(e=>d0(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function AU(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function h8(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class CD{get title(){return this.data?.[cx]}constructor(e,t,i,r,s,o,d,f,g,b,x){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=d,this.routeConfig=f,this._urlSegment=g,this._lastPathIndex=b,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=d0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=d0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SU extends xU{constructor(e,t){super(t),this.url=e,iO(this,t)}toString(){return DU(this._root)}}function iO(n,e){e.value._routerState=n,e.children.forEach(t=>iO(n,t))}function DU(n){const e=n.children.length>0?` { ${n.children.map(DU).join(", ")} } `:"";return`${n.value}${e}`}function rO(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ch(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ch(e.params,t.params)||n.params.next(t.params),function C9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ch(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ch(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function sO(n,e){const t=ch(n.params,e.params)&&function M9(n,e){return dy(n,e)&&n.every((t,i)=>ch(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||sO(n.parent,e.parent))}function px(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function m8(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return px(n,i,r);return px(n,i)})}(n,e,t);return new Wf(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(d=>px(n,d)),o}}const i=function p8(n){return new g0(new aa(n.url),new aa(n.params),new aa(n.queryParams),new aa(n.fragment),new aa(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>px(n,s));return new Wf(i,r)}}const oO="ngNavigationCancelingError";function MU(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=hy(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=kU(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function kU(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[oO]=!0,i.cancellationCode=e,t&&(i.url=t),i}function RU(n){return PU(n)&&hy(n.url)}function PU(n){return n&&n[oO]}class g8{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new gx,this.attachRef=null}}let gx=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new g8,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AD=!1;let SD=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=yn,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(gx),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,AD);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,AD);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,AD);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,AD);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new _8(t,d,r.injector);if(i&&function y8(n){return!!n.resolveComponentFactory}(i)){const g=i.resolveComponentFactory(o);this.activated=r.createComponent(g,r.length,f)}else this.activated=r.createComponent(o,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class _8{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===g0?this.route:e===gx?this.childContexts:this.parent.get(e,t)}}let aO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[SD],encapsulation:2}),n})();function OU(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function lO(n){const e=n.children&&n.children.map(lO),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==yn&&(t.component=aO),t}function yl(n){return n.outlet||yn}function NU(n,e){const t=n.filter(i=>yl(i)===e);return t.push(...n.filter(i=>yl(i)!==e)),t}function _x(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class I8{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),rO(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=p0(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),no(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=p0(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=p0(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=p0(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new s8(s.value.snapshot))}),e.children.length&&this.forwardEvent(new i8(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(rO(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(d.contexts),o.attachRef=d.componentRef,o.route=d.route.value,o.outlet&&o.outlet.attach(d.componentRef,d.route.value),rO(d.route.value),this.activateChildRoutes(e,null,o.children)}else{const d=_x(r.snapshot),f=d?.get(l._Vd)??null;o.attachRef=null,o.route=r,o.resolver=f,o.injector=d,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class FU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class DD{constructor(e,t){this.component=e,this.route=t}}function x8(n,e,t){const i=n._root;return yx(i,e?e._root:null,t,[i.value])}function _0(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function yx(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=p0(e);return n.children.forEach(o=>{(function C8(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const f=function A8(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!dy(n.url,e.url);case"pathParamsOrQueryParamsChange":return!dy(n.url,e.url)||!ch(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sO(n,e)||!ch(n.queryParams,e.queryParams);default:return!sO(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new FU(i)):(s.data=o.data,s._resolvedData=o._resolvedData),yx(n,e,s.component?d?d.children:null:t,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new DD(d.outlet.component,o))}else o&&vx(e,d,r),r.canActivateChecks.push(new FU(i)),yx(n,null,s.component?d?d.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),no(s,(o,d)=>vx(o,t.getContext(d),r)),r}function vx(n,e,t){const i=p0(n),r=n.value;no(i,(s,o)=>{vx(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new DD(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function bx(n){return"function"==typeof n}function uO(n){return n instanceof $S||"EmptyError"===n?.name}const MD=Symbol("INITIAL_VALUE");function y0(){return ls(n=>$P(n.map(e=>e.pipe(Js(1),Ar(MD)))).pipe((0,kt.U)(e=>{for(const t of e)if(!0!==t){if(t===MD)return MD;if(!1===t||t instanceof Jp)return t}return!0}),ei(e=>e!==MD),Js(1)))}function LU(n){return(0,E9.z)((0,us.b)(e=>{if(hy(e))throw MU(0,e)}),(0,kt.U)(e=>!0===e))}const dO={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VU(n,e,t,i,r){const s=hO(n,e,t);return s.matched?function $8(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Mt(r.map(o=>{const d=_0(o,n);return Xp(function P8(n){return n&&bx(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))})).pipe(y0(),LU()):Mt(!0)}(i=OU(e,i),e,t).pipe((0,kt.U)(o=>!0===o?s:{...dO})):Mt(s)}function hO(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...dO}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||T9)(t,n,e);if(!r)return{...dO};const s={};no(r.posParams,(d,f)=>{s[f]=d.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function kD(n,e,t,i){if(t.length>0&&function W8(n,e,t){return t.some(i=>RD(n,e,i)&&yl(i)!==yn)}(n,t,i)){const s=new Cn(e,function q8(n,e,t,i){const r={};r[yn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&yl(s)!==yn){const o=new Cn([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[yl(s)]=o}return r}(n,e,i,new Cn(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function K8(n,e,t){return t.some(i=>RD(n,e,i))}(n,t,i)){const s=new Cn(n.segments,function G8(n,e,t,i,r){const s={};for(const o of i)if(RD(n,t,o)&&!r[yl(o)]){const d=new Cn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,s[yl(o)]=d}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new Cn(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function RD(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function BU(n,e,t,i){return!!(yl(n)===i||i!==yn&&RD(e,t,n))&&("**"===n.path||hO(e,n,t).matched)}function UU(n,e,t){return 0===e.length&&!n.children[t]}const PD=!1;class OD{constructor(e){this.segmentGroup=e||null}}class jU{constructor(e){this.urlTree=e}}function wx(n){return u0(new OD(n))}function zU(n){return u0(new jU(n))}function Z8(n){return u0(new l.vHH(4e3,PD&&`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class X8{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=kD(this.urlTree.root,[],[],this.config).segmentGroup,t=new Cn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,yn).pipe((0,kt.U)(s=>this.createUrlTree(ID(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qf(s=>{if(s instanceof jU)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof OD?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,yn).pipe((0,kt.U)(r=>this.createUrlTree(ID(r),e.queryParams,e.fragment))).pipe(qf(r=>{throw r instanceof OD?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,PD&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=ZP(e);return new Jp(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,kt.U)(s=>new Cn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,An.D)(r).pipe(Qp(s=>{const o=i.children[s],d=NU(t,s);return this.expandSegmentGroup(e,d,o,s).pipe((0,kt.U)(f=>({segment:f,outlet:s})))}),oc((s,o)=>(s[o.outlet]=o.segment,s),{}),iU())}expandSegment(e,t,i,r,s,o){return(0,An.D)(i).pipe(Qp(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,o).pipe(qf(g=>{if(g instanceof OD)return Mt(null);throw g}))),Gf(d=>!!d),qf((d,f)=>{if(uO(d))return UU(t,r,s)?Mt(new Cn([],{})):wx(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,o,d){return BU(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):wx(t):wx(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?zU(s):this.lineralizeSegments(i,s).pipe((0,to.z)(o=>{const d=new Cn(o,{});return this.expandSegment(e,d,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:d,consumedSegments:f,remainingSegments:g,positionalParamSegments:b}=hO(t,r,s);if(!d)return wx(t);const x=this.applyRedirectCommands(f,r.redirectTo,b);return r.redirectTo.startsWith("/")?zU(x):this.lineralizeSegments(r,x).pipe((0,to.z)(k=>this.expandSegment(e,t,i,k.concat(g),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=OU(i,e),i.loadChildren?(i._loadedRoutes?Mt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,kt.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new Cn(r,{})))):Mt(new Cn(r,{}))):VU(t,i,r,e).pipe(ls(({matched:o,consumedSegments:d,remainingSegments:f})=>o?this.getChildConfig(e=i._injector??e,i,r).pipe((0,to.z)(b=>{const x=b.injector??e,k=b.routes,{segmentGroup:N,slicedSegments:V}=kD(t,d,f,k),$=new Cn(N.segments,N.children);if(0===V.length&&$.hasChildren())return this.expandChildren(x,k,$).pipe((0,kt.U)(Pe=>new Cn(d,Pe)));if(0===k.length&&0===V.length)return Mt(new Cn(d,{}));const W=yl(i)===s;return this.expandSegment(x,$,k,V,W?yn:s,!0).pipe((0,kt.U)(Ne=>new Cn(d.concat(Ne.segments),Ne.children)))})):wx(t)))}getChildConfig(e,t,i){return t.children?Mt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Mt({routes:t._loadedRoutes,injector:t._loadedInjector}):function H8(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Mt(!0):Mt(r.map(o=>{const d=_0(o,n);return Xp(function D8(n){return n&&bx(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))})).pipe(y0(),LU())}(e,t,i).pipe((0,to.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,us.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Y8(n){return u0(kU(PD&&`Cannot load children because the guard of the route "path: '${n.path}'" returned false`,3))}(t))):Mt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Mt(i);if(r.numberOfChildren>1||!r.children[yn])return Z8(e.redirectTo);r=r.children[yn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Jp(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return no(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return no(t.children,(d,f)=>{o[f]=this.createSegmentGroup(e,d,i,r)}),new Cn(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,PD&&`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class e7{}class i7{constructor(e,t,i,r,s,o,d){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=d}recognize(){const e=kD(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,yn).pipe((0,kt.U)(t=>{if(null===t)return null;const i=new CD([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},yn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Wf(i,t),s=new SU(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=AU(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,An.D)(Object.keys(i.children)).pipe(Qp(r=>{const s=i.children[r],o=NU(t,r);return this.processSegmentGroup(e,o,s,r)}),oc((r,s)=>r&&s?(r.push(...s),r):null),function I9(n,e=!1){return(0,Ln.e)((t,i)=>{let r=0;t.subscribe((0,ni.x)(i,s=>{const o=n(s,r++);(o||e)&&i.next(s),!o&&i.complete()}))})}(r=>null!==r),GS(null),iU(),(0,kt.U)(r=>{if(null===r)return null;const s=$U(r);return function r7(n){n.sort((e,t)=>e.value.outlet===yn?-1:t.value.outlet===yn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,An.D)(t).pipe(Qp(o=>this.processSegmentAgainstRoute(o._injector??e,o,i,r,s)),Gf(o=>!!o),qf(o=>{if(uO(o))return UU(i,r,s)?Mt([]):Mt(null);throw o}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!BU(t,i,r,s))return Mt(null);let o;if("**"===t.path){const d=r.length>0?oU(r).parameters:{},f=qU(i)+r.length;o=Mt({snapshot:new CD(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WU(t),yl(t),t.component??t._loadedComponent??null,t,GU(i),f,KU(t)),consumedSegments:[],remainingSegments:[]})}else o=VU(i,t,r,e).pipe((0,kt.U)(({matched:d,consumedSegments:f,remainingSegments:g,parameters:b})=>{if(!d)return null;const x=qU(i)+f.length;return{snapshot:new CD(f,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WU(t),yl(t),t.component??t._loadedComponent??null,t,GU(i),x,KU(t)),consumedSegments:f,remainingSegments:g}}));return o.pipe(ls(d=>{if(null===d)return Mt(null);const{snapshot:f,consumedSegments:g,remainingSegments:b}=d;e=t._injector??e;const x=t._loadedInjector??e,k=function s7(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:N,slicedSegments:V}=kD(i,g,b,k.filter(W=>void 0===W.redirectTo));if(0===V.length&&N.hasChildren())return this.processChildren(x,k,N).pipe((0,kt.U)(W=>null===W?null:[new Wf(f,W)]));if(0===k.length&&0===V.length)return Mt([new Wf(f,[])]);const $=yl(t)===s;return this.processSegment(x,k,N,V,$?yn:s).pipe((0,kt.U)(W=>null===W?null:[new Wf(f,W)]))}))}}function o7(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $U(n){const e=[],t=new Set;for(const i of n){if(!o7(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=$U(i.children);e.push(new Wf(i.value,r))}return e.filter(i=>!t.has(i))}function GU(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qU(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function WU(n){return n.data||{}}function KU(n){return n.resolve||{}}function ZU(n){return"string"==typeof n.title||null===n.title}function fO(n){return ls(e=>{const t=n(e);return t?(0,An.D)(t).pipe((0,kt.U)(()=>e)):Mt(e)})}const v0=new l.OlP("ROUTES");let mO=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Mt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Xp(t.loadComponent()).pipe((0,kt.U)(QU),(0,us.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),gD(()=>{this.componentLoaders.delete(t)})),r=new nU(i,()=>new Dn.x).pipe(GP());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Mt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,kt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,g,b=!1;Array.isArray(d)?g=d:(f=d.create(t).injector,g=sU(f.get(v0,[],l.XFs.Self|l.XFs.Optional)));return{routes:g.map(lO),injector:f}}),gD(()=>{this.childrenLoaders.delete(i)})),o=new nU(s,()=>new Dn.x).pipe(GP());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(t){return Xp(t()).pipe((0,kt.U)(QU),(0,to.z)(i=>i instanceof l.YKP||Array.isArray(i)?Mt(i):(0,An.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QU(n){return function m7(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let FD=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Dn.x,this.configLoader=(0,l.f3M)(mO),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(ux),this.rootContexts=(0,l.f3M)(gx),this.navigationId=0,this.afterPreactivation=()=>Mt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new t8(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new e8(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new aa({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mx,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ei(i=>0!==i.id),(0,kt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),ls(i=>{let r=!1,s=!1;return Mt(i).pipe((0,us.b)(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ls(o=>{const d=t.browserUrlTree.toString(),f=!t.navigated||o.extractedUrl.toString()!==d||d!==t.currentUrlTree.toString();if(!f&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const b="";return this.events.next(new TD(o.id,t.serializeUrl(i.rawUrl),b,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),qp.E}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return XU(o.source)&&(t.browserUrlTree=o.extractedUrl),Mt(o).pipe(ls(b=>{const x=this.transitions?.getValue();return this.events.next(new JP(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),x!==this.transitions?.getValue()?qp.E:Promise.resolve(b)}),function J8(n,e,t,i){return ls(r=>function Q8(n,e,t,i,r){return new X8(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,kt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,us.b)(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},i.urlAfterRedirects=b.urlAfterRedirects}),function c7(n,e,t,i,r){return(0,to.z)(s=>function n7(n,e,t,i,r,s,o="emptyOnly"){return new i7(n,e,t,i,r,o,s).recognize().pipe(ls(d=>null===d?function t7(n){return new _i.y(e=>e.error(n))}(new e7):Mt(d)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe((0,kt.U)(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,us.b)(b=>{if(i.targetSnapshot=b.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!b.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);t.setBrowserUrl(k,b)}t.browserUrlTree=b.urlAfterRedirects}const x=new Z9(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(x)}));if(f&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:b,extractedUrl:x,source:k,restoredState:N,extras:V}=o,$=new JP(b,this.urlSerializer.serialize(x),k,N);this.events.next($);const W=CU(x,this.rootComponentType).snapshot;return Mt(i={...o,targetSnapshot:W,urlAfterRedirects:x,extras:{...V,skipLocationChange:!1,replaceUrl:!1}})}{const b="";return this.events.next(new TD(o.id,t.serializeUrl(i.extractedUrl),b,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),qp.E}}),(0,us.b)(o=>{const d=new Y9(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(d)}),(0,kt.U)(o=>i={...o,guards:x8(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function N8(n,e){return(0,to.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Mt({...t,guardsResult:!0}):function F8(n,e,t,i){return(0,An.D)(n).pipe((0,to.z)(r=>function z8(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Mt(s.map(d=>{const f=_x(e)??r,g=_0(d,f);return Xp(function R8(n){return n&&bx(n.canDeactivate)}(g)?g.canDeactivate(n,e,t,i):f.runInContext(()=>g(n,e,t,i))).pipe(Gf())})).pipe(y0()):Mt(!0)}(r.component,r.route,t,e,i)),Gf(r=>!0!==r,!0))}(o,i,r,n).pipe((0,to.z)(d=>d&&function S8(n){return"boolean"==typeof n}(d)?function L8(n,e,t,i){return(0,An.D)(e).pipe(Qp(r=>rc(function B8(n,e){return null!==n&&e&&e(new n8(n)),Mt(!0)}(r.route.parent,i),function V8(n,e){return null!==n&&e&&e(new r8(n)),Mt(!0)}(r.route,i),function j8(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function T8(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>tU(()=>Mt(o.guards.map(f=>{const g=_x(o.node)??t,b=_0(f,g);return Xp(function k8(n){return n&&bx(n.canActivateChild)}(b)?b.canActivateChild(i,n):g.runInContext(()=>b(i,n))).pipe(Gf())})).pipe(y0())));return Mt(s).pipe(y0())}(n,r.path,t),function U8(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Mt(!0);const r=i.map(s=>tU(()=>{const o=_x(e)??t,d=_0(s,o);return Xp(function M8(n){return n&&bx(n.canActivate)}(d)?d.canActivate(e,n):o.runInContext(()=>d(e,n))).pipe(Gf())}));return Mt(r).pipe(y0())}(n,r.route,t))),Gf(r=>!0!==r,!0))}(i,s,n,e):Mt(d)),(0,kt.U)(d=>({...t,guardsResult:d})))})}(this.environmentInjector,o=>this.events.next(o)),(0,us.b)(o=>{if(i.guardsResult=o.guardsResult,hy(o.guardsResult))throw MU(0,o.guardsResult);const d=new Q9(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(d)}),ei(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),fO(o=>{if(o.guards.canActivateChecks.length)return Mt(o).pipe((0,us.b)(d=>{const f=new X9(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),ls(d=>{let f=!1;return Mt(d).pipe(function l7(n,e){return(0,to.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Mt(t);let s=0;return(0,An.D)(r).pipe(Qp(o=>function u7(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!ZU(r)&&(s[cx]=r.title),function d7(n,e,t,i){const r=function h7(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Mt({});const s={};return(0,An.D)(r).pipe((0,to.z)(o=>function f7(n,e,t,i){const r=_x(e)??i,s=_0(n,r);return Xp(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(Gf(),(0,us.b)(d=>{s[o]=d}))),qP(1),pD(s),qf(o=>uO(o)?qp.E:u0(o)))}(s,n,e,i).pipe((0,kt.U)(o=>(n._resolvedData=o,n.data=AU(n,t).resolve,r&&ZU(r)&&(n.data[cx]=r.title),null)))}(o.route,i,n,e)),(0,us.b)(()=>s++),qP(1),(0,to.z)(o=>s===r.length?Mt(t):qp.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,us.b)({next:()=>f=!0,complete:()=>{f||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",2))}}))}),(0,us.b)(d=>{const f=new J9(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),fO(o=>{const d=f=>{const g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe((0,us.b)(b=>{f.component=b}),(0,kt.U)(()=>{})));for(const b of f.children)g.push(...d(b));return g};return $P(d(o.targetSnapshot.root)).pipe(GS(),Js(1))}),fO(()=>this.afterPreactivation()),(0,kt.U)(o=>{const d=function f8(n,e,t){const i=px(n,e._root,t?t._root:void 0);return new TU(i,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:d}}),(0,us.b)(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>(0,kt.U)(i=>(new I8(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),Js(1),(0,us.b)({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new fy(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),gD(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),qf(o=>{if(s=!0,PU(o)){RU(o)||(t.navigated=!0,t.restoreHistory(i,!0));const d=new xD(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(d),RU(o)){const f=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),g={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||XU(i.source)};t.scheduleNavigation(f,mx,null,g,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const d=new eO(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(d);try{i.resolve(t.errorHandler(o))}catch(f){i.reject(f)}}return qp.E}))}))}cancelNavigationTransition(t,i,r){const s=new xD(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XU(n){return n!==mx}let JU=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===yn);return i}getResolvedTitleForRoute(t){return t.data[cx]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(p7)},providedIn:"root"}),n})(),p7=(()=>{class n extends JU{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Vg))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(y7)},providedIn:"root"}),n})();class _7{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let y7=(()=>{class n extends _7{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LD=new l.OlP("",{providedIn:"root",factory:()=>({})});let b7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(w7)},providedIn:"root"}),n})(),w7=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E7(n){throw n}function I7(n,e,t){return e.parse("/")}const x7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},T7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rc=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(LD,{optional:!0})||{},this.errorHandler=this.options.errorHandler||E7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||I7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(b7),this.routeReuseStrategy=(0,l.f3M)(g7),this.urlCreationStrategy=(0,l.f3M)(u8),this.titleStrategy=(0,l.f3M)(JU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=sU((0,l.f3M)(v0,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(FD),this.urlSerializer=(0,l.f3M)(ux),this.location=(0,l.f3M)(ot),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Jp,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=CU(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mx,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const f={...r};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const d=this.parseUrl(t);this.scheduleNavigation(d,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(lO),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:d,preserveFragment:f}=i,g=f?this.currentUrlTree.fragment:o;let b=null;switch(d){case"merge":b={...this.currentUrlTree.queryParams,...s};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,b,g??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=hy(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,mx,null,i)}navigate(t,i={skipLocationChange:!1}){return function C7(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...x7}:!1===i?{...T7}:i,hy(t))return cU(this.currentUrlTree,t,r);const s=this.parseUrl(t);return cU(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let d,f,g,b;return o?(d=o.resolve,f=o.reject,g=o.promise):g=new Promise((x,k)=>{d=x,f=k}),b="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:d,reject:f,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(x=>Promise.reject(x))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VD=(()=>{class n{constructor(t,i,r,s,o,d){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=d,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Dn.x;const f=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===f||"area"===f,this.isAnchorElement?this.subscription=t.events.subscribe(g=>{g instanceof fy&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rc),l.Y36(g0),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Rt))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&l.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),e4=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,s,o){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=t.events.subscribe(d=>{d instanceof fy&&this.update()})}ngAfterContentInit(){Mt(this.links.changes,Mt(null)).pipe((0,wa.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,An.D)(t).pipe((0,wa.J)()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function A7(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rc),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(VD,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,VD,5),2&t){let s;l.iGM(s=l.CRH())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),n})();class t4{}let S7=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ei(t=>t instanceof fy),Qp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,d=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,An.D)(r).pipe((0,wa.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Mt(null);const s=r.pipe((0,to.z)(o=>null===o?Mt(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(i.loadComponent&&!i._loadedComponent){const o=this.loader.loadComponent(i);return(0,An.D)([s,o]).pipe((0,wa.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rc),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(t4),l.LFG(mO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gO=new l.OlP("");let n4=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof JP?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fy&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof IU&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new IU(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var Pc=(()=>((Pc=Pc||{})[Pc.COMPLETE=0]="COMPLETE",Pc[Pc.FAILED=1]="FAILED",Pc[Pc.REDIRECTING=2]="REDIRECTING",Pc))();const b0=!1;function eg(n,e){return{\u0275kind:n,\u0275providers:e}}const _O=new l.OlP("",{providedIn:"root",factory:()=>!1});function r4(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(Rc),r=n.get(s4);1===n.get(yO)&&i.initialNavigation(),n.get(o4,null,l.XFs.Optional)?.setUpPreloading(),n.get(gO,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const s4=new l.OlP(b0?"bootstrap done indicator":"",{factory:()=>new Dn.x}),yO=new l.OlP(b0?"initial navigation":"",{providedIn:"root",factory:()=>1});function P7(){let n=[];return n=b0?[{provide:l.Xts,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Rc);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function o8(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],eg(1,n)}const o4=new l.OlP(b0?"router preloader":"");function O7(n){return eg(0,[{provide:o4,useExisting:S7},{provide:t4,useExisting:n}])}const Ex=!1,a4=new l.OlP(Ex?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),N7=[ot,{provide:ux,useClass:WP},Rc,gx,{provide:g0,useFactory:function i4(n){return n.routerState.root},deps:[Rc]},mO,Ex?{provide:_O,useValue:!0}:[]];function F7(){return new l.PXZ("Router",Rc)}let c4=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[N7,Ex&&i?.enableTracing?P7().\u0275providers:[],{provide:v0,multi:!0,useValue:t},{provide:a4,useFactory:U7,deps:[[Rc,new l.FiY,new l.tp0]]},{provide:LD,useValue:i||{}},i?.useHash?{provide:Rt,useClass:Qe}:{provide:Rt,useClass:Ye},{provide:gO,useFactory:()=>{const n=(0,l.f3M)(kl),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(LD),i=(0,l.f3M)(FD),r=(0,l.f3M)(ux);return t.scrollOffset&&n.setOffset(t.scrollOffset),new n4(r,i,n,e,t)}},i?.preloadingStrategy?O7(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:F7},i?.initialNavigation?j7(i):[],[{provide:l4,useFactory:r4},{provide:l.tb,multi:!0,useExisting:l4}]]}}static forChild(t){return{ngModule:n,providers:[{provide:v0,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(a4,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[aO]}),n})();function U7(n){if(Ex&&n)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function j7(n){return["disabled"===n.initialNavigation?eg(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Rc);return()=>{e.setUpLocationChangeListener()}}},{provide:yO,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?eg(2,[{provide:yO,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(Me,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Rc),s=e.get(s4);(function D7(n,e){n.events.pipe(ei(t=>t instanceof fy||t instanceof xD||t instanceof eO||t instanceof TD),(0,kt.U)(t=>t instanceof fy||t instanceof TD?Pc.COMPLETE:t instanceof xD&&(0===t.code||1===t.code)?Pc.REDIRECTING:Pc.FAILED),ei(t=>t!==Pc.REDIRECTING),Js(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(FD).afterPreactivation=()=>(i(!0),s.closed?Mt(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const l4=new l.OlP(Ex?"Router Initializer":"");let vO=(()=>{const e=class{constructor(i){this.afs=i,this.enseignantsCollection=i.collection("enseignants")}getEnseignants(){return this.enseignantsCollection.valueChanges({idField:"id"})}addEnseignant(i){return this.enseignantsCollection.add(i)}updateEnseignant(i,r){return this.enseignantsCollection.doc(i).update(r)}deleteEnseignant(i){return this.enseignantsCollection.doc(i).delete()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.LFG(XI))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function H7(n,e){1&n&&(l.TgZ(0,"div",14),l._uU(1,"Pr\xe9nom invalide"),l.qZA())}function $7(n,e){1&n&&(l.TgZ(0,"div",14),l._uU(1,"Nom invalide"),l.qZA())}function G7(n,e){1&n&&(l.TgZ(0,"div",14),l._uU(1,"Email invalide"),l.qZA())}function q7(n,e){1&n&&(l.TgZ(0,"div",14),l._uU(1,"Date requise"),l.qZA())}function W7(n,e){1&n&&(l.TgZ(0,"div",14),l._uU(1,"Mati\xe8re requise"),l.qZA())}function K7(n,e){if(1&n&&l._UZ(0,"img",17),2&n){const t=l.oxw(2);l.Q6J("src",t.previewUrl,l.LSH)}}function Z7(n,e){if(1&n&&(l.TgZ(0,"div",15),l.YNc(1,K7,1,1,"img",16),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.previewUrl)}}function Y7(n,e){if(1&n&&(l.TgZ(0,"div",18),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.successMessage)}}function Q7(n,e){if(1&n&&(l.TgZ(0,"div",19),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.errorMessage)}}let X7=(()=>{const e=class{constructor(i,r){this.fb=i,this.enseignantService=r,this.isEditMode=!1,this.successMessage="",this.errorMessage="",this.previewUrl=null}ngOnInit(){this.enseignantForm=this.fb.group({firstName:["",_l.required],lastName:["",_l.required],email:["",[_l.required,_l.email]],dateOfBirth:["",_l.required],course:["",_l.required]})}onFileChange(i){if(i.target.files&&i.target.files[0]){const r=i.target.files[0],s=new FileReader;s.onload=()=>{this.previewUrl=s.result},s.readAsDataURL(r)}}isFieldInvalid(i){const r=this.enseignantForm.get(i);return!(!r||!r.invalid||!r.dirty&&!r.touched)}onSubmit(){this.enseignantForm.valid?this.enseignantService.addEnseignant(this.enseignantForm.value).then(r=>{this.successMessage="Enseignant ajout\xe9 avec succ\xe8s !",this.errorMessage="",this.resetForm()},r=>{this.errorMessage="Une erreur est survenue lors de l'ajout de l'enseignant.",this.successMessage=""}):(this.errorMessage="Veuillez remplir correctement tous les champs.",this.successMessage="")}resetForm(){this.enseignantForm.reset(),this.successMessage="",this.errorMessage="",this.previewUrl=null}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(XB),l.Y36(vO))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-add-enseignant"]],decls:37,vars:10,consts:[[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","firstName",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","lastName",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["type","date","formControlName","dateOfBirth",1,"form-control"],["type","text","formControlName","course",1,"form-control"],["type","file","accept","image/*",1,"form-control",3,"change"],["class","mt-2",4,"ngIf"],["type","submit",1,"btn","btn-primary","mt-2"],["type","button",1,"btn","btn-secondary","mt-2",3,"click"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"text-danger"],[1,"mt-2"],["class","preview-image","alt","Aper\xe7u","width","150","height","150","style","object-fit: cover; border-radius: 8px;",3,"src",4,"ngIf"],["alt","Aper\xe7u","width","150","height","150",1,"preview-image",2,"object-fit","cover","border-radius","8px",3,"src"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"]],template:function(r,s){1&r&&(l.TgZ(0,"form",0),l.NdJ("ngSubmit",function(){return s.onSubmit()}),l.TgZ(1,"div",1)(2,"label"),l._uU(3,"Pr\xe9nom"),l.qZA(),l._UZ(4,"input",2),l.YNc(5,H7,2,0,"div",3),l.qZA(),l.TgZ(6,"div",1)(7,"label"),l._uU(8,"Nom"),l.qZA(),l._UZ(9,"input",4),l.YNc(10,$7,2,0,"div",3),l.qZA(),l.TgZ(11,"div",1)(12,"label"),l._uU(13,"Email"),l.qZA(),l._UZ(14,"input",5),l.YNc(15,G7,2,0,"div",3),l.qZA(),l.TgZ(16,"div",1)(17,"label"),l._uU(18,"Date de naissance"),l.qZA(),l._UZ(19,"input",6),l.YNc(20,q7,2,0,"div",3),l.qZA(),l.TgZ(21,"div",1)(22,"label"),l._uU(23,"Mati\xe8re"),l.qZA(),l._UZ(24,"input",7),l.YNc(25,W7,2,0,"div",3),l.qZA(),l.TgZ(26,"div",1)(27,"label"),l._uU(28,"Photo de l'enseignant"),l.qZA(),l.TgZ(29,"input",8),l.NdJ("change",function(d){return s.onFileChange(d)}),l.qZA()(),l.YNc(30,Z7,2,1,"div",9),l.TgZ(31,"button",10),l._uU(32),l.qZA(),l.TgZ(33,"button",11),l.NdJ("click",function(){return s.resetForm()}),l._uU(34,"Annuler"),l.qZA()(),l.YNc(35,Y7,2,1,"div",12),l.YNc(36,Q7,2,1,"div",13)),2&r&&(l.Q6J("formGroup",s.enseignantForm),l.xp6(5),l.Q6J("ngIf",s.isFieldInvalid("firstName")),l.xp6(5),l.Q6J("ngIf",s.isFieldInvalid("lastName")),l.xp6(5),l.Q6J("ngIf",s.isFieldInvalid("email")),l.xp6(5),l.Q6J("ngIf",s.isFieldInvalid("dateOfBirth")),l.xp6(5),l.Q6J("ngIf",s.isFieldInvalid("course")),l.xp6(5),l.Q6J("ngIf",s.previewUrl),l.xp6(2),l.hij(" ",s.isEditMode?"Modifier":"Ajouter"," "),l.xp6(3),l.Q6J("ngIf",s.successMessage),l.xp6(1),l.Q6J("ngIf",s.errorMessage))},dependencies:[Vr,hD,Wp,c0,nD,ax,fD],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}mat-drawer[_ngcontent-%COMP%]{width:260px;background-color:#343a40;color:#fff}mat-drawer-container[_ngcontent-%COMP%]{height:100vh}body[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f0f2f5;margin:0;padding:0}.container[_ngcontent-%COMP%]{max-width:900px;margin:40px auto;background:white;padding:25px;border-radius:10px;box-shadow:0 8px 16px #00000026}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;color:#343a40;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:600;display:block;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ced4da;border-radius:5px;font-size:14px}.btn[_ngcontent-%COMP%]{padding:10px 20px;margin-right:10px;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;border:none;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;border:none;color:#000}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#e0a800}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border:none;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.table[_ngcontent-%COMP%]{width:100%;margin-top:30px;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #dee2e6;padding:12px;text-align:center}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.alert[_ngcontent-%COMP%]{padding:12px;border-radius:5px;text-align:center;margin-bottom:20px;font-weight:500}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}@media (max-width: 768px){.container[_ngcontent-%COMP%]{margin:20px 10px;padding:15px}.btn[_ngcontent-%COMP%]{margin-bottom:10px;width:100%}.form-control[_ngcontent-%COMP%]{font-size:13px}}"]}),n})();function J7(n,e){if(1&n&&l._UZ(0,"img",7),2&n){const t=l.oxw().$implicit;l.Q6J("src",t.imageBase64,l.LSH)}}function eW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td"),l.YNc(14,J7,1,1,"img",4),l.qZA(),l.TgZ(15,"td")(16,"button",5),l.NdJ("click",function(){const s=l.CHM(t).$implicit,o=l.oxw();return l.KtG(o.editEnseignant(s))}),l._uU(17,"Modifier"),l.qZA(),l.TgZ(18,"button",6),l.NdJ("click",function(){const s=l.CHM(t).$implicit,o=l.oxw();return l.KtG(o.deleteEnseignant(s.id))}),l._uU(19,"Supprimer"),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.id),l.xp6(2),l.Oqu(t.firstName),l.xp6(2),l.Oqu(t.lastName),l.xp6(2),l.Oqu(t.email),l.xp6(2),l.Oqu(t.dateOfBirth),l.xp6(2),l.Oqu(t.course),l.xp6(2),l.Q6J("ngIf",t.imageBase64)}}let tW=(()=>{const e=class{constructor(i){this.enseignantService=i,this.enseignants=[],this.editState=!1,this.enseignantToEdit=null}ngOnInit(){this.loadEnseignants()}loadEnseignants(){this.enseignantService.getEnseignants().subscribe({next:i=>this.enseignants=i,error:i=>console.error(i)})}editEnseignant(i){this.enseignantToEdit={...i}}deleteEnseignant(i){confirm("Voulez-vous vraiment supprimer cet enseignant ?")&&this.enseignantService.deleteEnseignant(i).then(()=>this.loadEnseignants())}onFormSubmitted(){this.enseignantToEdit=null,this.loadEnseignants()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(vO))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-enseignants"]],decls:24,vars:1,consts:[[1,"mt-4"],[1,"table","table-bordered","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["class","list-image","width","60","height","60","style","object-fit: cover; border-radius: 5px;",3,"src",4,"ngIf"],[1,"btn","btn-warning","btn-sm",3,"click"],[3,"click"],["width","60","height","60",1,"list-image",2,"object-fit","cover","border-radius","5px",3,"src"]],template:function(r,s){1&r&&(l._UZ(0,"app-add-enseignant"),l.TgZ(1,"h3",0),l._uU(2,"Liste des enseignants"),l.qZA(),l.TgZ(3,"table",1)(4,"thead",2)(5,"tr")(6,"th"),l._uU(7,"ID"),l.qZA(),l.TgZ(8,"th"),l._uU(9,"Pr\xe9nom"),l.qZA(),l.TgZ(10,"th"),l._uU(11,"Nom"),l.qZA(),l.TgZ(12,"th"),l._uU(13,"Email"),l.qZA(),l.TgZ(14,"th"),l._uU(15,"Date de naissance"),l.qZA(),l.TgZ(16,"th"),l._uU(17,"Mati\xe8re"),l.qZA(),l.TgZ(18,"th"),l._uU(19,"Image"),l.qZA(),l.TgZ(20,"th"),l._uU(21,"Actions"),l.qZA()()(),l.TgZ(22,"tbody"),l.YNc(23,eW,20,7,"tr",3),l.qZA()()),2&r&&(l.xp6(23),l.Q6J("ngForOf",s.enseignants))},dependencies:[ho,Vr,X7],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}mat-drawer[_ngcontent-%COMP%]{width:260px;background-color:#343a40;color:#fff}mat-drawer-container[_ngcontent-%COMP%]{height:100vh}body[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f0f2f5;margin:0;padding:0}.container[_ngcontent-%COMP%]{max-width:900px;margin:40px auto;background:white;padding:25px;border-radius:10px;box-shadow:0 8px 16px #00000026}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;color:#343a40;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:600;display:block;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ced4da;border-radius:5px;font-size:14px}.btn[_ngcontent-%COMP%]{padding:10px 20px;margin-right:10px;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;border:none;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;border:none;color:#000}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#e0a800}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border:none;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.table[_ngcontent-%COMP%]{width:100%;margin-top:30px;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #dee2e6;padding:12px;text-align:center}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.alert[_ngcontent-%COMP%]{padding:12px;border-radius:5px;text-align:center;margin-bottom:20px;font-weight:500}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}@media (max-width: 768px){.container[_ngcontent-%COMP%]{margin:20px 10px;padding:15px}.btn[_ngcontent-%COMP%]{margin-bottom:10px;width:100%}.form-control[_ngcontent-%COMP%]{font-size:13px}}"]}),n})(),bO=(()=>{const e=class{constructor(i){this.afs=i,this.studentsCollection=i.collection("students")}getStudent(){return this.studentsCollection.valueChanges({idField:"id"})}addStudent(i){return this.studentsCollection.add(i)}updateStudent(i,r){return this.studentsCollection.doc(i).update(r)}deleteStudent(i){return this.studentsCollection.doc(i).delete()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.LFG(XI))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function nW(n,e){1&n&&(l.TgZ(0,"div",14),l._uU(1,"Pr\xe9nom invalide"),l.qZA())}function iW(n,e){1&n&&(l.TgZ(0,"div",14),l._uU(1,"Nom invalide"),l.qZA())}function rW(n,e){1&n&&(l.TgZ(0,"div",14),l._uU(1,"Email invalide"),l.qZA())}function sW(n,e){1&n&&(l.TgZ(0,"div",14),l._uU(1,"Date requise"),l.qZA())}function oW(n,e){1&n&&(l.TgZ(0,"div",14),l._uU(1,"Mati\xe8re requise"),l.qZA())}function aW(n,e){if(1&n&&l._UZ(0,"img",17),2&n){const t=l.oxw(2);l.Q6J("src",t.previewUrl,l.LSH)}}function cW(n,e){if(1&n&&(l.TgZ(0,"div",15),l.YNc(1,aW,1,1,"img",16),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.previewUrl)}}function lW(n,e){if(1&n&&(l.TgZ(0,"div",18),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.successMessage)}}function uW(n,e){if(1&n&&(l.TgZ(0,"div",19),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.errorMessage)}}let u4=(()=>{const e=class{constructor(i,r){this.fb=i,this.studentService=r,this.isEditMode=!1,this.successMessage="",this.errorMessage="",this.previewUrl=null}ngOnInit(){this.studentForm=this.fb.group({firstName:["",_l.required],lastName:["",_l.required],email:["",[_l.required,_l.email]],dateOfBirth:["",_l.required],course:["",_l.required]})}onFileChange(i){if(i.target.files&&i.target.files[0]){const r=i.target.files[0],s=new FileReader;s.onload=()=>{this.previewUrl=s.result},s.readAsDataURL(r)}}isFieldInvalid(i){const r=this.studentForm.get(i);return!(!r||!r.invalid||!r.dirty&&!r.touched)}onSubmit(){this.studentForm.valid?this.studentService.addStudent(this.studentForm.value).then(r=>{this.successMessage="\xc9tudiant ajout\xe9 avec succ\xe8s !",this.errorMessage="",this.resetForm()},r=>{this.errorMessage="Une erreur est survenue lors de l'ajout de l'\xe9tudiant.",this.successMessage=""}):(this.errorMessage="Veuillez remplir correctement tous les champs.",this.successMessage="")}resetForm(){this.studentForm.reset(),this.successMessage="",this.errorMessage="",this.previewUrl=null}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(XB),l.Y36(bO))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-add-students"]],standalone:!0,features:[l.jDz],decls:37,vars:10,consts:[[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","firstName",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","lastName",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["type","date","formControlName","dateOfBirth",1,"form-control"],["type","text","formControlName","course",1,"form-control"],["type","file","accept","image/*",1,"form-control",3,"change"],["class","mt-2",4,"ngIf"],["type","submit",1,"btn","btn-primary","mt-2"],["type","button",1,"btn","btn-secondary","mt-2",3,"click"],["class","alert alert-success mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"text-danger"],[1,"mt-2"],["class","preview-image","alt","Aper\xe7u","width","150","height","150","style","object-fit: cover; border-radius: 8px;",3,"src",4,"ngIf"],["alt","Aper\xe7u","width","150","height","150",1,"preview-image",2,"object-fit","cover","border-radius","8px",3,"src"],[1,"alert","alert-success","mt-3"],[1,"alert","alert-danger","mt-3"]],template:function(r,s){1&r&&(l.TgZ(0,"form",0),l.NdJ("ngSubmit",function(){return s.onSubmit()}),l.TgZ(1,"div",1)(2,"label"),l._uU(3,"Pr\xe9nom"),l.qZA(),l._UZ(4,"input",2),l.YNc(5,nW,2,0,"div",3),l.qZA(),l.TgZ(6,"div",1)(7,"label"),l._uU(8,"Nom"),l.qZA(),l._UZ(9,"input",4),l.YNc(10,iW,2,0,"div",3),l.qZA(),l.TgZ(11,"div",1)(12,"label"),l._uU(13,"Email"),l.qZA(),l._UZ(14,"input",5),l.YNc(15,rW,2,0,"div",3),l.qZA(),l.TgZ(16,"div",1)(17,"label"),l._uU(18,"Date de naissance"),l.qZA(),l._UZ(19,"input",6),l.YNc(20,sW,2,0,"div",3),l.qZA(),l.TgZ(21,"div",1)(22,"label"),l._uU(23,"Mati\xe8re"),l.qZA(),l._UZ(24,"input",7),l.YNc(25,oW,2,0,"div",3),l.qZA(),l.TgZ(26,"div",1)(27,"label"),l._uU(28,"Photo de students"),l.qZA(),l.TgZ(29,"input",8),l.NdJ("change",function(d){return s.onFileChange(d)}),l.qZA()(),l.YNc(30,cW,2,1,"div",9),l.TgZ(31,"button",10),l._uU(32),l.qZA(),l.TgZ(33,"button",11),l.NdJ("click",function(){return s.resetForm()}),l._uU(34,"Annuler"),l.qZA()(),l.YNc(35,lW,2,1,"div",12),l.YNc(36,uW,2,1,"div",13)),2&r&&(l.Q6J("formGroup",s.studentForm),l.xp6(5),l.Q6J("ngIf",s.isFieldInvalid("firstName")),l.xp6(5),l.Q6J("ngIf",s.isFieldInvalid("lastName")),l.xp6(5),l.Q6J("ngIf",s.isFieldInvalid("email")),l.xp6(5),l.Q6J("ngIf",s.isFieldInvalid("dateOfBirth")),l.xp6(5),l.Q6J("ngIf",s.isFieldInvalid("course")),l.xp6(5),l.Q6J("ngIf",s.previewUrl),l.xp6(2),l.hij(" ",s.isEditMode?"Modifier":"Ajouter"," "),l.xp6(3),l.Q6J("ngIf",s.successMessage),l.xp6(1),l.Q6J("ngIf",s.errorMessage))},dependencies:[Tr,Vr,JB,hD,Wp,c0,nD,ax,fD],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}mat-drawer[_ngcontent-%COMP%]{width:260px;background-color:#343a40;color:#fff}mat-drawer-container[_ngcontent-%COMP%]{height:100vh}body[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background-color:#f0f2f5;margin:0;padding:0}.container[_ngcontent-%COMP%]{max-width:900px;margin:40px auto;background:white;padding:25px;border-radius:10px;box-shadow:0 8px 16px #00000026}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;color:#343a40;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:600;display:block;margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ced4da;border-radius:5px;font-size:14px}.btn[_ngcontent-%COMP%]{padding:10px 20px;margin-right:10px;border-radius:5px;cursor:pointer;font-size:14px;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border:none;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;border:none;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;border:none;color:#000}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#e0a800}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border:none;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.table[_ngcontent-%COMP%]{width:100%;margin-top:30px;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #dee2e6;padding:12px;text-align:center}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.alert[_ngcontent-%COMP%]{padding:12px;border-radius:5px;text-align:center;margin-bottom:20px;font-weight:500}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}@media (max-width: 768px){.container[_ngcontent-%COMP%]{margin:20px 10px;padding:15px}.btn[_ngcontent-%COMP%]{margin-bottom:10px;width:100%}.form-control[_ngcontent-%COMP%]{font-size:13px}}"]}),n})();function dW(n,e){if(1&n&&l._UZ(0,"img",7),2&n){const t=l.oxw().$implicit;l.Q6J("src",t.imageBase64,l.LSH)}}function hW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l.YNc(12,dW,1,1,"img",4),l.qZA(),l.TgZ(13,"td")(14,"button",5),l.NdJ("click",function(){const s=l.CHM(t).$implicit,o=l.oxw();return l.KtG(o.editStudent(s))}),l._uU(15,"Modifier"),l.qZA(),l.TgZ(16,"button",6),l.NdJ("click",function(){const s=l.CHM(t).$implicit,o=l.oxw();return l.KtG(o.deleteStudent(s.id))}),l._uU(17,"Supprimer"),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.id),l.xp6(2),l.Oqu(t.firstName),l.xp6(2),l.Oqu(t.lastName),l.xp6(2),l.Oqu(t.email),l.xp6(2),l.Oqu(t.dateOfBirth),l.xp6(2),l.Q6J("ngIf",t.imageBase64)}}let fW=(()=>{const e=class{constructor(i){this.studentService=i,this.students=[],this.editState=!1,this.studentToEdit=null}ngOnInit(){this.loadStudents()}loadStudents(){throw new Error("Method not implemented.")}loadStudent(){this.studentService.getStudent().subscribe({next:i=>this.students=i,error:i=>console.error(i)})}editStudent(i){this.studentToEdit={...i}}deleteStudent(i){confirm("Voulez-vous vraiment supprimer cet student ?")&&this.studentService.deleteStudent(i).then(()=>this.loadStudents())}onFormSubmitted(){this.studentToEdit=null,this.loadStudents(),this.router.navigate(["/studnets"])}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(bO))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-students"]],decls:22,vars:1,consts:[[1,"mt-4"],[1,"table","table-bordered","table-striped"],[1,"thead-dark"],[4,"ngFor","ngForOf"],["class","list-image","width","60","height","60","style","object-fit: cover; border-radius: 5px;",3,"src",4,"ngIf"],[1,"btn","btn-warning","btn-sm",3,"click"],[3,"click"],["width","60","height","60",1,"list-image",2,"object-fit","cover","border-radius","5px",3,"src"]],template:function(r,s){1&r&&(l._UZ(0,"app-add-students"),l.TgZ(1,"h3",0),l._uU(2,"Liste de students"),l.qZA(),l.TgZ(3,"table",1)(4,"thead",2)(5,"tr")(6,"th"),l._uU(7,"ID"),l.qZA(),l.TgZ(8,"th"),l._uU(9,"Pr\xe9nom"),l.qZA(),l.TgZ(10,"th"),l._uU(11,"Nom"),l.qZA(),l.TgZ(12,"th"),l._uU(13,"Email"),l.qZA(),l.TgZ(14,"th"),l._uU(15,"Date de naissance"),l.qZA(),l.TgZ(16,"th"),l._uU(17,"Mati\xe8re"),l.qZA(),l.TgZ(18,"th"),l._uU(19,"Image"),l.qZA()()(),l.TgZ(20,"tbody"),l.YNc(21,hW,18,6,"tr",3),l.qZA()()),2&r&&(l.xp6(21),l.Q6J("ngForOf",s.students))},dependencies:[ho,Vr,u4],styles:["form[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;border:1px solid #dee2e6;border-radius:8px;background-color:#f8f9fa}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1rem}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem}.success-message[_ngcontent-%COMP%]{color:green;font-weight:700}.error-message[_ngcontent-%COMP%]{color:red;font-weight:700}h3[_ngcontent-%COMP%]{margin-top:2rem;font-weight:700}.table[_ngcontent-%COMP%]{margin-top:1rem;background-color:#fff}.thead-dark[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}td[_ngcontent-%COMP%]   img.list-image[_ngcontent-%COMP%]{border:1px solid #ccc;box-shadow:0 0 5px #0000001a;transition:transform .2s ease-in-out}td[_ngcontent-%COMP%]   img.list-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}button[_ngcontent-%COMP%]{margin-right:5px}button.btn-warning[_ngcontent-%COMP%]{color:#fff}button.btn-sm[_ngcontent-%COMP%]{padding:4px 8px;font-size:.875rem}"]}),n})(),mW=(()=>{const e=class{constructor(i){this.firestore=i}getTimetable(){return this.firestore.collection("timetables").valueChanges({idField:"id"})}addSlot(i){return this.firestore.collection("timetables").add(i)}deleteSlot(i){return this.firestore.collection("timetables").doc(i).delete()}updateSlot(i,r){return this.firestore.collection("timetables").doc(i).update(r)}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.LFG(XI))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function pW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td")(12,"button",11),l.NdJ("click",function(){const s=l.CHM(t).$implicit,o=l.oxw();return l.KtG(o.deleteSlot(s.id))}),l._uU(13,"Delete"),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.day),l.xp6(2),l.Oqu(t.subject),l.xp6(2),l.AsE("",t.startTime," - ",t.endTime,""),l.xp6(2),l.Oqu(t.class),l.xp6(2),l.Oqu(t.teacher)}}let gW=(()=>{const e=class{constructor(i){this.timetableService=i,this.slots=[],this.newSlot={day:"",subject:"",startTime:"",endTime:"",class:"",teacher:""}}ngOnInit(){this.timetableService.getTimetable().subscribe(i=>this.slots=i)}addSlot(){this.timetableService.addSlot(this.newSlot).then(()=>{this.newSlot={day:"",subject:"",startTime:"",endTime:"",class:"",teacher:""}})}deleteSlot(i){this.timetableService.deleteSlot(i)}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(mW))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-timetable"]],decls:48,vars:8,consts:[[3,"ngSubmit"],["form","ngForm"],["name","day","placeholder","Day","required","",3,"ngModel","ngModelChange"],["name","subject","placeholder","Subject","required","",3,"ngModel","ngModelChange"],["name","startTime","type","time","required","",3,"ngModel","ngModelChange"],["name","endTime","type","time","required","",3,"ngModel","ngModelChange"],["name","class","placeholder","Class","required","",3,"ngModel","ngModelChange"],["name","teacher","placeholder","Teacher","required","",3,"ngModel","ngModelChange"],["type","submit",3,"disabled"],["border","1","cellpadding","8"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(r,s){if(1&r&&(l.TgZ(0,"h2"),l._uU(1,"Timetable"),l.qZA(),l.TgZ(2,"form",0,1),l.NdJ("ngSubmit",function(){return s.addSlot()}),l.TgZ(4,"div")(5,"label"),l._uU(6,"Day:"),l.qZA(),l.TgZ(7,"input",2),l.NdJ("ngModelChange",function(d){return s.newSlot.day=d}),l.qZA()(),l.TgZ(8,"div")(9,"label"),l._uU(10,"Subject:"),l.qZA(),l.TgZ(11,"input",3),l.NdJ("ngModelChange",function(d){return s.newSlot.subject=d}),l.qZA()(),l.TgZ(12,"div")(13,"label"),l._uU(14,"Start Time:"),l.qZA(),l.TgZ(15,"input",4),l.NdJ("ngModelChange",function(d){return s.newSlot.startTime=d}),l.qZA()(),l.TgZ(16,"div")(17,"label"),l._uU(18,"End Time:"),l.qZA(),l.TgZ(19,"input",5),l.NdJ("ngModelChange",function(d){return s.newSlot.endTime=d}),l.qZA()(),l.TgZ(20,"div")(21,"label"),l._uU(22,"Class:"),l.qZA(),l.TgZ(23,"input",6),l.NdJ("ngModelChange",function(d){return s.newSlot.class=d}),l.qZA()(),l.TgZ(24,"div")(25,"label"),l._uU(26,"Teacher:"),l.qZA(),l.TgZ(27,"input",7),l.NdJ("ngModelChange",function(d){return s.newSlot.teacher=d}),l.qZA()(),l.TgZ(28,"button",8),l._uU(29,"Add"),l.qZA()(),l._UZ(30,"hr"),l.TgZ(31,"h3"),l._uU(32,"Timetable Entries"),l.qZA(),l.TgZ(33,"table",9)(34,"tr")(35,"th"),l._uU(36,"Day"),l.qZA(),l.TgZ(37,"th"),l._uU(38,"Subject"),l.qZA(),l.TgZ(39,"th"),l._uU(40,"Time"),l.qZA(),l.TgZ(41,"th"),l._uU(42,"Class"),l.qZA(),l.TgZ(43,"th"),l._uU(44,"Teacher"),l.qZA(),l.TgZ(45,"th"),l._uU(46,"Actions"),l.qZA()(),l.YNc(47,pW,14,6,"tr",10),l.qZA()),2&r){const o=l.MAs(3);l.xp6(7),l.Q6J("ngModel",s.newSlot.day),l.xp6(4),l.Q6J("ngModel",s.newSlot.subject),l.xp6(4),l.Q6J("ngModel",s.newSlot.startTime),l.xp6(4),l.Q6J("ngModel",s.newSlot.endTime),l.xp6(4),l.Q6J("ngModel",s.newSlot.class),l.xp6(4),l.Q6J("ngModel",s.newSlot.teacher),l.xp6(1),l.Q6J("disabled",o.invalid),l.xp6(19),l.Q6J("ngForOf",s.slots)}},dependencies:[ho,hD,Wp,c0,nD,mD,ox,dD],styles:[".center-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f3f4f6}form[_ngcontent-%COMP%]{display:grid;gap:15px;width:100%;max-width:420px;margin:0 auto;padding:20px;border-radius:12px;background-color:#fff;box-shadow:0 4px 8px #0000001a;transition:transform .3s ease-in-out}form[_ngcontent-%COMP%]:hover{transform:scale(1.02)}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px;color:#333}input[_ngcontent-%COMP%]{padding:12px;font-size:16px;border:1px solid #ccc;border-radius:8px;background-color:#f9f9f9;transition:border-color .3s ease}input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}button[_ngcontent-%COMP%]{padding:12px;background-color:#007bff;color:#fff;border:none;font-size:16px;border-radius:8px;cursor:pointer;transition:background-color .3s ease}button[disabled][_ngcontent-%COMP%]{background-color:#e0e0e0;cursor:not-allowed}button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#0056b3}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:30px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd;color:#555}th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}tr[_ngcontent-%COMP%]:nth-child(even){background-color:#fafafa}hr[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:30px;border:0;border-top:2px solid #e0e0e0}@media (max-width: 768px){form[_ngcontent-%COMP%]{width:90%;padding:15px}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{font-size:14px}}"]}),n})(),_W=(()=>{const e=class{constructor(){this.sidebarState=new aa(!0),this.sidebarState$=this.sidebarState.asObservable(),this.darkMode=new aa(!1),this.darkMode$=this.darkMode.asObservable(),this.pageTitle=new aa("Dashboard"),this.pageTitle$=this.pageTitle.asObservable()}toggleSidebar(){this.sidebarState.next(!this.sidebarState.value)}setSidebarState(i){this.sidebarState.next(i)}toggleDarkMode(){const i=!this.darkMode.value;this.darkMode.next(i),this.applyDarkModeStyles(i)}setPageTitle(i){this.pageTitle.next(i)}applyDarkModeStyles(i){i?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function br(n){return null!=n&&"false"!=`${n}`}function d4(n,e=0){return function yW(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function BD(n){return Array.isArray(n)?n:[n]}function ds(n){return null==n?"":"string"==typeof n?n:`${n}px`}function my(n){return n instanceof l.SBq?n.nativeElement:n}var vW=U(1144);const bW=["addListener","removeListener"],wW=["addEventListener","removeEventListener"],EW=["on","off"];function Ix(n,e,t,i){if((0,ah.m)(t)&&(i=t,t=void 0),i)return Ix(n,e,t).pipe(CP(i));const[r,s]=function TW(n){return(0,ah.m)(n.addEventListener)&&(0,ah.m)(n.removeEventListener)}(n)?wW.map(o=>d=>n[o](e,d,t)):function IW(n){return(0,ah.m)(n.addListener)&&(0,ah.m)(n.removeListener)}(n)?bW.map(h4(n,e)):function xW(n){return(0,ah.m)(n.on)&&(0,ah.m)(n.off)}(n)?EW.map(h4(n,e)):[];if(!r&&(0,vW.z)(n))return(0,to.z)(o=>Ix(o,e,t))((0,ay.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new _i.y(o=>{const d=(...f)=>o.next(1<f.length?f:f[0]);return r(d),()=>s(d)})}function h4(n,e){return t=>i=>n[t](e,i)}var f4=U(4408);const xx={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=xx;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new kc.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=xx;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=xx;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var m4=U(7565);const SW=new class AW extends m4.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class CW extends f4.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=xx.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(xx.cancelAnimationFrame(t),e._scheduled=void 0)}});let wO,DW=1;const UD={};function p4(n){return n in UD&&(delete UD[n],!0)}const MW={setImmediate(n){const e=DW++;return UD[e]=!0,wO||(wO=Promise.resolve()),wO.then(()=>p4(e)&&n()),e},clearImmediate(n){p4(n)}},{setImmediate:kW,clearImmediate:RW}=MW,jD={setImmediate(...n){const{delegate:e}=jD;return(e?.setImmediate||kW)(...n)},clearImmediate(n){const{delegate:e}=jD;return(e?.clearImmediate||RW)(n)},delegate:void 0},EO=new class OW extends m4.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class PW extends f4.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=jD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(jD.clearImmediate(t),e._scheduled=void 0)}});var FW=U(3532);function g4(n=0,e,t=Os.P){let i=-1;return null!=e&&((0,FW.K)(e)?t=e:i=e),new _i.y(r=>{let s=function LW(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function IO(n,e=Os.z){return function NW(n){return(0,Ln.e)((e,t)=>{let i=!1,r=null,s=null,o=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const g=r;r=null,t.next(g)}o&&t.complete()},f=()=>{s=null,o&&t.complete()};e.subscribe((0,ni.x)(t,g=>{i=!0,r=g,s||(0,ay.Xf)(n(g)).subscribe(s=(0,ni.x)(t,d,f))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>g4(n,e))}var _4=U(5032);function Ts(n){return(0,Ln.e)((e,t)=>{(0,ay.Xf)(n).subscribe((0,ni.x)(t,()=>t.complete(),_4.Z)),!t.closed&&e.subscribe(t)})}let xO;try{xO=typeof Intl<"u"&&Intl.v8BreakIterator}catch{xO=!1}let Tx,zD,py,TO,Cs=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function mm(n){return n===Dg}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xO)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cx(n){return function VW(){if(null==Tx&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tx=!0}))}finally{Tx=Tx||!1}return Tx}()?n:!!n.capture}function v4(){if(null==py){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return py=!1,py;if("scrollBehavior"in document.documentElement.style)py=!0;else{const n=Element.prototype.scrollTo;py=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return py}function Ax(){if("object"!=typeof document||!document)return 0;if(null==zD){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),zD=0,0===n.scrollLeft&&(n.scrollLeft=1,zD=0===n.scrollLeft?1:2),n.remove()}return zD}function tg(n){return n.composedPath?n.composedPath()[0]:n.target}function CO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const zW=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function HW(){return(0,l.f3M)(de)}}),$W=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let E0=(()=>{class n{constructor(t){this.value="ltr",this.change=new l.vpe,t&&(this.value=function GW(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?$W.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zW,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const qW=["contentWrapper"],WW=["*"],KW=new l.OlP("VIRTUAL_SCROLL_STRATEGY");let Dx=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Dn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _i.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(IO(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Mt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(ei(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=my(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ix(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Cs),l.LFG(de,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mx=(()=>{class n{constructor(t,i,r,s){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Dn.x,this._elementScrolled=new _i.y(o=>this.ngZone.runOutsideAngular(()=>Ix(this.elementRef.nativeElement,"scroll").pipe(Ts(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=Ax()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==Ax()?t.left=t.right:1==Ax()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;v4()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==t?t=o?r:i:"end"==t&&(t=o?i:r),o&&2==Ax()?t==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==Ax()?t==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Dx),l.Y36(l.R0b),l.Y36(E0,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),HD=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Dn.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(IO(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cs),l.LFG(l.R0b),l.LFG(de,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const b4=new l.OlP("VIRTUAL_SCROLLABLE");let QW=(()=>{class n extends Mx{constructor(t,i,r,s){super(t,i,r,s)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Dx),l.Y36(l.R0b),l.Y36(E0,8))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const JW=typeof requestAnimationFrame<"u"?SW:EO;let eK=(()=>{class n extends QW{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=br(t)}constructor(t,i,r,s,o,d,f,g){super(t,d,r,o),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=s,this.scrollable=g,this._platform=(0,l.f3M)(Cs),this._detachedSubject=new Dn.x,this._renderedRangeSubject=new Dn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new _i.y(b=>this._scrollStrategy.scrolledIndexChange.subscribe(x=>Promise.resolve().then(()=>this.ngZone.run(()=>b.next(x))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=kc.w0.EMPTY,this._viewportChanges=f.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Ar(null),IO(0,JW)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Ts(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function XW(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const s="horizontal"==this.orientation,o=s?"X":"Y";let f=`translate${o}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(f+=` translate${o}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=f&&(this._renderedContentTransform=f,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",s="right",o="rtl"==this.dir?.value;i="start"==t?o?s:r:"end"==t?o?r:s:t||("horizontal"===this.orientation?"left":"top");const d=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-d}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(KW,8),l.Y36(E0,8),l.Y36(Dx),l.Y36(HD),l.Y36(b4,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&l.Gf(qW,7),2&t){let r;l.iGM(r=l.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[l._Bn([{provide:Mx,useFactory:(e,t)=>e||t,deps:[[new l.FiY,new l.tBr(b4)],n]}]),l.qOj,l.jDz],ngContentSelectors:WW,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(3),l.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),kx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),w4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Sx,kx,eK,Sx,kx]}),n})();function $D(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function GD(n,e=Os.z){return(0,Ln.e)((t,i)=>{let r=null,s=null,o=null;const d=()=>{if(r){r.unsubscribe(),r=null;const g=s;s=null,i.next(g)}};function f(){const g=o+n,b=e.now();if(b<g)return r=this.schedule(void 0,g-b),void i.add(r);d()}t.subscribe((0,ni.x)(i,g=>{s=g,o=e.now(),r||(r=e.schedule(f,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function S4(n){return ei((e,t)=>n<=t)}const D4=new Set;let I0,mK=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gK}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function pK(n){if(!D4.has(n))try{I0||(I0=document.createElement("style"),I0.setAttribute("type","text/css"),document.head.appendChild(I0)),I0.sheet&&(I0.sheet.insertRule(`@media ${n} {body{ }}`,0),D4.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gK(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let _K=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Dn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return M4(BD(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=$P(M4(BD(t)).map(o=>this._registerQuery(o).observable));return s=rc(s.pipe(Js(1)),s.pipe(S4(1),GD(0))),s.pipe((0,kt.U)(o=>{const d={matches:!1,breakpoints:{}};return o.forEach(({matches:f,query:g})=>{d.matches=d.matches||f,d.breakpoints[g]=f}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new _i.y(o=>{const d=f=>this._zone.run(()=>o.next(f));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(Ar(i),(0,kt.U)(({matches:o})=>({query:t,matches:o})),Ts(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mK),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function M4(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class bK{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Dn.x,this._typeaheadSubscription=kc.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Dn.x,this.change=new Dn.x,e instanceof l.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,us.b)(t=>this._pressedLetters.push(t)),GD(e),ei(()=>this._pressedLetters.length>0),(0,kt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||$D(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class P4 extends bK{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let O4=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function EK(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function wK(n){try{return n.frameElement}catch{return null}}(function MK(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===F4(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=F4(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function SK(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function DK(n){return!function xK(n){return function CK(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function IK(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function TK(n){return function AK(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||N4(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function N4(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function F4(n){if(!N4(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class kK{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Js(1)).subscribe(e)}}let RK=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new kK(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(O4),l.LFG(l.R0b),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DO(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function MO(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const PK=new l.OlP("cdk-input-modality-detector-options"),OK={ignoreKeys:[18,17,224,91,16]},x0=Cx({passive:!0,capture:!0});let NK=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new aa(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(d=>d===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=tg(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(DO(o)?"keyboard":"mouse"),this._mostRecentTarget=tg(o))},this._onTouchstart=o=>{MO(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=tg(o))},this._options={...OK,...s},this.modalityDetected=this._modality.pipe(S4(1)),this.modalityChanged=this.modalityDetected.pipe(Go()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,x0),r.addEventListener("mousedown",this._onMousedown,x0),r.addEventListener("touchstart",this._onTouchstart,x0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,x0),document.removeEventListener("mousedown",this._onMousedown,x0),document.removeEventListener("touchstart",this._onTouchstart,x0))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cs),l.LFG(l.R0b),l.LFG(de),l.LFG(PK,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LK=new l.OlP("cdk-focus-monitor-default-options"),qD=Cx({passive:!0,capture:!0});let WD=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Dn.x,this._rootNodeFocusAndBlurListener=d=>{for(let g=tg(d);g;g=g.parentElement)"focus"===d.type?this._onFocus(d,g):this._onBlur(d,g)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,i=!1){const r=my(t);if(!this._platform.isBrowser||1!==r.nodeType)return Mt(null);const s=function UW(n){if(function BW(){if(null==TO){const n=typeof document<"u"?document.head:null;TO=!(!n||!n.createShadowRoot&&!n.attachShadow)}return TO}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const d={checkChildren:i,subject:new Dn.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(t){const i=my(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=my(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,f])=>this._originChanged(d,i,f)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=tg(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,qD),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,qD)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ts(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,qD),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,qD),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Cs),l.LFG(NK),l.LFG(de,8),l.LFG(LK,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const V4="cdk-high-contrast-black-on-white",B4="cdk-high-contrast-white-on-black",kO="cdk-high-contrast-active";let VK=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,l.f3M)(_K).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(kO,V4,B4),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(kO,V4):2===i&&t.add(kO,B4)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cs),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UK=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function BK(){return!0}});let To=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!CO()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(VK),l.LFG(UK,8),l.LFG(de))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Sx,Sx]}),n})();function z4(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=br(e)}constructor(...e){super(...e),this._disabled=!1}}}function RO(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function H4(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=br(e)}constructor(...e){super(...e),this._disableRipple=!1}}}class zK{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $4=Cx({passive:!0,capture:!0});class HK{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=tg(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,$4)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,$4)))}}const G4={enterDuration:225,exitDuration:150},q4=Cx({passive:!0,capture:!0}),W4=["mousedown","touchstart"],K4=["mouseup","mouseleave","touchend","touchcancel"];class T0{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=my(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...G4,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function GK(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),d=e-r.left,f=t-r.top,g=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-o+"px",b.style.top=f-o+"px",b.style.height=2*o+"px",b.style.width=2*o+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(b);const x=window.getComputedStyle(b),N=x.transitionDuration,V="none"===x.transitionProperty||"0s"===N||"0s, 0s"===N||0===r.width&&0===r.height,$=new zK(this,b,i,V);b.style.transform="scale3d(1, 1, 1)",$.state=0,i.persistent||(this._mostRecentTransientRipple=$);let W=null;return!V&&(g||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Te=()=>this._finishRippleTransition($),Ne=()=>this._destroyRipple($);b.addEventListener("transitionend",Te),b.addEventListener("transitioncancel",Ne),W={onTransitionEnd:Te,onTransitionCancel:Ne}}),this._activeRipples.set($,W),(V||!g)&&this._finishRippleTransition($),$}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...G4,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=my(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,W4.forEach(i=>{T0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{K4.forEach(t=>{this._triggerElement.addEventListener(t,this,q4)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=DO(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!MO(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(W4.forEach(t=>T0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&K4.forEach(t=>e.removeEventListener(t,this,q4)))}}T0._eventManager=new HK;const KD=new l.OlP("mat-ripple-global-options");let ZD=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new T0(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Cs),l.Y36(KD,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[To,To]}),n})(),qK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[To]}),n})();class Z4{}class WK{}const Kf="*";function OO(n,e){return{type:7,name:n,definitions:e,options:{}}}function Px(n,e=null){return{type:4,styles:e,timings:n}}function Y4(n,e=null){return{type:2,steps:n,options:e}}function Zf(n){return{type:6,styles:n,offset:null}}function YD(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ox(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Q4(n){Promise.resolve().then(n)}class Nx{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Q4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class X4{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?Q4(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,d)=>Math.max(o,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const NO="!",J4=["*"],KK=["content"];function ZK(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r._onBackdropClicked())}),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function YK(n,e){1&n&&(l.TgZ(0,"mat-drawer-content"),l.Hsn(1,2),l.qZA())}const QK=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],XK=["mat-drawer","mat-drawer-content","*"],JK={transformDrawer:OO("transform",[YD("open, open-instant",Zf({transform:"none",visibility:"visible"})),YD("void",Zf({"box-shadow":"none",visibility:"hidden"})),Ox("void => open-instant",Px("0ms")),Ox("void <=> open, open-instant => void",Px("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},eZ=new l.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function tZ(){return!1}}),ej=new l.OlP("MAT_DRAWER_CONTAINER");let QD=(()=>{class n extends Mx{constructor(t,i,r,s,o){super(r,s,o),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36((0,l.Gpc)(()=>nj)),l.Y36(l.SBq),l.Y36(Dx),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&l.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[l._Bn([{provide:Mx,useExisting:n}]),l.qOj],ngContentSelectors:J4,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),tj=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=br(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=br(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(br(t))}constructor(t,i,r,s,o,d,f,g){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=d,this._doc=f,this._container=g,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Dn.x,this._animationEnd=new Dn.x,this._animationState="void",this.openedChange=new l.vpe(!0),this._openedStream=this.openedChange.pipe(ei(b=>b),(0,kt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(ei(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),pD(void 0)),this._closedStream=this.openedChange.pipe(ei(b=>!b),(0,kt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(ei(b=>b.fromState!==b.toState&&"void"===b.toState),pD(void 0)),this._destroyed=new Dn.x,this.onPositionChanged=new l.vpe,this._modeChanged=new Dn.x,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ix(this._elementRef.nativeElement,"keydown").pipe(ei(b=>27===b.keyCode&&!this.disableClose&&!$D(b)),Ts(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(Go((b,x)=>b.fromState===x.fromState&&b.toState===x.toState)).subscribe(b=>{const{fromState:x,toState:k}=b;(0===k.indexOf("open")&&"void"===x||"void"===k&&0===x.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Js(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(RK),l.Y36(WD),l.Y36(Cs),l.Y36(l.R0b),l.Y36(O4),l.Y36(de,8),l.Y36(ej,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&l.Gf(KK,5),2&t){let r;l.iGM(r=l.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&l.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&t&&(l.uIk("align",null),l.d8E("@transform",i._animationState),l.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:J4,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA())},dependencies:[Mx],encapsulation:2,data:{animation:[JK.transformDrawer]},changeDetection:0}),n})(),nj=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=br(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:br(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,s,o,d=!1,f){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=f,this._drawers=new l.n_E,this.backdropClick=new l.vpe,this._destroyed=new Dn.x,this._doCheckSubject=new Dn.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Dn.x,t&&t.change.pipe(Ts(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Ts(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}ngAfterContentInit(){this._allDrawers.changes.pipe(Ar(this._allDrawers),Ts(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ar(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(GD(10),Ts(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(ei(i=>i.fromState!==i.toState),Ts(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Ts(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Ts(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Js(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Ts((0,oy.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(E0,8),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(HD),l.Y36(eZ),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,QD,5),l.Suo(r,tj,5)),2&t){let s;l.iGM(s=l.CRH())&&(i._content=s.first),l.iGM(s=l.CRH())&&(i._allDrawers=s)}},viewQuery:function(t,i){if(1&t&&l.Gf(QD,5),2&t){let r;l.iGM(r=l.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[l._Bn([{provide:ej,useExisting:n}])],ngContentSelectors:XK,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(l.F$t(QK),l.YNc(0,ZK,1,2,"div",0),l.Hsn(1),l.Hsn(2,1),l.YNc(3,YK,2,0,"mat-drawer-content",1)),2&t&&(l.Q6J("ngIf",i.hasBackdrop),l.xp6(3),l.Q6J("ngIf",!i._content))},dependencies:[Vr,QD],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),nZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Tr,To,kx,kx,To]}),n})();function ij(n,e){return e?t=>rc(e.pipe(Js(1),function iZ(){return(0,Ln.e)((n,e)=>{n.subscribe((0,ni.x)(e,_4.Z))})}()),t.pipe(ij(n))):(0,to.z)((t,i)=>n(t,i).pipe(Js(1),pD(t)))}function rj(n,e=Os.z){const t=g4(n,e);return ij(()=>t)}class FO{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class rZ extends FO{constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class sj extends FO{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class sZ extends FO{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class oZ{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof rZ?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof sj?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof sZ?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class aZ extends oZ{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const d=o.element,f=this._document.createComment("dom-portal");d.parentNode.insertBefore(f,d),this.outletElement.appendChild(d),this._attachedPortal=o,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let cZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const oj=v4();class lZ{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ds(-this._previousScrollPosition.left),e.style.top=ds(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),oj&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),oj&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class uZ{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(ei(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class aj{enable(){}disable(){}attach(){}}function LO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function cj(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class dZ{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();LO(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let hZ=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new aj,this.close=o=>new uZ(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new lZ(this._viewportRuler,this._document),this.reposition=o=>new dZ(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Dx),l.LFG(HD),l.LFG(l.R0b),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lj{constructor(e){if(this.scrollStrategy=new aj,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class fZ{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let uj=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mZ=(()=>{class n extends uj{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const d=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pZ=(()=>{class n extends uj{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=tg(s)},this._clickListener=s=>{const o=tg(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let g=f.length-1;g>-1;g--){const b=f[g];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(o)||b.overlayElement.contains(d))break;const x=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(s)):x.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(Cs),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dj=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||CO()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),CO()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(Cs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gZ{constructor(e,t,i,r,s,o,d,f,g,b=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=d,this._location=f,this._outsideClickDispatcher=g,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new Dn.x,this._attachments=new Dn.x,this._detachments=new Dn.x,this._locationChanges=kc.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new Dn.x,this._outsidePointerEvents=new Dn.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Js(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ds(this._config.width),e.height=ds(this._config.height),e.minWidth=ds(this._config.minWidth),e.minHeight=ds(this._config.minHeight),e.maxWidth=ds(this._config.maxWidth),e.maxHeight=ds(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=BD(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ts((0,oy.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const hj="cdk-overlay-connected-position-bounding-box",_Z=/([A-Za-z%]+)$/;class yZ{get positions(){return this._preferredPositions}constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Dn.x,this._resizeSubscription=kc.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(hj),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let d of this._preferredPositions){let f=this._getOriginPoint(e,r,d),g=this._getOverlayPoint(f,t,d),b=this._getOverlayFit(g,t,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,f);this._canFitWithFlexibleDimensions(b,g,i)?s.push({position:d,origin:f,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(f,d)}):(!o||o.overlayFit.visibleArea<b.visibleArea)&&(o={overlayFit:b,overlayPoint:g,originPoint:f,position:d,overlayRect:t})}if(s.length){let d=null,f=-1;for(const g of s){const b=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);b>f&&(f=b,d=g)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gy(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(hj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;r="start"==i.originX?o:d}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=mj(t);let{x:o,y:d}=e,f=this._getOffset(r,"x"),g=this._getOffset(r,"y");f&&(o+=f),g&&(d+=g);let k=0-d,N=d+s.height-i.height,V=this._subtractOverflows(s.width,0-o,o+s.width-i.width),$=this._subtractOverflows(s.height,k,N),W=V*$;return{visibleArea:W,isCompletelyWithinViewport:s.width*s.height===W,fitsInViewportVertically:$===s.height,fitsInViewportHorizontally:V==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,o=fj(this._overlayRef.getConfig().minHeight),d=fj(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=r)&&(e.fitsInViewportHorizontally||null!=d&&d<=s)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=mj(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),d=Math.max(e.y+r.height-s.height,0),f=Math.max(s.top-i.top-e.y,0),g=Math.max(s.left-i.left-e.x,0);let b=0,x=0;return b=r.width<=s.width?g||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,x=r.height<=s.height?f||-d:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:b,y:x},{x:e.x+b,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new fZ(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,o,d,b,x,k;if("top"===t.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)d=i.height-e.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const N=Math.min(i.bottom-e.y+i.top,e.y),V=this._lastBoundingBoxSize.height;s=2*N,o=e.y-N,s>V&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-V/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)k=i.width-e.x+this._viewportMargin,b=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)x=e.x,b=i.right-e.x;else{const N=Math.min(i.right-e.x+i.left,e.x),V=this._lastBoundingBoxSize.width;b=2*N,x=e.x-N,b>V&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-V/2)}return{top:o,left:x,bottom:d,right:k,width:b,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=ds(i.height),r.top=ds(i.top),r.bottom=ds(i.bottom),r.width=ds(i.width),r.left=ds(i.left),r.right=ds(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=ds(s)),o&&(r.maxWidth=ds(o))}this._lastBoundingBoxSize=i,gy(this._boundingBox.style,r)}_resetBoundingBoxStyles(){gy(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gy(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();gy(i,this._getExactOverlayY(t,e,b)),gy(i,this._getExactOverlayX(t,e,b))}else i.position="static";let d="",f=this._getOffset(t,"x"),g=this._getOffset(t,"y");f&&(d+=`translateX(${f}px) `),g&&(d+=`translateY(${g}px)`),i.transform=d.trim(),o.maxHeight&&(r?i.maxHeight=ds(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=ds(o.maxWidth):s&&(i.maxWidth="")),gy(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=ds(s.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=ds(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:cj(e,i),isOriginOutsideView:LO(e,i),isOverlayClipped:cj(t,i),isOverlayOutsideView:LO(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&BD(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function gy(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function fj(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(_Z);return t&&"px"!==t?null:parseFloat(e)}return n||null}function mj(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const pj="cdk-global-overlay-wrapper";class vZ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(pj),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:d}=i,f=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),g=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),b=this._xPosition,x=this._xOffset,k="rtl"===this._overlayRef.getConfig().direction;let N="",V="",$="";f?$="flex-start":"center"===b?($="center",k?V=x:N=x):k?"left"===b||"end"===b?($="flex-end",N=x):("right"===b||"start"===b)&&($="flex-start",V=x):"left"===b||"start"===b?($="flex-start",N=x):("right"===b||"end"===b)&&($="flex-end",V=x),e.position=this._cssPosition,e.marginLeft=f?"0":N,e.marginTop=g?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=f?"0":V,t.justifyContent=$,t.alignItems=g?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(pj),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let bZ=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new vZ}flexibleConnectedTo(t){return new yZ(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(HD),l.LFG(de),l.LFG(Cs),l.LFG(dj))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wZ=0,XD=(()=>{class n{constructor(t,i,r,s,o,d,f,g,b,x,k,N){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=d,this._ngZone=f,this._document=g,this._directionality=b,this._location=x,this._outsideClickDispatcher=k,this._animationsModuleType=N}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new lj(t);return o.direction=o.direction||this._directionality.value,new gZ(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+wZ++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new aZ(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hZ),l.LFG(dj),l.LFG(l._Vd),l.LFG(bZ),l.LFG(mZ),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(de),l.LFG(E0),l.LFG(ot),l.LFG(pZ),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xZ={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[XD],useFactory:function IZ(n){return()=>n.scrollStrategies.reposition()}};let TZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[XD,xZ],imports:[Sx,cZ,w4,w4]}),n})();const CZ=["mat-menu-item",""];function AZ(n,e){1&n&&(l.O4$(),l.TgZ(0,"svg",3),l._UZ(1,"polygon",4),l.qZA())}const SZ=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],DZ=["mat-icon, [matMenuItemIcon]","*"];function MZ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._handleKeydown(r))})("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s._onAnimationDone(r))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),l.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const kZ=["*"],VO=new l.OlP("MAT_MENU_PANEL"),RZ=H4(z4(class{}));let JD=(()=>{class n extends RZ{constructor(t,i,r,s,o){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this._hovered=new Dn.x,this._focused=new Dn.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(de),l.Y36(WD),l.Y36(VO,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(l.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),l.ekj("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:CZ,ngContentSelectors:DZ,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(l.F$t(SZ),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.qZA(),l._UZ(3,"div",1),l.YNc(4,AZ,2,0,"svg",2)),2&t&&(l.xp6(3),l.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.xp6(1),l.Q6J("ngIf",i._triggersSubmenu))},dependencies:[Vr,ZD],encapsulation:2,changeDetection:0}),n})();const PZ=new l.OlP("MatMenuContent"),eM={transformMenu:OO("transformMenu",[YD("void",Zf({opacity:0,transform:"scale(0.8)"})),Ox("void => enter",Px("120ms cubic-bezier(0, 0, 0.2, 1)",Zf({opacity:1,transform:"scale(1)"}))),Ox("* => void",Px("100ms 25ms linear",Zf({opacity:0})))]),fadeInItems:OO("fadeInItems",[YD("showing",Zf({opacity:1})),Ox("void => *",[Zf({opacity:0}),Px("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let OZ=0;const gj=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function NZ(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Fx=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=br(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=br(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,r,s){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new l.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new Dn.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+OZ++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new P4(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ar(this._directDescendantItems),ls(t=>(0,oy.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Ar(this._directDescendantItems),ls(i=>(0,oy.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:$D(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(Js(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ar(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(gj),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,PZ,5),l.Suo(r,JD,5),l.Suo(r,JD,4)),2&t){let s;l.iGM(s=l.CRH())&&(i.lazyContent=s.first),l.iGM(s=l.CRH())&&(i._allItems=s),l.iGM(s=l.CRH())&&(i.items=s)}},viewQuery:function(t,i){if(1&t&&l.Gf(l.Rgc,5),2&t){let r;l.iGM(r=l.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),FZ=(()=>{class n extends Fx{constructor(t,i,r,s){super(t,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(gj),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:VO,useExisting:n}]),l.qOj],ngContentSelectors:kZ,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,MZ,3,6,"ng-template"))},dependencies:[on],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[eM.transformMenu,eM.fadeInItems]},changeDetection:0}),n})();const _j=new l.OlP("mat-menu-scroll-strategy"),VZ={provide:_j,deps:[XD],useFactory:function LZ(n){return()=>n.scrollStrategies.reposition()}},yj=Cx({passive:!0});let BZ=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,r,s,o,d,f,g,b){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=f,this._focusMonitor=g,this._ngZone=b,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=kc.w0.EMPTY,this._hoverSubscription=kc.w0.EMPTY,this._menuCloseSubscription=kc.w0.EMPTY,this._changeDetectorRef=(0,l.f3M)(l.sBO),this._handleTouchStart=x=>{MO(x)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof Fx?o:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,yj)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,yj),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),s=r.positionStrategy;this._setPosition(t,s),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Fx&&(t._startAnimation(),t._directDescendantItems.changes.pipe(Ts(t.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Fx?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(ei(r=>"void"===r.toState),Js(1),Ts(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new lj({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",o="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(s,o)):t.setPositionClasses(s,o)})}_setPosition(t,i){let[r,s]="before"===t.xPosition?["end","start"]:["start","end"],[o,d]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[f,g]=[o,d],[b,x]=[r,s],k=0;if(this.triggersSubmenu()){if(x=r="before"===t.xPosition?"start":"end",s=b="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const N=this._parentMaterialMenu.items.first;this._parentInnerPadding=N?N._getHostElement().offsetTop:0}k="bottom"===o?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(f="top"===o?"bottom":"top",g="top"===d?"bottom":"top");i.withPositions([{originX:r,originY:f,overlayX:b,overlayY:o,offsetY:k},{originX:s,originY:f,overlayX:x,overlayY:o,offsetY:k},{originX:r,originY:g,overlayX:b,overlayY:d,offsetY:-k},{originX:s,originY:g,overlayX:x,overlayY:d,offsetY:-k}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Mt(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(ei(o=>o!==this._menuItemInstance),ei(()=>this._menuOpen)):Mt();return(0,oy.T)(t,r,s,i)}_handleMousedown(t){DO(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(ei(t=>t===this._menuItemInstance&&!t.disabled),rj(0,EO)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Fx&&this.menu._isAnimating?this.menu._animationDone.pipe(Js(1),rj(0,EO),Ts(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new sj(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(XD),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(_j),l.Y36(VO,8),l.Y36(JD,10),l.Y36(E0,8),l.Y36(WD),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,hostVars:3,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&t&&l.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),UZ=(()=>{class n extends BZ{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),n})(),jZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[VZ],imports:[Tr,PO,To,TZ,kx,To]}),n})();class BO{}class ng{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(s=>s.toString()),r.length>0){const s=t.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ng?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ng;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ng?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(d=>-1===s.indexOf(d)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class zZ{encodeKey(e){return bj(e)}encodeValue(e){return bj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const $Z=/%(\d[a-f0-9])/gi,GZ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bj(n){return encodeURIComponent(n).replace($Z,(e,t)=>GZ[t]??e)}function tM(n){return`${n}`}class ig{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new zZ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function HZ(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,d]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],f=t.get(o)||[];f.push(d),t.set(o,f)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(tM):[tM(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ig({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(tM(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(tM(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class qZ{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function wj(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ej(n){return typeof Blob<"u"&&n instanceof Blob}function Ij(n){return typeof FormData<"u"&&n instanceof FormData}class Lx{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function WZ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ng),this.context||(this.context=new qZ),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+o}}else this.params=new ig,this.urlWithParams=t}serializeBody(){return null===this.body?null:wj(this.body)||Ej(this.body)||Ij(this.body)||function KZ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ig?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ij(this.body)?null:Ej(this.body)?this.body.type||null:wj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ig?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let f=e.headers||this.headers,g=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(f=Object.keys(e.setHeaders).reduce((x,k)=>x.set(k,e.setHeaders[k]),f)),e.setParams&&(g=Object.keys(e.setParams).reduce((x,k)=>x.set(k,e.setParams[k]),g)),new Lx(t,i,s,{params:g,headers:f,context:b,reportProgress:d,responseType:r,withCredentials:o})}}var io=(()=>((io=io||{})[io.Sent=0]="Sent",io[io.UploadProgress=1]="UploadProgress",io[io.ResponseHeader=2]="ResponseHeader",io[io.DownloadProgress=3]="DownloadProgress",io[io.Response=4]="Response",io[io.User=5]="User",io))();class ZZ{constructor(e,t=200,i="OK"){this.headers=e.headers||new ng,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class UO extends ZZ{constructor(e={}){super(e),this.type=io.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new UO({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function jO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let zO=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Lx)s=t;else{let f,g;f=r.headers instanceof ng?r.headers:new ng(r.headers),r.params&&(g=r.params instanceof ig?r.params:new ig({fromObject:r.params})),s=new Lx(t,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:g,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=Mt(s).pipe(Qp(f=>this.handler.handle(f)));if(t instanceof Lx||"events"===r.observe)return o;const d=o.pipe(ei(f=>f instanceof UO));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,kt.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,kt.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,kt.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,kt.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new ig).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,jO(r,i))}post(t,i,r={}){return this.request("POST",t,jO(r,i))}put(t,i,r={}){return this.request("PUT",t,jO(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(BO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const cY=["*"];let iM;function Vx(n){return function lY(){if(void 0===iM&&(iM=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(iM=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return iM}()?.createHTML(n)||n}function kj(n){return Error(`Unable to find icon with the name "${n}"`)}function Rj(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Pj(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class _y{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let rM=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new _y(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const o=this._sanitizer.sanitize(l.q3G.HTML,r);if(!o)throw Pj(r);const d=Vx(o);return this._addSvgIconConfig(t,i,new _y("",d,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new _y(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(l.q3G.HTML,i);if(!s)throw Pj(i);const o=Vx(s);return this._addSvgIconSetConfig(t,new _y("",o,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw Rj(t);const r=this._cachedIconsByUrl.get(i);return r?Mt(sM(r)):this._loadSvgIconFromConfig(new _y(t,null)).pipe((0,us.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,kt.U)(s=>sM(s)))}getNamedSvgIcon(t,i=""){const r=Oj(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(t,o):u0(kj(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Mt(sM(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,kt.U)(i=>sM(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Mt(r):KV(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(qf(d=>{const g=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,o.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(g)),Mt(null)})))).pipe((0,kt.U)(()=>{const o=this._extractIconWithNameFromAnySet(t,i);if(!o)throw kj(t);return o}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(o,t,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,us.b)(i=>t.svgText=i),(0,kt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Mt(null):this._fetchIcon(t).pipe((0,us.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const d=this._svgElementFromString(Vx("<svg></svg>"));return d.appendChild(o),this._setSvgAttributes(d,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Vx("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:d}=r[s];"id"!==o&&i.setAttribute(o,d)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function uY(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const o=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!o)throw Rj(i);const d=this._inProgressUrlFetches.get(o);if(d)return d;const f=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe((0,kt.U)(g=>Vx(g)),gD(()=>this._inProgressUrlFetches.delete(o)),(0,rV.B)());return this._inProgressUrlFetches.set(o,f),f}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(Oj(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return hY(s)?new _y(s.url,null,s.options):new _y(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zO,8),l.LFG(ld),l.LFG(de,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sM(n){return n.cloneNode(!0)}function Oj(n,e){return n+":"+e}function hY(n){return!(!n.url||!n.options)}const fY=RO(class{constructor(n){this._elementRef=n}}),mY=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),pY=new l.OlP("mat-icon-location",{providedIn:"root",factory:function gY(){const n=(0,l.f3M)(de),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Nj=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_Y=Nj.map(n=>`[${n}]`).join(", "),yY=/^url\(['"]?#(.*?)['"]?\)$/;let Fj=(()=>{class n extends fY{get inline(){return this._inline}set inline(t){this._inline=br(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,o,d){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=kc.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(_Y),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)Nj.forEach(o=>{const d=i[s],f=d.getAttribute(o),g=f?f.match(yY):null;if(g){let b=r.get(d);b||(b=[],r.set(d,b)),b.push({name:o,value:g[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Js(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(rM),l.$8M("aria-hidden"),l.Y36(pY),l.Y36(l.qLn),l.Y36(mY,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:cY,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),vY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[To,To]}),n})();const bY=["*",[["mat-toolbar-row"]]],wY=["*","mat-toolbar-row"],EY=RO(class{constructor(n){this._elementRef=n}});let Lj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),IY=(()=>{class n extends EY{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Cs),l.Y36(de))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,Lj,5),2&t){let s;l.iGM(s=l.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:wY,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(bY),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),Vj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[To,To]}),n})();const xY=["mat-button",""],TY=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],CY=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],SY=["mat-icon-button",""],DY=["*"],MY=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],kY=RO(z4(H4(class{constructor(n){this._elementRef=n}})));let Bj=(()=>{class n extends kY{constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,l.f3M)(WD),this._isFab=!1;const o=t.nativeElement.classList;for(const d of MY)this._hasHostAttributes(d.selector)&&d.mdcClasses.forEach(f=>{o.add(f)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(ZD,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},features:[l.qOj]}),n})(),PY=(()=>{class n extends Bj{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Cs),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:xY,ngContentSelectors:CY,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t(TY),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&t&&(l.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),l.xp6(6),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[ZD],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),NY=(()=>{class n extends Bj{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Cs),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:SY,ngContentSelectors:DY,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(l.F$t(),l._UZ(0,"span",0),l.Hsn(1),l._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(l.xp6(3),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[ZD],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),FY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[To,PO,To]}),n})(),LY=(()=>{const e=class{constructor(){this.toggleSidebarForMe=new l.vpe}ngOnInit(){}toggleSidebar(){this.toggleSidebarForMe.emit()}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-header"]],outputs:{toggleSidebarForMe:"toggleSidebarForMe"},decls:20,vars:1,consts:[[1,"justify"],["mat-icon-button","",3,"click"],[1,"row","mr-2","ml-auto"],["mat-button","",1,"user","mt-2","d-flex","align-items-center",3,"matMenuTriggerFor"],["src","../../assets/images/user.png",1,"user-image","mr-1","p-2"],["menu","matMenu"],["mat-menu-item",""],[1,"toolbar-spacer"]],template:function(r,s){if(1&r&&(l.TgZ(0,"mat-toolbar")(1,"mat-toolbar-row",0)(2,"button",1),l.NdJ("click",function(){return s.toggleSidebar()}),l.TgZ(3,"mat-icon"),l._uU(4,"menu"),l.qZA()(),l.TgZ(5,"div",2)(6,"ul")(7,"li")(8,"button",3),l._UZ(9,"img",4),l._uU(10," User Name "),l.TgZ(11,"mat-icon"),l._uU(12,"keyboard_arrow_down"),l.qZA()(),l.TgZ(13,"mat-menu",null,5)(15,"button",6)(16,"mat-icon"),l._uU(17,"exit_to_app"),l.qZA(),l._uU(18," Logout "),l.qZA()()()()()()(),l._UZ(19,"div",7)),2&r){const o=l.MAs(14);l.xp6(8),l.Q6J("matMenuTriggerFor",o)}},dependencies:[FZ,JD,UZ,Fj,IY,Lj,PY,NY],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#fff;color:#1f2937;box-shadow:0 4px 12px #0000000f;padding:0 24px;position:fixed;top:0;left:0;right:0;z-index:1100;width:100%;transition:background-color .3s ease,box-shadow .3s ease}mat-toolbar-row.justify[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:64px}button[mat-icon-button][_ngcontent-%COMP%]{color:#4b5563;border-radius:10px;padding:8px;transition:all .25s ease}button[mat-icon-button][_ngcontent-%COMP%]:hover{background-color:#0000000f;color:#111827;transform:scale(1.05)}.row.mr-2.ml-auto[_ngcontent-%COMP%]{margin-left:auto;display:flex;align-items:center;gap:.75rem}ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}button.user[_ngcontent-%COMP%]{background:transparent;border:none;color:#374151;font-weight:500;font-size:1rem;padding:6px 10px;transition:background-color .3s ease;border-radius:8px;display:flex;align-items:center;cursor:pointer;gap:8px}button.user[_ngcontent-%COMP%]:hover{background-color:#0000000d}.user-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:9999px;object-fit:cover;border:2px solid #e5e7eb;box-shadow:0 4px 12px #00000014;transition:transform .25s ease,box-shadow .25s ease;background-color:#f3f4f6}.user-image[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 18px #0000001f}mat-icon[_ngcontent-%COMP%]{font-size:20px;color:#6b7280;transition:transform .3s ease}button.user[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.mat-menu-panel[_ngcontent-%COMP%]{border-radius:12px!important;box-shadow:0 10px 28px #00000026;animation:_ngcontent-%COMP%_fadeIn .25s ease-out;min-width:200px}button[mat-menu-item][_ngcontent-%COMP%]{font-size:14px;color:#374151;padding:12px 20px;display:flex;align-items:center;gap:10px;transition:background-color .2s ease;border-radius:6px}button[mat-menu-item][_ngcontent-%COMP%]:hover{background-color:#f3f4f6}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.toolbar-spacer[_ngcontent-%COMP%]{height:64px}"]}),n})(),Uj=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VY=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=my(t);return new _i.y(r=>{const o=this._observeElement(i).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Dn.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Uj))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jj=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=br(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=d4(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(GD(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(VY),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),BY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Uj]}),n})(),UY=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=br(t)}get inset(){return this._inset}set inset(t){this._inset=br(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),zj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[To,To]}),n})();const $j=["*"],qj=["unscopedContent"],jY=["text"],zY=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],HY=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],Wj=new l.OlP("ListOption");let Kj=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),n})(),Zj=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),n})(),aQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),n})(),Yj=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wj,8))},n.\u0275dir=l.lG2({type:n,hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}}),n})(),cQ=(()=>{class n extends Yj{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[l.qOj]}),n})(),lQ=(()=>{class n extends Yj{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[l.qOj]}),n})();const uQ=new l.OlP("MAT_LIST_CONFIG");let S0=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,l.f3M)(uQ,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=br(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=br(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),n})(),$O=(()=>{class n{set lines(t){this._explicitLines=d4(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=br(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=br(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,s,o,d){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=s,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new kc.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=o||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===d,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new T0(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,oy.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const s=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",s),r.classList.toggle("mdc-list-item__secondary-text",!s)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(S0,8),l.Y36(Cs),l.Y36(KD,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,cQ,4),l.Suo(r,lQ,4)),2&t){let s;l.iGM(s=l.CRH())&&(i._avatars=s),l.iGM(s=l.CRH())&&(i._icons=s)}},hostVars:4,hostBindings:function(t,i){2&t&&(l.uIk("aria-disabled",i.disabled)("disabled",i._isButtonElement&&i.disabled||null),l.ekj("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),n})(),dQ=(()=>{class n extends $O{get activated(){return this._activated}set activated(t){this._activated=br(t)}constructor(t,i,r,s,o,d){super(t,i,r,s,o,d),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(S0,8),l.Y36(Cs),l.Y36(KD,8),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,Zj,5),l.Suo(r,Kj,5),l.Suo(r,aQ,5)),2&t){let s;l.iGM(s=l.CRH())&&(i._lines=s),l.iGM(s=l.CRH())&&(i._titles=s),l.iGM(s=l.CRH())&&(i._meta=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(qj,5),l.Gf(jY,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._unscopedContent=r.first),l.iGM(r=l.CRH())&&(i._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(t,i){2&t&&(l.uIk("aria-current",i._getAriaCurrent()),l.ekj("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",0!==i._avatars.length)("mdc-list-item--with-leading-icon",0!==i._icons.length)("mdc-list-item--with-trailing-meta",0!==i._meta.length)("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[l.qOj],ngContentSelectors:HY,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(t,i){1&t&&(l.F$t(zY),l.Hsn(0),l.TgZ(1,"span",0),l.Hsn(2,1),l.Hsn(3,2),l.TgZ(4,"span",1,2),l.NdJ("cdkObserveContent",function(){return i._updateItemLines(!0)}),l.Hsn(6,3),l.qZA()(),l.Hsn(7,4),l.Hsn(8,5),l._UZ(9,"div",3))},dependencies:[jj],encapsulation:2,changeDetection:0}),n})(),fQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"]}),n})(),mQ=(()=>{class n extends S0{constructor(){super(...arguments),this._isNonInteractive=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[l._Bn([{provide:S0,useExisting:n}]),l.qOj],ngContentSelectors:$j,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),n})(),yQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[BY,Tr,To,PO,qK,zj]}),n})(),vQ=(()=>{const e=class{constructor(){}ngOnInit(){}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-sidenav"]],decls:34,vars:0,consts:[[1,"logo","py-4"],["src","../../../assets/images/0c629e70-f2a9-4d8c-8fb9-e595a1d7b-10.png","alt","Company Logo"],["matSubheader","",1,"mt-2"],["mat-list-item","","routerLinkActive","list-item-active","routerLink","/home"],["mat-list-item","","routerLinkActive","list-item-active","routerLink","/dashboard"],["mat-list-item","","routerLink","/students"],["mat-list-item","","routerLink","/enseignants"],["mat-list-item","","routerLink","/chatbot"],["mat-list-item","","routerLink","/timetable"],["mat-list-item","","routerLinkActive","/cour"]],template:function(r,s){1&r&&(l.TgZ(0,"mat-nav-list")(1,"div",0),l._UZ(2,"img",1),l.qZA(),l._UZ(3,"mat-divider"),l.TgZ(4,"h2",2),l._uU(5,"APPLICATIONS"),l.qZA(),l.TgZ(6,"a",3)(7,"mat-icon"),l._uU(8,"home"),l.qZA(),l._uU(9," Home "),l.qZA(),l.TgZ(10,"a",4)(11,"mat-icon"),l._uU(12,"dashboard"),l.qZA(),l._uU(13," Dashboard "),l.qZA(),l.TgZ(14,"a",5)(15,"mat-icon"),l._uU(16,"edit"),l.qZA(),l._uU(17," Etudiants\n"),l.qZA(),l.TgZ(18,"a",6)(19,"mat-icon"),l._uU(20,"edit"),l.qZA(),l._uU(21," enseignants\n"),l.qZA(),l.TgZ(22,"a",7)(23,"mat-icon"),l._uU(24,"edit"),l.qZA(),l._uU(25," chatbot\n"),l.qZA(),l.TgZ(26,"a",8)(27,"mat-icon"),l._uU(28,"edit"),l.qZA(),l._uU(29," TimeTable "),l.qZA(),l.TgZ(30,"a",9)(31,"mat-icon"),l._uU(32,"cour"),l.qZA(),l._uU(33," Cour "),l.qZA()())},dependencies:[VD,e4,mQ,dQ,fQ,UY,Fj],styles:["[_nghost-%COMP%]{.mat-icon {vertical-align: middle; margin-right: .75rem; color: #64748b; font-size: 20px; transition: color .3s;}}.logo[_ngcontent-%COMP%]{text-align:center;padding:2.5rem 1rem;img {width: 180px; filter: drop-shadow(0 2px 4px rgba(0,0,0,.1));}}.mat-divider[_ngcontent-%COMP%]{border-top:1.5px solid #e2e8f0;margin:1rem 0}.mat-list-item[_ngcontent-%COMP%]{color:#94a3b8;font-size:.85rem;height:46px;padding:0 1rem;transition:all .3s ease;border-radius:8px;margin:4px 8px;&:hover{background-color:#334155;color:#f8fafc;cursor:pointer;.mat-icon {color: #f8fafc;}}}.list-item-active[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border-radius:0 1.5rem 1.5rem 0;margin:4px 8px;.mat-icon {color: #ffffff;} &:hover {background: #2563eb;}}.mat-subheader[_ngcontent-%COMP%]{color:#818cf8;font-size:.7rem;font-weight:500;letter-spacing:1px;margin:.75rem 1rem .5rem;text-transform:uppercase}"]}),n})(),Xj=(()=>{const e=class{constructor(i){this.layoutService=i,this.sidebarVisible=!0,this.sidebarOpen=!0,this.darkMode=!1,this.pageTitle="",this.subscriptions=new kc.w0}sideBarToggler(){throw new Error("Method not implemented.")}ngOnInit(){this.subscriptions.add(this.layoutService.sidebarState$.subscribe(i=>{this.sidebarOpen=i})),this.subscriptions.add(this.layoutService.darkMode$.subscribe(i=>{this.darkMode=i})),this.subscriptions.add(this.layoutService.pageTitle$.subscribe(i=>{this.pageTitle=i}))}toggleSidebar(){this.layoutService.toggleSidebar()}toggleDarkMode(){this.layoutService.toggleDarkMode()}ngOnDestroy(){this.subscriptions.unsubscribe()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(_W))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-layout"]],decls:6,vars:1,consts:[["mode","side",3,"opened"],[3,"toggleSidebarForMe"]],template:function(r,s){1&r&&(l.TgZ(0,"mat-drawer-container")(1,"mat-drawer",0),l._UZ(2,"app-sidenav"),l.qZA(),l.TgZ(3,"mat-drawer-content")(4,"app-header",1),l.NdJ("toggleSidebarForMe",function(){return s.sideBarToggler()}),l.qZA(),l._UZ(5,"router-outlet"),l.qZA()()),2&r&&(l.xp6(1),l.Q6J("opened",s.sidebarOpen))},dependencies:[SD,tj,nj,QD,LY,vQ],styles:["mat-drawer-container[_ngcontent-%COMP%]{height:100vh;background-color:#f5f7fa;font-family:Segoe UI,sans-serif}mat-drawer[_ngcontent-%COMP%]{width:260px;background:linear-gradient(135deg,#1f2937,#111827);color:#fff;border-right:1px solid #2c3e50;box-shadow:2px 0 6px #0000001a;padding:1rem 0}app-sidenav[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding:0 1rem}app-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background-color:#fff;box-shadow:0 2px 8px #0000000d;padding:.5rem 1rem}mat-drawer-content[_ngcontent-%COMP%]{padding:1.5rem;background-color:#f9fafb;height:100vh;overflow-y:auto;transition:margin .3s ease}@media (max-width: 768px){mat-drawer[_ngcontent-%COMP%]{width:220px}mat-drawer-content[_ngcontent-%COMP%]{padding:1rem}}"]}),n})(),bQ=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-dashboard"]],decls:6,vars:0,consts:[[1,"container-fluid","page"],[1,"d-flex","page__box","p-3","mt-2"],[1,"page__content","shadow","p-3","position-relative"],[1,"page__content-data","position-absolute","text-center"]],template:function(r,s){1&r&&(l.TgZ(0,"div",0)(1,"div",1),l._uU(2,"Dashboard"),l.qZA(),l.TgZ(3,"div",2)(4,"div",3),l._uU(5," Dashboard Content Goes Here "),l.qZA()()())},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}[_ngcontent-%COMP%]:root{--primary-color: #4361ee;--secondary-color: #3a0ca3;--accent-color: #4895ef;--light-color: #f8f9fa;--dark-color: #212529;--success-color: #4cc9f0;--warning-color: #f8961e;--danger-color: #f72585}body[_ngcontent-%COMP%]{background-color:#f5f7fb;color:var(--dark-color)}.container-fluid.page[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px}.page__box[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;padding:15px 20px;border-radius:8px 8px 0 0;box-shadow:0 4px 6px #0000001a}.page__box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;display:flex;align-items:center;gap:10px}.page__content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:0 0 8px 8px;box-shadow:0 4px 20px #00000014}.welcome-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;margin-bottom:30px;align-items:center}.welcome-text[_ngcontent-%COMP%]{flex:1;min-width:300px}.welcome-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:10px;color:var(--primary-color)}.welcome-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:20px}.welcome-image[_ngcontent-%COMP%]{flex:1;min-width:300px}.welcome-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:20px;background-color:var(--light-color);border-radius:8px;border-left:4px solid var(--accent-color);transition:transform .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.stat-icon[_ngcontent-%COMP%]{width:50px;height:50px;background-color:var(--accent-color);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.2rem}.stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color)}.stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.quick-actions[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000000d}.quick-actions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;color:var(--primary-color)}.action-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:15px}.action-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;padding:15px 10px;background-color:var(--light-color);border:none;border-radius:8px;cursor:pointer;transition:all .3s ease}.action-btn[_ngcontent-%COMP%]:hover{background-color:var(--accent-color);color:#fff}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.recent-activity[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000000d}.recent-activity[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:20px;color:var(--primary-color)}.activity-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.activity-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:10px;border-left:3px solid var(--accent-color);transition:background-color .3s ease}.activity-item[_ngcontent-%COMP%]:hover{background-color:#4895ef1a}.activity-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--accent-color);font-size:1.2rem}.activity-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5px}.activity-details[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#666}.btn-primary[_ngcontent-%COMP%]{padding:10px 20px;background-color:var(--primary-color);color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color)}@media (max-width: 768px){.welcome-section[_ngcontent-%COMP%]{flex-direction:column}.content-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),n})(),Jj=(()=>{const e=class{constructor(i){this.firestore=i,this.messagesCollection=this.firestore.collection("messages",r=>r.orderBy("timestamp"))}getMessages(){return this.messagesCollection.valueChanges({idField:"id"})}sendMessage(i){const r=this.firestore.createId();return this.messagesCollection.doc(r).set(i).catch(s=>{throw console.error("Erreur lors de l'envoi du message :",s),s})}sendBotReply(i){var r=this;return(0,re.Z)(function*(){const s={text:`Vous avez dit : ${i}`,sender:"bot",timestamp:Date.now(),id:""};return r.sendMessage(s)})()}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.LFG(XI))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function wQ(n,e){if(1&n&&(l.TgZ(0,"div",7)(1,"span",8),l._uU(2),l.qZA()()),2&n){const t=e.$implicit;l.Q6J("ngClass",t.sender),l.xp6(2),l.Oqu(t.text)}}let EQ=(()=>{const e=class{constructor(i){this.chatbotService=i,this.userMessage="",this.messages=[]}ngOnInit(){this.chatbotService.getMessages().subscribe(i=>{this.messages=i})}sendMessage(){if(!this.userMessage.trim())return;const i={text:this.userMessage,sender:"user",timestamp:Date.now(),id:""};this.chatbotService.sendMessage(i).then(()=>this.chatbotService.sendBotReply(this.userMessage)).catch(r=>console.error("Erreur lors de l'envoi du message :",r)),this.userMessage=""}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(Jj))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-chatbot"]],decls:10,vars:2,consts:[[1,"chat-container"],[1,"chat-header"],["id","messageContainer",1,"messages"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"input-container"],["placeholder","\xc9crivez un message...",3,"ngModel","ngModelChange","keyup.enter"],[3,"click"],[3,"ngClass"],[1,"message-text"]],template:function(r,s){1&r&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h3"),l._uU(3,"\u{1f916} Chatbot"),l.qZA()(),l.TgZ(4,"div",2),l.YNc(5,wQ,3,2,"div",3),l.qZA(),l.TgZ(6,"div",4)(7,"input",5),l.NdJ("ngModelChange",function(d){return s.userMessage=d})("keyup.enter",function(){return s.sendMessage()}),l.qZA(),l.TgZ(8,"button",6),l.NdJ("click",function(){return s.sendMessage()}),l._uU(9,"\u27a4"),l.qZA()()()),2&r&&(l.xp6(5),l.Q6J("ngForOf",s.messages),l.xp6(2),l.Q6J("ngModel",s.userMessage))},dependencies:[on,ho,Wp,c0,ox],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:600px;max-width:450px;margin:0 auto;border-radius:12px;box-shadow:0 4px 20px #00000026;overflow:hidden;font-family:Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background-color:#f8f9fa}.chat-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6e8efb,#a777e3);color:#fff;padding:16px 20px;text-align:center;box-shadow:0 2px 10px #0000001a}.chat-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;font-weight:600}.messages[_ngcontent-%COMP%]{flex:1;padding:20px;overflow-y:auto;background-color:#f0f2f5;display:flex;flex-direction:column;gap:12px}.messages[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{max-width:80%;padding:12px 16px;border-radius:18px;line-height:1.4;position:relative;animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.messages[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{align-self:flex-end;background-color:#007bff;color:#fff;border-bottom-right-radius:4px}.messages[_ngcontent-%COMP%]   .bot[_ngcontent-%COMP%]{align-self:flex-start;background-color:#fff;color:#333;border-bottom-left-radius:4px;box-shadow:0 2px 4px #0000000d}.message-text[_ngcontent-%COMP%]{word-wrap:break-word}.input-container[_ngcontent-%COMP%]{display:flex;padding:15px;background-color:#fff;border-top:1px solid #e9ecef}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:12px 15px;border:1px solid #ddd;border-radius:25px;outline:none;font-size:1rem;transition:border .3s}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#a777e3}.input-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50px;margin-left:10px;border:none;border-radius:50%;background:linear-gradient(135deg,#6e8efb,#a777e3);color:#fff;font-size:1.2rem;cursor:pointer;transition:transform .2s,opacity .2s}.input-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05);opacity:.9}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#a777e3;border-radius:3px}@media (max-width: 480px){.chat-container[_ngcontent-%COMP%]{height:100vh;max-width:100%;border-radius:0}.messages[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{max-width:90%}}"]}),n})();const ez=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},tz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,d=o?n[r+1]:0,f=r+2<n.length,g=f?n[r+2]:0;let k=(15&d)<<2|g>>6,N=63&g;f||(N=64,o||(k=64)),i.push(t[s>>2],t[(3&s)<<4|d>>4],t[k],t[N])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ez(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const f=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(1023&f))}else{const s=n[t++],o=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],d=r<n.length?t[n.charAt(r)]:0;++r;const g=r<n.length?t[n.charAt(r)]:64;++r;const x=r<n.length?t[n.charAt(r)]:64;if(++r,null==s||null==d||null==g||null==x)throw new CQ;i.push(s<<2|d>>4),64!==g&&(i.push(d<<4&240|g>>2),64!==x&&i.push(g<<6&192|x))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class CQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oM=function(n){return function(n){const e=ez(n);return tz.encodeByteArray(e,!0)}(n).replace(/\./g,"")},aM=()=>{try{return function DQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&function(n){try{return tz.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}};class D0 extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,D0.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iz.prototype.create)}}class iz{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function jQ(n,e){return n.replace(zQ,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new D0(r,`${this.serviceName}: ${o} (${r}).`,i)}}const zQ=/\{\$([^}]+)}/g;class lM{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ZO=[];var jn=(()=>(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"}(jn||(jn={})),jn))();const oz={debug:jn.DEBUG,verbose:jn.VERBOSE,info:jn.INFO,warn:jn.WARN,error:jn.ERROR,silent:jn.SILENT},tX=jn.INFO,nX={[jn.DEBUG]:"log",[jn.VERBOSE]:"log",[jn.INFO]:"info",[jn.WARN]:"warn",[jn.ERROR]:"error"},iX=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=nX[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class az{constructor(e){this.name=e,this._logLevel=tX,this._logHandler=iX,this._userLogHandler=null,ZO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?oz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jn.DEBUG,...e),this._logHandler(this,jn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jn.VERBOSE,...e),this._logHandler(this,jn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jn.INFO,...e),this._logHandler(this,jn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jn.WARN,...e),this._logHandler(this,jn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jn.ERROR,...e),this._logHandler(this,jn.ERROR,...e)}}var rX=U(8766);class sX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function oX(n){return"VERSION"===n.getComponent()?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const uM="@firebase/app",YO="0.10.13",Yf=new az("@firebase/app"),OX={[uM]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},vy=new Map,Ux=new Map,jx=new Map;function cz(n,e){try{n.container.addComponent(e)}catch(t){Yf.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function hM(n){const e=n.name;if(jx.has(e))return Yf.debug(`There were multiple attempts to register component ${e}.`),!1;jx.set(e,n);for(const t of vy.values())cz(t,n);for(const t of Ux.values())cz(t,n);return!0}const vl=new iz("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});function M0(n,e,t){var i;let r=null!==(i=OX[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const d=[`Unable to register library "${r}" with version "${e}":`];return s&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&d.push("and"),o&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Yf.warn(d.join(" "))}hM(new lM(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const HX="firebase-heartbeat-database",$X=1,zx="firebase-heartbeat-store";let XO=null;function lz(){return XO||(XO=(0,rX.X3)(HX,$X,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(zx)}catch(t){console.warn(t)}}}).catch(n=>{throw vl.create("idb-open",{originalErrorMessage:n.message})})),XO}function JO(){return JO=(0,re.Z)(function*(n){try{const t=(yield lz()).transaction(zx),i=yield t.objectStore(zx).get(dz(n));return yield t.done,i}catch(e){if(e instanceof D0)Yf.warn(e.message);else{const t=vl.create("idb-get",{originalErrorMessage:e?.message});Yf.warn(t.message)}}}),JO.apply(this,arguments)}function uz(n,e){return eN.apply(this,arguments)}function eN(){return eN=(0,re.Z)(function*(n,e){try{const i=(yield lz()).transaction(zx,"readwrite");yield i.objectStore(zx).put(e,dz(n)),yield i.done}catch(t){if(t instanceof D0)Yf.warn(t.message);else{const i=vl.create("idb-set",{originalErrorMessage:t?.message});Yf.warn(i.message)}}}),eN.apply(this,arguments)}function dz(n){return`${n.name}!${n.options.appId}`}class KX{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YX(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return(0,re.Z)(function*(){var t,i;try{const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hz();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(i=e._heartbeatsCache)||void 0===i?void 0:i.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===o||e._heartbeatsCache.heartbeats.some(d=>d.date===o)?void 0:(e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(d=>{const f=new Date(d.date).valueOf();return Date.now()-f<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(r){Yf.warn(r)}})()}getHeartbeatsHeader(){var e=this;return(0,re.Z)(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const i=hz(),{heartbeatsToSend:r,unsentEntries:s}=function ZX(n,e=1024){const t=[];let i=n.slice();for(const r of n){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),fz(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),fz(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),o=oM(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o}catch(i){return Yf.warn(i),""}})()}}function hz(){return(new Date).toISOString().substring(0,10)}class YX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,re.Z)(function*(){return!!function VQ(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function BQ(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,re.Z)(function*(){if(yield e._canUseIndexedDBPromise){const i=yield function GX(n){return JO.apply(this,arguments)}(e.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return(0,re.Z)(function*(){var i;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return uz(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,re.Z)(function*(){var i;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return uz(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function fz(n){return oM(JSON.stringify({version:2,heartbeats:n})).length}!function QX(n){hM(new lM("platform-logger",e=>new sX(e),"PRIVATE")),hM(new lM("heartbeat",e=>new KX(e),"PRIVATE")),M0(uM,YO,n),M0(uM,YO,"esm2017"),M0("fire-js","")}("");var by,gz,mz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pz={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(ee,G,Q){Q||(Q=0);var ce=Array(16);if("string"==typeof G)for(var fe=0;16>fe;++fe)ce[fe]=G.charCodeAt(Q++)|G.charCodeAt(Q++)<<8|G.charCodeAt(Q++)<<16|G.charCodeAt(Q++)<<24;else for(fe=0;16>fe;++fe)ce[fe]=G[Q++]|G[Q++]<<8|G[Q++]<<16|G[Q++]<<24;var we=ee.g[3],X=(G=ee.g[0])+(we^(Q=ee.g[1])&((fe=ee.g[2])^we))+ce[0]+3614090360&4294967295;X=(Q=(fe=(we=(G=(Q=(fe=(we=(G=(Q=(fe=(we=(G=(Q=(fe=(we=(G=(Q=(fe=(we=(G=(Q=(fe=(we=(G=(Q=(fe=(we=(G=(Q=(fe=(we=(G=(Q=(fe=(we=(G=(Q=(fe=(we=(G=(Q=(fe=(we=(G=(Q=(fe=(we=(G=(Q=(fe=(we=(G=(Q=(fe=(we=(G=(Q=(fe=(we=(G=Q+(X<<7&4294967295|X>>>25))+((X=we+(fe^G&(Q^fe))+ce[1]+3905402710&4294967295)<<12&4294967295|X>>>20))+((X=fe+(Q^we&(G^Q))+ce[2]+606105819&4294967295)<<17&4294967295|X>>>15))+((X=Q+(G^fe&(we^G))+ce[3]+3250441966&4294967295)<<22&4294967295|X>>>10))+((X=G+(we^Q&(fe^we))+ce[4]+4118548399&4294967295)<<7&4294967295|X>>>25))+((X=we+(fe^G&(Q^fe))+ce[5]+1200080426&4294967295)<<12&4294967295|X>>>20))+((X=fe+(Q^we&(G^Q))+ce[6]+2821735955&4294967295)<<17&4294967295|X>>>15))+((X=Q+(G^fe&(we^G))+ce[7]+4249261313&4294967295)<<22&4294967295|X>>>10))+((X=G+(we^Q&(fe^we))+ce[8]+1770035416&4294967295)<<7&4294967295|X>>>25))+((X=we+(fe^G&(Q^fe))+ce[9]+2336552879&4294967295)<<12&4294967295|X>>>20))+((X=fe+(Q^we&(G^Q))+ce[10]+4294925233&4294967295)<<17&4294967295|X>>>15))+((X=Q+(G^fe&(we^G))+ce[11]+2304563134&4294967295)<<22&4294967295|X>>>10))+((X=G+(we^Q&(fe^we))+ce[12]+1804603682&4294967295)<<7&4294967295|X>>>25))+((X=we+(fe^G&(Q^fe))+ce[13]+4254626195&4294967295)<<12&4294967295|X>>>20))+((X=fe+(Q^we&(G^Q))+ce[14]+2792965006&4294967295)<<17&4294967295|X>>>15))+((X=Q+(G^fe&(we^G))+ce[15]+1236535329&4294967295)<<22&4294967295|X>>>10))+((X=G+(fe^we&(Q^fe))+ce[1]+4129170786&4294967295)<<5&4294967295|X>>>27))+((X=we+(Q^fe&(G^Q))+ce[6]+3225465664&4294967295)<<9&4294967295|X>>>23))+((X=fe+(G^Q&(we^G))+ce[11]+643717713&4294967295)<<14&4294967295|X>>>18))+((X=Q+(we^G&(fe^we))+ce[0]+3921069994&4294967295)<<20&4294967295|X>>>12))+((X=G+(fe^we&(Q^fe))+ce[5]+3593408605&4294967295)<<5&4294967295|X>>>27))+((X=we+(Q^fe&(G^Q))+ce[10]+38016083&4294967295)<<9&4294967295|X>>>23))+((X=fe+(G^Q&(we^G))+ce[15]+3634488961&4294967295)<<14&4294967295|X>>>18))+((X=Q+(we^G&(fe^we))+ce[4]+3889429448&4294967295)<<20&4294967295|X>>>12))+((X=G+(fe^we&(Q^fe))+ce[9]+568446438&4294967295)<<5&4294967295|X>>>27))+((X=we+(Q^fe&(G^Q))+ce[14]+3275163606&4294967295)<<9&4294967295|X>>>23))+((X=fe+(G^Q&(we^G))+ce[3]+4107603335&4294967295)<<14&4294967295|X>>>18))+((X=Q+(we^G&(fe^we))+ce[8]+1163531501&4294967295)<<20&4294967295|X>>>12))+((X=G+(fe^we&(Q^fe))+ce[13]+2850285829&4294967295)<<5&4294967295|X>>>27))+((X=we+(Q^fe&(G^Q))+ce[2]+4243563512&4294967295)<<9&4294967295|X>>>23))+((X=fe+(G^Q&(we^G))+ce[7]+1735328473&4294967295)<<14&4294967295|X>>>18))+((X=Q+(we^G&(fe^we))+ce[12]+2368359562&4294967295)<<20&4294967295|X>>>12))+((X=G+(Q^fe^we)+ce[5]+4294588738&4294967295)<<4&4294967295|X>>>28))+((X=we+(G^Q^fe)+ce[8]+2272392833&4294967295)<<11&4294967295|X>>>21))+((X=fe+(we^G^Q)+ce[11]+1839030562&4294967295)<<16&4294967295|X>>>16))+((X=Q+(fe^we^G)+ce[14]+4259657740&4294967295)<<23&4294967295|X>>>9))+((X=G+(Q^fe^we)+ce[1]+2763975236&4294967295)<<4&4294967295|X>>>28))+((X=we+(G^Q^fe)+ce[4]+1272893353&4294967295)<<11&4294967295|X>>>21))+((X=fe+(we^G^Q)+ce[7]+4139469664&4294967295)<<16&4294967295|X>>>16))+((X=Q+(fe^we^G)+ce[10]+3200236656&4294967295)<<23&4294967295|X>>>9))+((X=G+(Q^fe^we)+ce[13]+681279174&4294967295)<<4&4294967295|X>>>28))+((X=we+(G^Q^fe)+ce[0]+3936430074&4294967295)<<11&4294967295|X>>>21))+((X=fe+(we^G^Q)+ce[3]+3572445317&4294967295)<<16&4294967295|X>>>16))+((X=Q+(fe^we^G)+ce[6]+76029189&4294967295)<<23&4294967295|X>>>9))+((X=G+(Q^fe^we)+ce[9]+3654602809&4294967295)<<4&4294967295|X>>>28))+((X=we+(G^Q^fe)+ce[12]+3873151461&4294967295)<<11&4294967295|X>>>21))+((X=fe+(we^G^Q)+ce[15]+530742520&4294967295)<<16&4294967295|X>>>16))+((X=Q+(fe^we^G)+ce[2]+3299628645&4294967295)<<23&4294967295|X>>>9))+((X=G+(fe^(Q|~we))+ce[0]+4096336452&4294967295)<<6&4294967295|X>>>26))+((X=we+(Q^(G|~fe))+ce[7]+1126891415&4294967295)<<10&4294967295|X>>>22))+((X=fe+(G^(we|~Q))+ce[14]+2878612391&4294967295)<<15&4294967295|X>>>17))+((X=Q+(we^(fe|~G))+ce[5]+4237533241&4294967295)<<21&4294967295|X>>>11))+((X=G+(fe^(Q|~we))+ce[12]+1700485571&4294967295)<<6&4294967295|X>>>26))+((X=we+(Q^(G|~fe))+ce[3]+2399980690&4294967295)<<10&4294967295|X>>>22))+((X=fe+(G^(we|~Q))+ce[10]+4293915773&4294967295)<<15&4294967295|X>>>17))+((X=Q+(we^(fe|~G))+ce[1]+2240044497&4294967295)<<21&4294967295|X>>>11))+((X=G+(fe^(Q|~we))+ce[8]+1873313359&4294967295)<<6&4294967295|X>>>26))+((X=we+(Q^(G|~fe))+ce[15]+4264355552&4294967295)<<10&4294967295|X>>>22))+((X=fe+(G^(we|~Q))+ce[6]+2734768916&4294967295)<<15&4294967295|X>>>17))+((X=Q+(we^(fe|~G))+ce[13]+1309151649&4294967295)<<21&4294967295|X>>>11))+((we=(G=Q+((X=G+(fe^(Q|~we))+ce[4]+4149444226&4294967295)<<6&4294967295|X>>>26))+((X=we+(Q^(G|~fe))+ce[11]+3174756917&4294967295)<<10&4294967295|X>>>22))^((fe=we+((X=fe+(G^(we|~Q))+ce[2]+718787259&4294967295)<<15&4294967295|X>>>17))|~G))+ce[9]+3951481745&4294967295,ee.g[0]=ee.g[0]+G&4294967295,ee.g[1]=ee.g[1]+(fe+(X<<21&4294967295|X>>>11))&4294967295,ee.g[2]=ee.g[2]+fe&4294967295,ee.g[3]=ee.g[3]+we&4294967295}function o(ee,G){this.h=G;for(var Q=[],ce=!0,fe=ee.length-1;0<=fe;fe--){var we=0|ee[fe];ce&&we==G||(Q[fe]=we,ce=!1)}this.g=Q}(function e(ee,G){function Q(){}Q.prototype=G.prototype,ee.D=G.prototype,ee.prototype=new Q,ee.prototype.constructor=ee,ee.C=function(ce,fe,we){for(var X=Array(arguments.length-2),Il=2;Il<arguments.length;Il++)X[Il-2]=arguments[Il];return G.prototype[fe].apply(ce,X)}})(i,function t(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(ee,G){void 0===G&&(G=ee.length);for(var Q=G-this.blockSize,ce=this.B,fe=this.h,we=0;we<G;){if(0==fe)for(;we<=Q;)r(this,ee,we),we+=this.blockSize;if("string"==typeof ee){for(;we<G;)if(ce[fe++]=ee.charCodeAt(we++),fe==this.blockSize){r(this,ce),fe=0;break}}else for(;we<G;)if(ce[fe++]=ee[we++],fe==this.blockSize){r(this,ce),fe=0;break}}this.h=fe,this.o+=G},i.prototype.v=function(){var ee=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ee[0]=128;for(var G=1;G<ee.length-8;++G)ee[G]=0;var Q=8*this.o;for(G=ee.length-8;G<ee.length;++G)ee[G]=255&Q,Q/=256;for(this.u(ee),ee=Array(16),G=Q=0;4>G;++G)for(var ce=0;32>ce;ce+=8)ee[Q++]=this.g[G]>>>ce&255;return ee};var d={};function f(ee){return-128<=ee&&128>ee?function s(ee,G){var Q=d;return Object.prototype.hasOwnProperty.call(Q,ee)?Q[ee]:Q[ee]=G(ee)}(ee,function(G){return new o([0|G],0>G?-1:0)}):new o([0|ee],0>ee?-1:0)}function g(ee){if(isNaN(ee)||!isFinite(ee))return x;if(0>ee)return W(g(-ee));for(var G=[],Q=1,ce=0;ee>=Q;ce++)G[ce]=ee/Q|0,Q*=4294967296;return new o(G,0)}var x=f(0),k=f(1),N=f(16777216);function V(ee){if(0!=ee.h)return!1;for(var G=0;G<ee.g.length;G++)if(0!=ee.g[G])return!1;return!0}function $(ee){return-1==ee.h}function W(ee){for(var G=ee.g.length,Q=[],ce=0;ce<G;ce++)Q[ce]=~ee.g[ce];return new o(Q,~ee.h).add(k)}function Te(ee,G){return ee.add(W(G))}function Ne(ee,G){for(;(65535&ee[G])!=ee[G];)ee[G+1]+=ee[G]>>>16,ee[G]&=65535,G++}function Pe(ee,G){this.g=ee,this.h=G}function Ze(ee,G){if(V(G))throw Error("division by zero");if(V(ee))return new Pe(x,x);if($(ee))return G=Ze(W(ee),G),new Pe(W(G.g),W(G.h));if($(G))return G=Ze(ee,W(G)),new Pe(W(G.g),G.h);if(30<ee.g.length){if($(ee)||$(G))throw Error("slowDivide_ only works with positive integers.");for(var Q=k,ce=G;0>=ce.l(ee);)Q=yt(Q),ce=yt(ce);var fe=mt(Q,1),we=mt(ce,1);for(ce=mt(ce,2),Q=mt(Q,2);!V(ce);){var X=we.add(ce);0>=X.l(ee)&&(fe=fe.add(Q),we=X),ce=mt(ce,1),Q=mt(Q,1)}return G=Te(ee,fe.j(G)),new Pe(fe,G)}for(fe=x;0<=ee.l(G);){for(Q=Math.max(1,Math.floor(ee.m()/G.m())),ce=48>=(ce=Math.ceil(Math.log(Q)/Math.LN2))?1:Math.pow(2,ce-48),X=(we=g(Q)).j(G);$(X)||0<X.l(ee);)X=(we=g(Q-=ce)).j(G);V(we)&&(we=k),fe=fe.add(we),ee=Te(ee,X)}return new Pe(fe,ee)}function yt(ee){for(var G=ee.g.length+1,Q=[],ce=0;ce<G;ce++)Q[ce]=ee.i(ce)<<1|ee.i(ce-1)>>>31;return new o(Q,ee.h)}function mt(ee,G){var Q=G>>5;G%=32;for(var ce=ee.g.length-Q,fe=[],we=0;we<ce;we++)fe[we]=0<G?ee.i(we+Q)>>>G|ee.i(we+Q+1)<<32-G:ee.i(we+Q);return new o(fe,ee.h)}(n=o.prototype).m=function(){if($(this))return-W(this).m();for(var ee=0,G=1,Q=0;Q<this.g.length;Q++){var ce=this.i(Q);ee+=(0<=ce?ce:4294967296+ce)*G,G*=4294967296}return ee},n.toString=function(ee){if(2>(ee=ee||10)||36<ee)throw Error("radix out of range: "+ee);if(V(this))return"0";if($(this))return"-"+W(this).toString(ee);for(var G=g(Math.pow(ee,6)),Q=this,ce="";;){var fe=Ze(Q,G).g,we=((0<(Q=Te(Q,fe.j(G))).g.length?Q.g[0]:Q.h)>>>0).toString(ee);if(V(Q=fe))return we+ce;for(;6>we.length;)we="0"+we;ce=we+ce}},n.i=function(ee){return 0>ee?0:ee<this.g.length?this.g[ee]:this.h},n.l=function(ee){return $(ee=Te(this,ee))?-1:V(ee)?0:1},n.abs=function(){return $(this)?W(this):this},n.add=function(ee){for(var G=Math.max(this.g.length,ee.g.length),Q=[],ce=0,fe=0;fe<=G;fe++){var we=ce+(65535&this.i(fe))+(65535&ee.i(fe)),X=(we>>>16)+(this.i(fe)>>>16)+(ee.i(fe)>>>16);ce=X>>>16,Q[fe]=(X&=65535)<<16|(we&=65535)}return new o(Q,-2147483648&Q[Q.length-1]?-1:0)},n.j=function(ee){if(V(this)||V(ee))return x;if($(this))return $(ee)?W(this).j(W(ee)):W(W(this).j(ee));if($(ee))return W(this.j(W(ee)));if(0>this.l(N)&&0>ee.l(N))return g(this.m()*ee.m());for(var G=this.g.length+ee.g.length,Q=[],ce=0;ce<2*G;ce++)Q[ce]=0;for(ce=0;ce<this.g.length;ce++)for(var fe=0;fe<ee.g.length;fe++){var we=this.i(ce)>>>16,X=65535&this.i(ce),Il=ee.i(fe)>>>16,wg=65535&ee.i(fe);Q[2*ce+2*fe]+=X*wg,Ne(Q,2*ce+2*fe),Q[2*ce+2*fe+1]+=we*wg,Ne(Q,2*ce+2*fe+1),Q[2*ce+2*fe+1]+=X*Il,Ne(Q,2*ce+2*fe+1),Q[2*ce+2*fe+2]+=we*Il,Ne(Q,2*ce+2*fe+2)}for(ce=0;ce<G;ce++)Q[ce]=Q[2*ce+1]<<16|Q[2*ce];for(ce=G;ce<2*G;ce++)Q[ce]=0;return new o(Q,0)},n.A=function(ee){return Ze(this,ee).h},n.and=function(ee){for(var G=Math.max(this.g.length,ee.g.length),Q=[],ce=0;ce<G;ce++)Q[ce]=this.i(ce)&ee.i(ce);return new o(Q,this.h&ee.h)},n.or=function(ee){for(var G=Math.max(this.g.length,ee.g.length),Q=[],ce=0;ce<G;ce++)Q[ce]=this.i(ce)|ee.i(ce);return new o(Q,this.h|ee.h)},n.xor=function(ee){for(var G=Math.max(this.g.length,ee.g.length),Q=[],ce=0;ce<G;ce++)Q[ce]=this.i(ce)^ee.i(ce);return new o(Q,this.h^ee.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,gz=pz.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=g,o.fromString=function b(ee,G){if(0==ee.length)throw Error("number format error: empty string");if(2>(G=G||10)||36<G)throw Error("radix out of range: "+G);if("-"==ee.charAt(0))return W(b(ee.substring(1),G));if(0<=ee.indexOf("-"))throw Error('number format error: interior "-" character');for(var Q=g(Math.pow(G,8)),ce=x,fe=0;fe<ee.length;fe+=8){var we=Math.min(8,ee.length-fe),X=parseInt(ee.substring(fe,fe+we),G);8>we?(we=g(Math.pow(G,we)),ce=ce.j(we).add(g(X))):ce=(ce=ce.j(Q)).add(g(X))}return ce},by=pz.Integer=o}).apply(typeof mz<"u"?mz:typeof self<"u"?self:typeof window<"u"?window:{});var _z,Hx,yz,mM,tN,vz,bz,wz,fM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qf={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(v,D,P){return v==Array.prototype||v==Object.prototype||(v[D]=P.value),v},i=function t(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof fM&&fM];for(var D=0;D<v.length;++D){var P=v[D];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}(this);!function r(v,D){if(D)e:{var P=i;v=v.split(".");for(var B=0;B<v.length-1;B++){var pe=v[B];if(!(pe in P))break e;P=P[pe]}(D=D(B=P[v=v[v.length-1]]))!=B&&null!=D&&e(P,v,{configurable:!0,writable:!0,value:D})}}("Array.prototype.values",function(v){return v||function(){return function s(v,D){v instanceof String&&(v+="");var P=0,B=!1,pe={next:function(){if(!B&&P<v.length){var Re=P++;return{value:D(Re,v[Re]),done:!1}}return B=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}(this,function(D,P){return P})}});var o=o||{},d=this||self;function f(v){var D=typeof v;return"array"==(D="object"!=D?D:v?Array.isArray(v)?"array":D:"null")||"object"==D&&"number"==typeof v.length}function g(v){var D=typeof v;return"object"==D&&null!=v||"function"==D}function b(v,D,P){return v.call.apply(v.bind,arguments)}function x(v,D,P){if(!v)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,B),v.apply(D,pe)}}return function(){return v.apply(D,arguments)}}function k(v,D,P){return(k=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:x).apply(null,arguments)}function N(v,D){var P=Array.prototype.slice.call(arguments,1);return function(){var B=P.slice();return B.push.apply(B,arguments),v.apply(this,B)}}function V(v,D){function P(){}P.prototype=D.prototype,v.aa=D.prototype,v.prototype=new P,v.prototype.constructor=v,v.Qb=function(B,pe,Re){for(var Et=Array(arguments.length-2),Di=2;Di<arguments.length;Di++)Et[Di-2]=arguments[Di];return D.prototype[pe].apply(B,Et)}}function $(v){const D=v.length;if(0<D){const P=Array(D);for(let B=0;B<D;B++)P[B]=v[B];return P}return[]}function W(v,D){for(let P=1;P<arguments.length;P++){const B=arguments[P];if(f(B)){const pe=v.length||0,Re=B.length||0;v.length=pe+Re;for(let Et=0;Et<Re;Et++)v[pe+Et]=B[Et]}else v.push(B)}}function Ne(v){return/^[\s\xa0]*$/.test(v)}function Pe(){var v=d.navigator;return v&&(v=v.userAgent)?v:""}function Ze(v){return Ze[" "](v),v}Ze[" "]=function(){};var yt=!(-1==Pe().indexOf("Gecko")||-1!=Pe().toLowerCase().indexOf("webkit")&&-1==Pe().indexOf("Edge")||-1!=Pe().indexOf("Trident")||-1!=Pe().indexOf("MSIE")||-1!=Pe().indexOf("Edge"));function mt(v,D,P){for(const B in v)D.call(P,v[B],B,v)}function G(v){const D={};for(const P in v)D[P]=v[P];return D}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(v,D){let P,B;for(let pe=1;pe<arguments.length;pe++){for(P in B=arguments[pe],B)v[P]=B[P];for(let Re=0;Re<Q.length;Re++)P=Q[Re],Object.prototype.hasOwnProperty.call(B,P)&&(v[P]=B[P])}}function fe(v){var D=1;v=v.split(":");const P=[];for(;0<D&&v.length;)P.push(v.shift()),D--;return v.length&&P.push(v.join(":")),P}function we(v){d.setTimeout(()=>{throw v},0)}function X(){var v=Nn;let D=null;return v.g&&(D=v.g,v.g=v.g.next,v.g||(v.h=null),D.next=null),D}var wg=new class Te{constructor(D,P){this.i=D,this.j=P,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}(()=>new zt,v=>v.reset());class zt{constructor(){this.next=this.g=this.h=null}set(D,P){this.h=D,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Yt=!1,Nn=new class Il{constructor(){this.h=this.g=null}add(D,P){const B=wg.get();B.set(D,P),this.h?this.h.next=B:this.g=B,this.h=B}},Yr=()=>{const v=d.Promise.resolve(void 0);Wt=()=>{v.then(xl)}};var xl=()=>{for(var v;v=X();){try{v.h.call(v.g)}catch(P){we(P)}var D=wg;D.j(v),100>D.h&&(D.h++,v.next=D.g,D.g=v)}Yt=!1};function Pr(){this.s=this.s,this.C=this.C}function Gi(v,D){this.type=v,this.g=this.target=D,this.defaultPrevented=!1}Pr.prototype.s=!1,Pr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Gi.prototype.h=function(){this.defaultPrevented=!0};var qi=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var v=!1,D=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const P=()=>{};d.addEventListener("test",P,D),d.removeEventListener("test",P,D)}catch{}return v}();function Eg(v,D){if(Gi.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var P=this.type=v.type,B=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=D,D=v.relatedTarget){if(yt){e:{try{Ze(D.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(D=null)}}else"mouseover"==P?D=v.fromElement:"mouseout"==P&&(D=v.toElement);this.relatedTarget=D,B?(this.clientX=void 0!==B.clientX?B.clientX:B.pageX,this.clientY=void 0!==B.clientY?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:QL[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Eg.aa.h.call(this)}}V(Eg,Gi);var QL={2:"touch",3:"pen",4:"mouse"};Eg.prototype.h=function(){Eg.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Or="closure_listenable_"+(1e6*Math.random()|0),om=0;function La(v,D,P,B,pe){this.listener=v,this.proxy=null,this.src=D,this.type=P,this.capture=!!B,this.ha=pe,this.key=++om,this.da=this.fa=!1}function am(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Ig(v){this.src=v,this.g={},this.h=0}function XL(v,D){var P=D.type;if(P in v.g){var Re,B=v.g[P],pe=Array.prototype.indexOf.call(B,D,void 0);(Re=0<=pe)&&Array.prototype.splice.call(B,pe,1),Re&&(am(D),0==v.g[P].length&&(delete v.g[P],v.h--))}}function JL(v,D,P,B){for(var pe=0;pe<v.length;++pe){var Re=v[pe];if(!Re.da&&Re.listener==D&&Re.capture==!!P&&Re.ha==B)return pe}return-1}Ig.prototype.add=function(v,D,P,B,pe){var Re=v.toString();(v=this.g[Re])||(v=this.g[Re]=[],this.h++);var Et=JL(v,D,B,pe);return-1<Et?(D=v[Et],P||(D.fa=!1)):((D=new La(D,this.src,Re,!!B,pe)).fa=P,v.push(D)),D};var e2="closure_lm_"+(1e6*Math.random()|0),t2={};function V$(v,D,P,B,pe){if(B&&B.once)return U$(v,D,P,B,pe);if(Array.isArray(D)){for(var Re=0;Re<D.length;Re++)V$(v,D[Re],P,B,pe);return null}return P=o2(P),v&&v[Or]?v.K(D,P,g(B)?!!B.capture:!!B,pe):B$(v,D,P,!1,B,pe)}function B$(v,D,P,B,pe,Re){if(!D)throw Error("Invalid event type");var Et=g(pe)?!!pe.capture:!!pe,Di=r2(v);if(Di||(v[e2]=Di=new Ig(v)),(P=Di.add(D,P,B,Et,Re)).proxy)return P;if(B=function lse(){const D=use;return function v(P){return D.call(v.src,v.listener,P)}}(),P.proxy=B,B.src=v,B.listener=P,v.addEventListener)qi||(pe=Et),void 0===pe&&(pe=!1),v.addEventListener(D.toString(),B,pe);else if(v.attachEvent)v.attachEvent(z$(D.toString()),B);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(B)}return P}function U$(v,D,P,B,pe){if(Array.isArray(D)){for(var Re=0;Re<D.length;Re++)U$(v,D[Re],P,B,pe);return null}return P=o2(P),v&&v[Or]?v.L(D,P,g(B)?!!B.capture:!!B,pe):B$(v,D,P,!0,B,pe)}function j$(v,D,P,B,pe){if(Array.isArray(D))for(var Re=0;Re<D.length;Re++)j$(v,D[Re],P,B,pe);else B=g(B)?!!B.capture:!!B,P=o2(P),v&&v[Or]?(v=v.i,(D=String(D).toString())in v.g&&-1<(P=JL(Re=v.g[D],P,B,pe))&&(am(Re[P]),Array.prototype.splice.call(Re,P,1),0==Re.length&&(delete v.g[D],v.h--))):v&&(v=r2(v))&&(D=v.g[D.toString()],v=-1,D&&(v=JL(D,P,B,pe)),(P=-1<v?D[v]:null)&&n2(P))}function n2(v){if("number"!=typeof v&&v&&!v.da){var D=v.src;if(D&&D[Or])XL(D.i,v);else{var P=v.type,B=v.proxy;D.removeEventListener?D.removeEventListener(P,B,v.capture):D.detachEvent?D.detachEvent(z$(P),B):D.addListener&&D.removeListener&&D.removeListener(B),(P=r2(D))?(XL(P,v),0==P.h&&(P.src=null,D[e2]=null)):am(v)}}}function z$(v){return v in t2?t2[v]:t2[v]="on"+v}function use(v,D){if(v.da)v=!0;else{D=new Eg(D,this);var P=v.listener,B=v.ha||v.src;v.fa&&n2(v),v=P.call(B,D)}return v}function r2(v){return(v=v[e2])instanceof Ig?v:null}var s2="__closure_events_fn_"+(1e9*Math.random()>>>0);function o2(v){return"function"==typeof v?v:(v[s2]||(v[s2]=function(D){return v.handleEvent(D)}),v[s2])}function Mo(){Pr.call(this),this.i=new Ig(this),this.M=this,this.F=null}function ca(v,D){var P,B=v.F;if(B)for(P=[];B;B=B.F)P.push(B);if(v=v.M,B=D.type||D,"string"==typeof D)D=new Gi(D,v);else if(D instanceof Gi)D.target=D.target||v;else{var pe=D;ce(D=new Gi(B,v),pe)}if(pe=!0,P)for(var Re=P.length-1;0<=Re;Re--){var Et=D.g=P[Re];pe=M1(Et,B,!0,D)&&pe}if(pe=M1(Et=D.g=v,B,!0,D)&&pe,pe=M1(Et,B,!1,D)&&pe,P)for(Re=0;Re<P.length;Re++)pe=M1(Et=D.g=P[Re],B,!1,D)&&pe}function M1(v,D,P,B){if(!(D=v.i.g[String(D)]))return!0;D=D.concat();for(var pe=!0,Re=0;Re<D.length;++Re){var Et=D[Re];if(Et&&!Et.da&&Et.capture==P){var Di=Et.listener,ao=Et.ha||Et.src;Et.fa&&XL(v.i,Et),pe=!1!==Di.call(ao,B)&&pe}}return pe&&!B.defaultPrevented}function H$(v,D,P){if("function"==typeof v)P&&(v=k(v,P));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=k(v.handleEvent,v)}return 2147483647<Number(D)?-1:d.setTimeout(v,D||0)}function $$(v){v.g=H$(()=>{v.g=null,v.i&&(v.i=!1,$$(v))},v.l);const D=v.h;v.h=null,v.m.apply(null,D)}V(Mo,Pr),Mo.prototype[Or]=!0,Mo.prototype.removeEventListener=function(v,D,P,B){j$(this,v,D,P,B)},Mo.prototype.N=function(){if(Mo.aa.N.call(this),this.i){var D,v=this.i;for(D in v.g){for(var P=v.g[D],B=0;B<P.length;B++)am(P[B]);delete v.g[D],v.h--}}this.F=null},Mo.prototype.K=function(v,D,P,B){return this.i.add(String(v),D,!1,P,B)},Mo.prototype.L=function(v,D,P,B){return this.i.add(String(v),D,!0,P,B)};class dse extends Pr{constructor(D,P){super(),this.m=D,this.l=P,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:$$(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function MT(v){Pr.call(this),this.h=v,this.g={}}V(MT,Pr);var G$=[];function q$(v){mt(v.g,function(D,P){this.g.hasOwnProperty(P)&&n2(D)},v),v.g={}}MT.prototype.N=function(){MT.aa.N.call(this),q$(this)},MT.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var a2=d.JSON.stringify,hse=d.JSON.parse,fse=class{stringify(v){return d.JSON.stringify(v,void 0)}parse(v){return d.JSON.parse(v,void 0)}};function c2(){}function K$(){}c2.prototype.h=null;var kT={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function l2(){Gi.call(this,"d")}function u2(){Gi.call(this,"c")}V(l2,Gi),V(u2,Gi);var zy={},Z$=null;function k1(){return Z$=Z$||new Mo}function Y$(v){Gi.call(this,zy.La,v)}function RT(v){const D=k1();ca(D,new Y$(D))}function Q$(v,D){Gi.call(this,zy.STAT_EVENT,v),this.stat=D}function la(v){const D=k1();ca(D,new Q$(D,v))}function X$(v,D){Gi.call(this,zy.Ma,v),this.size=D}function PT(v,D){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){v()},D)}function OT(){this.g=!0}function _w(v,D,P,B){v.info(function(){return"XMLHTTP TEXT ("+D+"): "+function _se(v,D){if(!v.g)return D;if(!D)return null;try{var P=JSON.parse(D);if(P)for(v=0;v<P.length;v++)if(Array.isArray(P[v])){var B=P[v];if(!(2>B.length)){var pe=B[1];if(Array.isArray(pe)&&!(1>pe.length)){var Re=pe[0];if("noop"!=Re&&"stop"!=Re&&"close"!=Re)for(var Et=1;Et<pe.length;Et++)pe[Et]=""}}}return a2(P)}catch{return D}}(v,P)+(B?" "+B:"")})}zy.La="serverreachability",V(Y$,Gi),zy.STAT_EVENT="statevent",V(Q$,Gi),zy.Ma="timingevent",V(X$,Gi),OT.prototype.xa=function(){this.g=!1},OT.prototype.info=function(){};var d2,R1={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},J$={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function P1(){}function xg(v,D,P,B){this.j=v,this.i=D,this.l=P,this.R=B||1,this.U=new MT(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new e5}function e5(){this.i=null,this.g="",this.h=!1}V(P1,c2),P1.prototype.g=function(){return new XMLHttpRequest},P1.prototype.i=function(){return{}},d2=new P1;var t5={},h2={};function f2(v,D,P){v.L=1,v.v=L1(cm(D)),v.m=P,v.P=!0,n5(v,null)}function n5(v,D){v.F=Date.now(),O1(v),v.A=cm(v.v);var P=v.A,B=v.R;Array.isArray(B)||(B=[String(B)]),_5(P.i,"t",B),v.C=0,P=v.j.J,v.h=new e5,v.g=N5(v.j,P?D:null,!v.m),0<v.O&&(v.M=new dse(k(v.Y,v,v.g),v.O)),D=v.U,P=v.g,B=v.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(G$[0]=pe.toString()),pe=G$);for(var Re=0;Re<pe.length;Re++){var Et=V$(P,pe[Re],B||D.handleEvent,!1,D.h||D);if(!Et)break;D.g[Et.key]=Et}D=v.H?G(v.H):{},v.m?(v.u||(v.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,D)):(v.u="GET",v.g.ea(v.A,v.u,null,D)),RT(),function mse(v,D,P,B,pe,Re){v.info(function(){if(v.g)if(Re)for(var Et="",Di=Re.split("&"),ao=0;ao<Di.length;ao++){var ti=Di[ao].split("=");if(1<ti.length){var ko=ti[0];ti=ti[1];var Ro=ko.split("_");Et=2<=Ro.length&&"type"==Ro[1]?Et+(ko+"=")+ti+"&":Et+(ko+"=redacted&")}}else Et=null;else Et=Re;return"XMLHTTP REQ ("+B+") [attempt "+pe+"]: "+D+"\n"+P+"\n"+Et})}(v.i,v.u,v.A,v.l,v.R,v.m)}function r5(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function yse(v,D){var P=v.C,B=D.indexOf("\n",P);return-1==B?h2:(P=Number(D.substring(P,B)),isNaN(P)?t5:(B+=1)+P>D.length?h2:(D=D.slice(B,B+P),v.C=B+P,D))}function O1(v){v.S=Date.now()+v.I,s5(v,v.I)}function s5(v,D){if(null!=v.B)throw Error("WatchDog timer not null");v.B=PT(k(v.ba,v),D)}function m2(v){v.B&&(d.clearTimeout(v.B),v.B=null)}function NT(v){0==v.j.G||v.J||k5(v.j,v)}function Hy(v){m2(v);var D=v.M;D&&"function"==typeof D.ma&&D.ma(),v.M=null,q$(v.U),v.g&&(D=v.g,v.g=null,D.abort(),D.ma())}function p2(v,D){try{var P=v.j;if(0!=P.G&&(P.g==v||g2(P.h,v)))if(!v.K&&g2(P.h,v)&&3==P.G){try{var B=P.Da.g.parse(D)}catch{B=null}if(Array.isArray(B)&&3==B.length){var pe=B;if(0==pe[0]){e:if(!P.u){if(P.g){if(!(P.g.F+3e3<v.F))break e;z1(P),U1(P)}b2(P),la(18)}}else P.za=pe[1],0<P.za-P.T&&37500>pe[2]&&P.F&&0==P.v&&!P.C&&(P.C=PT(k(P.Za,P),6e3));if(1>=c5(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Gy(P,11)}else if((v.K||P.g==v)&&z1(P),!Ne(D))for(pe=P.Da.g.parse(D),D=0;D<pe.length;D++){let ti=pe[D];if(P.T=ti[0],ti=ti[1],2==P.G)if("c"==ti[0]){P.K=ti[1],P.ia=ti[2];const ko=ti[3];null!=ko&&(P.la=ko,P.j.info("VER="+P.la));const Ro=ti[4];null!=Ro&&(P.Aa=Ro,P.j.info("SVER="+P.Aa));const bw=ti[5];null!=bw&&"number"==typeof bw&&0<bw&&(P.L=B=1.5*bw,P.j.info("backChannelRequestTimeoutMs_="+B)),B=P;const Su=v.g;if(Su){const $1=Su.g?Su.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($1){var Re=B.h;Re.g||-1==$1.indexOf("spdy")&&-1==$1.indexOf("quic")&&-1==$1.indexOf("h2")||(Re.j=Re.l,Re.g=new Set,Re.h&&(_2(Re,Re.h),Re.h=null))}if(B.D){const E2=Su.g?Su.g.getResponseHeader("X-HTTP-Session-Id"):null;E2&&(B.ya=E2,Wi(B.I,B.D,E2))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-v.F,P.j.info("Handshake RTT: "+P.R+"ms"));var Et=v;if((B=P).qa=O5(B,B.J?B.ia:null,B.W),Et.K){l5(B.h,Et);var Di=Et,ao=B.L;ao&&(Di.I=ao),Di.B&&(m2(Di),O1(Di)),B.g=Et}else D5(B);0<P.i.length&&j1(P)}else"stop"!=ti[0]&&"close"!=ti[0]||Gy(P,7);else 3==P.G&&("stop"==ti[0]||"close"==ti[0]?"stop"==ti[0]?Gy(P,7):v2(P):"noop"!=ti[0]&&P.l&&P.l.ta(ti),P.v=0)}RT()}catch{}}function o5(v){this.l=v||10,v=d.PerformanceNavigationTiming?0<(v=d.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function a5(v){return!!v.h||!!v.g&&v.g.size>=v.j}function c5(v){return v.h?1:v.g?v.g.size:0}function g2(v,D){return v.h?v.h==D:!!v.g&&v.g.has(D)}function _2(v,D){v.g?v.g.add(D):v.h=D}function l5(v,D){v.h&&v.h==D?v.h=null:v.g&&v.g.has(D)&&v.g.delete(D)}function u5(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let D=v.i;for(const P of v.g.values())D=D.concat(P.D);return D}return $(v.i)}function d5(v,D){if(v.forEach&&"function"==typeof v.forEach)v.forEach(D,void 0);else if(f(v)||"string"==typeof v)Array.prototype.forEach.call(v,D,void 0);else for(var P=function wse(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(f(v)||"string"==typeof v){var D=[];v=v.length;for(var P=0;P<v;P++)D.push(P);return D}D=[],P=0;for(const B in v)D[P++]=B;return D}}}(v),B=function bse(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(f(v)){for(var D=[],P=v.length,B=0;B<P;B++)D.push(v[B]);return D}for(B in D=[],P=0,v)D[P++]=v[B];return D}(v),pe=B.length,Re=0;Re<pe;Re++)D.call(void 0,B[Re],P&&P[Re],v)}xg.prototype.ca=function(v){v=v.target;const D=this.M;D&&3==lm(v)?D.j():this.Y(v)},xg.prototype.Y=function(v){try{if(v==this.g)e:{const Ro=lm(this.g);var D=this.g.Ba();if(this.g.Z(),!(3>Ro)&&(3!=Ro||this.g&&(this.h.h||this.g.oa()||x5(this.g)))){this.J||4!=Ro||7==D||RT(),m2(this);var P=this.g.Z();this.X=P;t:if(r5(this)){var B=x5(this.g);v="";var pe=B.length,Re=4==lm(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hy(this),NT(this);var Et="";break t}this.h.i=new d.TextDecoder}for(D=0;D<pe;D++)this.h.h=!0,v+=this.h.i.decode(B[D],{stream:!(Re&&D==pe-1)});B.length=0,this.h.g+=v,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=200==P,function pse(v,D,P,B,pe,Re,Et){v.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+pe+"]: "+D+"\n"+P+"\n"+Re+" "+Et})}(this.i,this.u,this.A,this.l,this.R,Ro,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Di,ao=this.g;if((Di=ao.g?ao.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ne(Di)){var ti=Di;break t}}ti=null}if(!(P=ti)){this.o=!1,this.s=3,la(12),Hy(this),NT(this);break e}_w(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,p2(this,P)}if(this.P){let Su;for(P=!0;!this.J&&this.C<Et.length;){if(Su=yse(this,Et),Su==h2){4==Ro&&(this.s=4,la(14),P=!1),_w(this.i,this.l,null,"[Incomplete Response]");break}if(Su==t5){this.s=4,la(15),_w(this.i,this.l,Et,"[Invalid Chunk]"),P=!1;break}_w(this.i,this.l,Su,null),p2(this,Su)}if(r5(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ro||0!=Et.length||this.h.h||(this.s=1,la(16),P=!1),this.o=this.o&&P,P){if(0<Et.length&&!this.W){this.W=!0;var ko=this.j;ko.g==this&&ko.ba&&!ko.M&&(ko.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),w2(ko),ko.M=!0,la(11))}}else _w(this.i,this.l,Et,"[Invalid Chunked Response]"),Hy(this),NT(this)}else _w(this.i,this.l,Et,null),p2(this,Et);4==Ro&&Hy(this),this.o&&!this.J&&(4==Ro?k5(this.j,this):(this.o=!1,O1(this)))}else(function Nse(v){const D={};v=(v.g&&2<=lm(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let B=0;B<v.length;B++){if(Ne(v[B]))continue;var P=fe(v[B]);const pe=P[0];if("string"!=typeof(P=P[1]))continue;P=P.trim();const Re=D[pe]||[];D[pe]=Re,Re.push(P)}!function ee(v,D){for(const P in v)D.call(void 0,v[P],P,v)}(D,function(B){return B.join(", ")})})(this.g),400==P&&0<Et.indexOf("Unknown SID")?(this.s=3,la(12)):(this.s=0,la(13)),Hy(this),NT(this)}}}catch{}},xg.prototype.cancel=function(){this.J=!0,Hy(this)},xg.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function gse(v,D){v.info(function(){return"TIMEOUT: "+D})}(this.i,this.A),2!=this.L&&(RT(),la(17)),Hy(this),this.s=2,NT(this)):s5(this,this.S-v)},o5.prototype.cancel=function(){if(this.i=u5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var h5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $y(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof $y){this.h=v.h,N1(this,v.j),this.o=v.o,this.g=v.g,F1(this,v.s),this.l=v.l;var D=v.i,P=new VT;P.i=D.i,D.g&&(P.g=new Map(D.g),P.h=D.h),f5(this,P),this.m=v.m}else v&&(D=String(v).match(h5))?(this.h=!1,N1(this,D[1]||"",!0),this.o=FT(D[2]||""),this.g=FT(D[3]||"",!0),F1(this,D[4]),this.l=FT(D[5]||"",!0),f5(this,D[6]||"",!0),this.m=FT(D[7]||"")):(this.h=!1,this.i=new VT(null,this.h))}function cm(v){return new $y(v)}function N1(v,D,P){v.j=P?FT(D,!0):D,v.j&&(v.j=v.j.replace(/:$/,""))}function F1(v,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);v.s=D}else v.s=null}function f5(v,D,P){D instanceof VT?(v.i=D,function Sse(v,D){D&&!v.j&&(Tg(v),v.i=null,v.g.forEach(function(P,B){var pe=B.toLowerCase();B!=pe&&(p5(this,B),_5(this,pe,P))},v)),v.j=D}(v.i,v.h)):(P||(D=LT(D,Cse)),v.i=new VT(D,v.h))}function Wi(v,D,P){v.i.set(D,P)}function L1(v){return Wi(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function FT(v,D){return v?D?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function LT(v,D,P){return"string"==typeof v?(v=encodeURI(v).replace(D,Ise),P&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Ise(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}$y.prototype.toString=function(){var v=[],D=this.j;D&&v.push(LT(D,m5,!0),":");var P=this.g;return(P||"file"==D)&&(v.push("//"),(D=this.o)&&v.push(LT(D,m5,!0),"@"),v.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(P=this.s)&&v.push(":",String(P))),(P=this.l)&&(this.g&&"/"!=P.charAt(0)&&v.push("/"),v.push(LT(P,"/"==P.charAt(0)?Tse:xse,!0))),(P=this.i.toString())&&v.push("?",P),(P=this.m)&&v.push("#",LT(P,Ase)),v.join("")};var v,m5=/[#\/\?@]/g,xse=/[#\?:]/g,Tse=/[#\?]/g,Cse=/[#\?@]/g,Ase=/#/g;function VT(v,D){this.h=this.g=null,this.i=v||null,this.j=!!D}function Tg(v){v.g||(v.g=new Map,v.h=0,v.i&&function Ese(v,D){if(v){v=v.split("&");for(var P=0;P<v.length;P++){var B=v[P].indexOf("="),pe=null;if(0<=B){var Re=v[P].substring(0,B);pe=v[P].substring(B+1)}else Re=v[P];D(Re,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}(v.i,function(D,P){v.add(decodeURIComponent(D.replace(/\+/g," ")),P)}))}function p5(v,D){Tg(v),D=yw(v,D),v.g.has(D)&&(v.i=null,v.h-=v.g.get(D).length,v.g.delete(D))}function g5(v,D){return Tg(v),D=yw(v,D),v.g.has(D)}function _5(v,D,P){p5(v,D),0<P.length&&(v.i=null,v.g.set(yw(v,D),$(P)),v.h+=P.length)}function yw(v,D){return D=String(D),v.j&&(D=D.toLowerCase()),D}function Cg(v,D,P,B,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),B(P)}catch{}}function kse(){this.g=new fse}function Rse(v,D,P){const B=P||"";try{d5(v,function(pe,Re){let Et=pe;g(pe)&&(Et=a2(pe)),D.push(B+Re+"="+encodeURIComponent(Et))})}catch(pe){throw D.push(B+"type="+encodeURIComponent("_badmap")),pe}}function BT(v){this.l=v.Ub||null,this.j=v.eb||!1}function V1(v,D){Mo.call(this),this.D=v,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function y5(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function UT(v){v.readyState=4,v.l=null,v.j=null,v.v=null,jT(v)}function jT(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function v5(v){let D="";return mt(v,function(P,B){D+=B,D+=":",D+=P,D+="\r\n"}),D}function y2(v,D,P){e:{for(B in P){var B=!1;break e}B=!0}B||(P=v5(P),"string"==typeof v?null!=P&&encodeURIComponent(String(P)):Wi(v,D,P))}function Nr(v){Mo.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=VT.prototype).add=function(v,D){Tg(this),this.i=null,v=yw(this,v);var P=this.g.get(v);return P||this.g.set(v,P=[]),P.push(D),this.h+=1,this},n.forEach=function(v,D){Tg(this),this.g.forEach(function(P,B){P.forEach(function(pe){v.call(D,pe,B,this)},this)},this)},n.na=function(){Tg(this);const v=Array.from(this.g.values()),D=Array.from(this.g.keys()),P=[];for(let B=0;B<D.length;B++){const pe=v[B];for(let Re=0;Re<pe.length;Re++)P.push(D[B])}return P},n.V=function(v){Tg(this);let D=[];if("string"==typeof v)g5(this,v)&&(D=D.concat(this.g.get(yw(this,v))));else{v=Array.from(this.g.values());for(let P=0;P<v.length;P++)D=D.concat(v[P])}return D},n.set=function(v,D){return Tg(this),this.i=null,g5(this,v=yw(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[D]),this.h+=1,this},n.get=function(v,D){return v&&0<(v=this.V(v)).length?String(v[0]):D},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],D=Array.from(this.g.keys());for(var P=0;P<D.length;P++){var B=D[P];const Re=encodeURIComponent(String(B)),Et=this.V(B);for(B=0;B<Et.length;B++){var pe=Re;""!==Et[B]&&(pe+="="+encodeURIComponent(String(Et[B]))),v.push(pe)}}return this.i=v.join("&")},V(BT,c2),BT.prototype.g=function(){return new V1(this.l,this.j)},BT.prototype.i=(v={},function(){return v}),V(V1,Mo),(n=V1.prototype).open=function(v,D){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=D,this.readyState=1,jT(this)},n.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(D.body=v),(this.D||d).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,UT(this)),this.readyState=0},n.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,jT(this)),this.g&&(this.readyState=3,jT(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;y5(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var D=v.value?v.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!v.done}))&&(this.response=this.responseText+=D)}v.done?UT(this):jT(this),3==this.readyState&&y5(this)}},n.Ra=function(v){this.g&&(this.response=this.responseText=v,UT(this))},n.Qa=function(v){this.g&&(this.response=v,UT(this))},n.ga=function(){this.g&&UT(this)},n.setRequestHeader=function(v,D){this.u.append(v,D)},n.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],D=this.h.entries();for(var P=D.next();!P.done;)v.push((P=P.value)[0]+": "+P[1]),P=D.next();return v.join("\r\n")},Object.defineProperty(V1.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),V(Nr,Mo);var Pse=/^https?$/i,Ose=["POST","PUT"];function b5(v,D){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=D,v.m=5,w5(v),B1(v)}function w5(v){v.A||(v.A=!0,ca(v,"complete"),ca(v,"error"))}function E5(v){if(v.h&&typeof o<"u"&&(!v.v[1]||4!=lm(v)||2!=v.Z()))if(v.u&&4==lm(v))H$(v.Ea,0,v);else if(ca(v,"readystatechange"),4==lm(v)){v.h=!1;try{const Et=v.Z();e:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var P;if(!(P=D)){var B;if(B=0===Et){var pe=String(v.D).match(h5)[1]||null;!pe&&d.self&&d.self.location&&(pe=d.self.location.protocol.slice(0,-1)),B=!Pse.test(pe?pe.toLowerCase():"")}P=B}if(P)ca(v,"complete"),ca(v,"success");else{v.m=6;try{var Re=2<lm(v)?v.g.statusText:""}catch{Re=""}v.l=Re+" ["+v.Z()+"]",w5(v)}}finally{B1(v)}}}function B1(v,D){if(v.g){I5(v);const P=v.g,B=v.v[0]?()=>{}:null;v.g=null,v.v=null,D||ca(v,"ready");try{P.onreadystatechange=B}catch{}}}function I5(v){v.I&&(d.clearTimeout(v.I),v.I=null)}function lm(v){return v.g?v.g.readyState:0}function x5(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function zT(v,D,P){return P&&P.internalChannelParams&&P.internalChannelParams[v]||D}function T5(v){this.Aa=0,this.i=[],this.j=new OT,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zT("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zT("baseRetryDelayMs",5e3,v),this.cb=zT("retryDelaySeedMs",1e4,v),this.Wa=zT("forwardChannelMaxRetries",2,v),this.wa=zT("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new o5(v&&v.concurrentRequestLimit),this.Da=new kse,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function v2(v){if(C5(v),3==v.G){var D=v.U++,P=cm(v.I);if(Wi(P,"SID",v.K),Wi(P,"RID",D),Wi(P,"TYPE","terminate"),HT(v,P),(D=new xg(v,v.j,D)).L=2,D.v=L1(cm(P)),P=!1,d.navigator&&d.navigator.sendBeacon)try{P=d.navigator.sendBeacon(D.v.toString(),"")}catch{}!P&&d.Image&&((new Image).src=D.v,P=!0),P||(D.g=N5(D.j,null),D.g.ea(D.v)),D.F=Date.now(),O1(D)}P5(v)}function U1(v){v.g&&(w2(v),v.g.cancel(),v.g=null)}function C5(v){U1(v),v.u&&(d.clearTimeout(v.u),v.u=null),z1(v),v.h.cancel(),v.s&&("number"==typeof v.s&&d.clearTimeout(v.s),v.s=null)}function j1(v){if(!a5(v.h)&&!v.s){v.s=!0;var D=v.Ga;Wt||Yr(),Yt||(Wt(),Yt=!0),Nn.add(D,v),v.B=0}}function A5(v,D){var P;P=D?D.l:v.U++;const B=cm(v.I);Wi(B,"SID",v.K),Wi(B,"RID",P),Wi(B,"AID",v.T),HT(v,B),v.m&&v.o&&y2(B,v.m,v.o),P=new xg(v,v.j,P,v.B+1),null===v.m&&(P.H=v.o),D&&(v.i=D.D.concat(v.i)),D=S5(v,P,1e3),P.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),_2(v.h,P),f2(P,B,D)}function HT(v,D){v.H&&mt(v.H,function(P,B){Wi(D,B,P)}),v.l&&d5({},function(P,B){Wi(D,B,P)})}function S5(v,D,P){P=Math.min(v.i.length,P);var B=v.l?k(v.l.Na,v.l,v):null;e:{var pe=v.i;let Re=-1;for(;;){const Et=["count="+P];-1==Re?0<P?(Re=pe[0].g,Et.push("ofs="+Re)):Re=0:Et.push("ofs="+Re);let Di=!0;for(let ao=0;ao<P;ao++){let ti=pe[ao].g;const ko=pe[ao].map;if(ti-=Re,0>ti)Re=Math.max(0,pe[ao].g-100),Di=!1;else try{Rse(ko,Et,"req"+ti+"_")}catch{B&&B(ko)}}if(Di){B=Et.join("&");break e}}}return v=v.i.splice(0,P),D.D=v,B}function D5(v){if(!v.g&&!v.u){v.Y=1;var D=v.Fa;Wt||Yr(),Yt||(Wt(),Yt=!0),Nn.add(D,v),v.v=0}}function b2(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=PT(k(v.Fa,v),R5(v,v.v)),v.v++,0))}function w2(v){null!=v.A&&(d.clearTimeout(v.A),v.A=null)}function M5(v){v.g=new xg(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var D=cm(v.qa);Wi(D,"RID","rpc"),Wi(D,"SID",v.K),Wi(D,"AID",v.T),Wi(D,"CI",v.F?"0":"1"),!v.F&&v.ja&&Wi(D,"TO",v.ja),Wi(D,"TYPE","xmlhttp"),HT(v,D),v.m&&v.o&&y2(D,v.m,v.o),v.L&&(v.g.I=v.L);var P=v.g;v=v.ia,P.L=1,P.v=L1(cm(D)),P.m=null,P.P=!0,n5(P,v)}function z1(v){null!=v.C&&(d.clearTimeout(v.C),v.C=null)}function k5(v,D){var P=null;if(v.g==D){z1(v),w2(v),v.g=null;var B=2}else{if(!g2(v.h,D))return;P=D.D,l5(v.h,D),B=1}if(0!=v.G)if(D.o)if(1==B){P=D.m?D.m.length:0,D=Date.now()-D.F;var pe=v.B;ca(B=k1(),new X$(B,P)),j1(v)}else D5(v);else if(3==(pe=D.s)||0==pe&&0<D.X||!(1==B&&function Fse(v,D){return!(c5(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=D.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=PT(k(v.Ga,v,D),R5(v,v.B)),v.B++,0)))}(v,D)||2==B&&b2(v)))switch(P&&0<P.length&&(D=v.h,D.i=D.i.concat(P)),pe){case 1:Gy(v,5);break;case 4:Gy(v,10);break;case 3:Gy(v,6);break;default:Gy(v,2)}}function R5(v,D){let P=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(P*=2),P*D}function Gy(v,D){if(v.j.info("Error code "+D),2==D){var P=k(v.fb,v),B=v.Xa;const pe=!B;B=new $y(B||"//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||N1(B,"https"),L1(B),pe?function Dse(v,D){const P=new OT;if(d.Image){const B=new Image;B.onload=N(Cg,P,"TestLoadImage: loaded",!0,D,B),B.onerror=N(Cg,P,"TestLoadImage: error",!1,D,B),B.onabort=N(Cg,P,"TestLoadImage: abort",!1,D,B),B.ontimeout=N(Cg,P,"TestLoadImage: timeout",!1,D,B),d.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=v}else D(!1)}(B.toString(),P):function Mse(v,D){new OT;const B=new AbortController,pe=setTimeout(()=>{B.abort(),Cg(0,0,!1,D)},1e4);fetch(v,{signal:B.signal}).then(Re=>{clearTimeout(pe),Cg(0,0,!!Re.ok,D)}).catch(()=>{clearTimeout(pe),Cg(0,0,!1,D)})}(B.toString(),P)}else la(2);v.G=0,v.l&&v.l.sa(D),P5(v),C5(v)}function P5(v){if(v.G=0,v.ka=[],v.l){const D=u5(v.h);(0!=D.length||0!=v.i.length)&&(W(v.ka,D),W(v.ka,v.i),v.h.i.length=0,$(v.i),v.i.length=0),v.l.ra()}}function O5(v,D,P){var B=P instanceof $y?cm(P):new $y(P);if(""!=B.g)D&&(B.g=D+"."+B.g),F1(B,B.s);else{var pe=d.location;B=pe.protocol,D=D?D+"."+pe.hostname:pe.hostname,pe=+pe.port;var Re=new $y(null);B&&N1(Re,B),D&&(Re.g=D),pe&&F1(Re,pe),P&&(Re.l=P),B=Re}return D=v.ya,(P=v.D)&&D&&Wi(B,P,D),Wi(B,"VER",v.la),HT(v,B),B}function N5(v,D,P){if(D&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(D=new Nr(v.Ca&&!v.pa?new BT({eb:P}):v.pa)).Ha(v.J),D}function F5(){}function H1(){}function Vc(v,D){Mo.call(this),this.g=new T5(D),this.l=v,this.h=D&&D.messageUrlParams||null,v=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(v?v["X-WebChannel-Content-Type"]=D.messageContentType:v={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(v?v["X-WebChannel-Client-Profile"]=D.va:v={"X-WebChannel-Client-Profile":D.va}),this.g.S=v,(v=D&&D.Sb)&&!Ne(v)&&(this.g.m=v),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!Ne(D)&&(this.g.D=D,null!==(v=this.h)&&D in v&&D in(v=this.h)&&delete v[D]),this.j=new vw(this)}function L5(v){l2.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var D=v.__sm__;if(D){e:{for(const P in D){v=P;break e}v=void 0}(this.i=v)&&(v=this.i,D=null!==D&&v in D?D[v]:void 0),this.data=D}else this.data=v}function V5(){u2.call(this),this.status=1}function vw(v){this.g=v}(n=Nr.prototype).Ha=function(v){this.J=v},n.ea=function(v,D,P,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);D=D?D.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():d2.g(),this.v=function W$(v){return v.h||(v.h=v.i())}(this.o?this.o:d2),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(D,String(v),!0),this.B=!1}catch(Re){return void b5(this,Re)}if(v=P||"",P=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var pe in B)P.set(pe,B[pe]);else{if("function"!=typeof B.keys||"function"!=typeof B.get)throw Error("Unknown input type for opt_headers: "+String(B));for(const Re of B.keys())P.set(Re,B.get(Re))}B=Array.from(P.keys()).find(Re=>"content-type"==Re.toLowerCase()),pe=d.FormData&&v instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ose,D,void 0))||B||pe||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,Et]of P)this.g.setRequestHeader(Re,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{I5(this),this.u=!0,this.g.send(v),this.u=!1}catch(Re){b5(this,Re)}},n.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,ca(this,"complete"),ca(this,"abort"),B1(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),B1(this,!0)),Nr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?E5(this):this.bb())},n.bb=function(){E5(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<lm(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(v){if(this.g){var D=this.g.responseText;return v&&0==D.indexOf(v)&&(D=D.substring(v.length)),hse(D)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=T5.prototype).la=8,n.G=1,n.connect=function(v,D,P,B){la(0),this.W=v,this.H=D||{},P&&void 0!==B&&(this.H.OSID=P,this.H.OAID=B),this.F=this.X,this.I=O5(this,null,this.W),j1(this)},n.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const pe=new xg(this,this.j,v);let Re=this.o;if(this.S&&(Re?(Re=G(Re),ce(Re,this.S)):Re=this.S),null!==this.m||this.O||(pe.H=Re,Re=null),this.P)e:{for(var D=0,P=0;P<this.i.length;P++){var B=this.i[P];if(void 0===(B="__data__"in B.map&&"string"==typeof(B=B.map.__data__)?B.length:void 0))break;if(4096<(D+=B)){D=P;break e}if(4096===D||P===this.i.length-1){D=P+1;break e}}D=1e3}else D=1e3;D=S5(this,pe,D),Wi(P=cm(this.I),"RID",v),Wi(P,"CVER",22),this.D&&Wi(P,"X-HTTP-Session-Id",this.D),HT(this,P),Re&&(this.O?D="headers="+encodeURIComponent(String(v5(Re)))+"&"+D:this.m&&y2(P,this.m,Re)),_2(this.h,pe),this.Ua&&Wi(P,"TYPE","init"),this.P?(Wi(P,"$req",D),Wi(P,"SID","null"),pe.T=!0,f2(pe,P,null)):f2(pe,P,D),this.G=2}}else 3==this.G&&(v?A5(this,v):0==this.i.length||a5(this.h)||A5(this))},n.Fa=function(){if(this.u=null,M5(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=PT(k(this.ab,this),v)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,la(10),U1(this),M5(this))},n.Za=function(){null!=this.C&&(this.C=null,U1(this),b2(this),la(19))},n.fb=function(v){v?(this.j.info("Successfully pinged google.com"),la(2)):(this.j.info("Failed to ping google.com"),la(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=F5.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},H1.prototype.g=function(v,D){return new Vc(v,D)},V(Vc,Mo),Vc.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vc.prototype.close=function(){v2(this.g)},Vc.prototype.o=function(v){var D=this.g;if("string"==typeof v){var P={};P.__data__=v,v=P}else this.u&&((P={}).__data__=a2(v),v=P);D.i.push(new class{constructor(v,D){this.g=v,this.map=D}}(D.Ya++,v)),3==D.G&&j1(D)},Vc.prototype.N=function(){this.g.l=null,delete this.j,v2(this.g),delete this.g,Vc.aa.N.call(this)},V(L5,l2),V(V5,u2),V(vw,F5),vw.prototype.ua=function(){ca(this.g,"a")},vw.prototype.ta=function(v){ca(this.g,new L5(v))},vw.prototype.sa=function(v){ca(this.g,new V5)},vw.prototype.ra=function(){ca(this.g,"b")},H1.prototype.createWebChannel=H1.prototype.g,Vc.prototype.send=Vc.prototype.o,Vc.prototype.open=Vc.prototype.m,Vc.prototype.close=Vc.prototype.close,wz=Qf.createWebChannelTransport=function(){return new H1},bz=Qf.getStatEventTarget=function(){return k1()},vz=Qf.Event=zy,tN=Qf.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},R1.NO_ERROR=0,R1.TIMEOUT=8,R1.HTTP_ERROR=6,mM=Qf.ErrorCode=R1,J$.COMPLETE="complete",yz=Qf.EventType=J$,K$.EventType=kT,kT.OPEN="a",kT.CLOSE="b",kT.ERROR="c",kT.MESSAGE="d",Mo.prototype.listen=Mo.prototype.K,Hx=Qf.WebChannel=K$,Qf.FetchXmlHttpFactory=BT,Nr.prototype.listenOnce=Nr.prototype.L,Nr.prototype.getLastError=Nr.prototype.Ka,Nr.prototype.getLastErrorCode=Nr.prototype.Ba,Nr.prototype.getStatus=Nr.prototype.Z,Nr.prototype.getResponseJson=Nr.prototype.Oa,Nr.prototype.getResponseText=Nr.prototype.oa,Nr.prototype.send=Nr.prototype.ea,Nr.prototype.setWithCredentials=Nr.prototype.Ha,_z=Qf.XhrIo=Nr}).apply(typeof fM<"u"?fM:typeof self<"u"?self:typeof window<"u"?window:{});const Ez="@firebase/firestore";class js{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}js.UNAUTHENTICATED=new js(null),js.GOOGLE_CREDENTIALS=new js("google-credentials-uid"),js.FIRST_PARTY=new js("first-party-uid"),js.MOCK_USER=new js("mock-user");let k0="10.14.0";const rg=new az("@firebase/firestore");function R0(){return rg.logLevel}function et(n,...e){if(rg.logLevel<=jn.DEBUG){const t=e.map(nN);rg.debug(`Firestore (${k0}): ${n}`,...t)}}function Wr(n,...e){if(rg.logLevel<=jn.ERROR){const t=e.map(nN);rg.error(`Firestore (${k0}): ${n}`,...t)}}function bl(n,...e){if(rg.logLevel<=jn.WARN){const t=e.map(nN);rg.warn(`Firestore (${k0}): ${n}`,...t)}}function nN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Vt(n="Unexpected state"){const e=`FIRESTORE (${k0}) INTERNAL ASSERTION FAILED: `+n;throw Wr(e),new Error(e)}function jt(n,e){n||Vt()}function vt(n,e){return n}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class tt extends D0{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Iz{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(js.UNAUTHENTICATED))}shutdown(){}}class tJ{constructor(e){this.t=e,this.currentUser=js.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;jt(void 0===this.o);let r=this.i;const s=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let o=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zs,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const g=o;e.enqueueRetryable((0,re.Z)(function*(){yield g.promise,yield s(i.currentUser)}))},f=g=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zs)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(jt("string"==typeof i.accessToken),new Iz(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(null===e||"string"==typeof e),new js(e)}}class nJ{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=js.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iJ{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new nJ(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(js.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rJ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){jt(void 0===this.o);const i=s=>{null!=s.error&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,et("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(jt("string"==typeof t.token),this.R=t.token,new xz(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function sJ(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Tz{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=sJ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function fn(n,e){return n<e?-1:n>e?1:0}function P0(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class wr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new tt(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new tt(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new tt(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new tt(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wr.fromMillis(Date.now())}static fromDate(e){return wr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new wr(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fn(this.nanoseconds,e.nanoseconds):fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class qt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new qt(e)}static min(){return new qt(new wr(0,0))}static max(){return new qt(new wr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $x{constructor(e,t,i){void 0===t?t=0:t>e.length&&Vt(),void 0===i?i=e.length-t:i>e.length-t&&Vt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===$x.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $x?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bn extends $x{construct(e,t,i){return new Bn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new tt(Se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Bn(t)}static emptyPath(){return new Bn([])}}const oJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends $x{construct(e,t,i){return new or(e,t,i)}static isValidIdentifier(e){return oJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new or(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new tt(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let o=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new tt(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new tt(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else"`"===d?(o=!o,r++):"."!==d||o?(i+=d,r++):(s(),r++)}if(s(),o)throw new tt(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new or(t)}static emptyPath(){return new or([])}}class At{constructor(e){this.path=e}static fromPath(e){return new At(Bn.fromString(e))}static fromName(e){return new At(Bn.fromString(e).popFirst(5))}static empty(){return new At(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new Bn(e.slice()))}}function Sz(n){return new Oc(n.readTime,n.key,-1)}class Oc{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Oc(qt.min(),At.empty(),-1)}static max(){return new Oc(qt.max(),At.empty(),-1)}}function rN(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=At.comparator(n.documentKey,e.documentKey),0!==t?t:fn(n.largestBatchId,e.largestBatchId))}const Dz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lJ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function sg(n){return sN.apply(this,arguments)}function sN(){return sN=(0,re.Z)(function*(n){if(n.code!==Se.FAILED_PRECONDITION||n.message!==Dz)throw n;et("LocalStore","Unexpectedly lost primary lease")}),sN.apply(this,arguments)}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _e((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _e?t:_e.resolve(t)}catch(t){return _e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.reject(t)}static resolve(e){return new _e((t,i)=>{t(e)})}static reject(e){return new _e((t,i)=>{i(e)})}static waitFor(e){return new _e((t,i)=>{let r=0,s=0,o=!1;e.forEach(d=>{++r,d.next(()=>{++s,o&&s===r&&t()},f=>i(f))}),o=!0,s===r&&t()})}static or(e){let t=_e.resolve(!1);for(const i of e)t=t.next(r=>r?_e.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new _e((i,r)=>{const s=e.length,o=new Array(s);let d=0;for(let f=0;f<s;f++){const g=f;t(e[g]).next(b=>{o[g]=b,++d,d===s&&i(o)},b=>r(b))}})}static doWhile(e,t){return new _e((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}function og(n){return"IndexedDbTransactionError"===n.name}let Nc=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function qx(n){return null==n}function Wx(n){return 0===n&&1/n==-1/0}function Uz(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ag(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class Fi{constructor(e,t){this.comparator=e,this.root=t||ro.EMPTY}insert(e,t){return new Fi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ro.BLACK,null,null))}remove(e){return new Fi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ro.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _M(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _M(this.root,e,this.comparator,!1)}getReverseIterator(){return new _M(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _M(this.root,e,this.comparator,!0)}}class _M{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ro{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??ro.RED,this.left=r??ro.EMPTY,this.right=s??ro.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new ro(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ro.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ro.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vt();const e=this.left.check();if(e!==this.right.check())throw Vt();return e+(this.isRed()?0:1)}}ro.EMPTY=null,ro.RED=!0,ro.BLACK=!1,ro.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt()}get value(){throw Vt()}get color(){throw Vt()}get left(){throw Vt()}get right(){throw Vt()}copy(e,t,i,r,s){return this}insert(e,t,i){return new ro(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bi{constructor(e){this.comparator=e,this.data=new Fi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hz(this.data.getIterator())}getIteratorFrom(e){return new Hz(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof bi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bi(this.comparator);return t.data=e,t}}class Hz{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Na{constructor(e){this.fields=e,e.sort(or.comparator)}static empty(){return new Na([])}unionWith(e){let t=new bi(or.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Na(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return P0(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class $z extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $z("Invalid base64 string: "+s):s}}(e);return new Rr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const PJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xf(n){if(jt(!!n),"string"==typeof n){let e=0;const t=PJ.exec(n);if(jt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ar(n.seconds),nanos:ar(n.nanos)}}function ar(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Jf(n){return"string"==typeof n?Rr.fromBase64String(n):Rr.fromUint8Array(n)}function yM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function vM(n){const e=n.mapValue.fields.__previous_value__;return yM(e)?vM(e):e}function Kx(n){const e=Xf(n.mapValue.fields.__local_write_time__.timestampValue);return new wr(e.seconds,e.nanos)}class OJ{constructor(e,t,i,r,s,o,d,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=g}}class xy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xy("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xy&&e.projectId===this.projectId&&e.database===this.database}}const cg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yM(n)?4:Zz(n)?9007199254740991:IM(n)?10:11:Vt()}function hh(n,e){if(n===e)return!0;const t=lg(n);if(t!==lg(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kx(n).isEqual(Kx(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Xf(r.timestampValue),d=Xf(s.timestampValue);return o.seconds===d.seconds&&o.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Jf(n.bytesValue).isEqual(Jf(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return ar(r.geoPointValue.latitude)===ar(s.geoPointValue.latitude)&&ar(r.geoPointValue.longitude)===ar(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ar(r.integerValue)===ar(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=ar(r.doubleValue),d=ar(s.doubleValue);return o===d?Wx(o)===Wx(d):isNaN(o)&&isNaN(d)}return!1}(n,e);case 9:return P0(n.arrayValue.values||[],e.arrayValue.values||[],hh);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},d=s.mapValue.fields||{};if(Uz(o)!==Uz(d))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(void 0===d[f]||!hh(o[f],d[f])))return!1;return!0}(n,e);default:return Vt()}var s}function Zx(n,e){return void 0!==(n.values||[]).find(t=>hh(t,e))}function ug(n,e){if(n===e)return 0;const t=lg(n),i=lg(e);if(t!==i)return fn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return fn(n.booleanValue,e.booleanValue);case 2:return function(s,o){const d=ar(s.integerValue||s.doubleValue),f=ar(o.integerValue||o.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Gz(n.timestampValue,e.timestampValue);case 4:return Gz(Kx(n),Kx(e));case 5:return fn(n.stringValue,e.stringValue);case 6:return function(s,o){const d=Jf(s),f=Jf(o);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const d=s.split("/"),f=o.split("/");for(let g=0;g<d.length&&g<f.length;g++){const b=fn(d[g],f[g]);if(0!==b)return b}return fn(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const d=fn(ar(s.latitude),ar(o.latitude));return 0!==d?d:fn(ar(s.longitude),ar(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return qz(n.arrayValue,e.arrayValue);case 10:return function(s,o){var d,f,g,b;const N=null===(d=(s.fields||{}).value)||void 0===d?void 0:d.arrayValue,V=null===(f=(o.fields||{}).value)||void 0===f?void 0:f.arrayValue,$=fn((null===(g=N?.values)||void 0===g?void 0:g.length)||0,(null===(b=V?.values)||void 0===b?void 0:b.length)||0);return 0!==$?$:qz(N,V)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===cg.mapValue&&o===cg.mapValue)return 0;if(s===cg.mapValue)return 1;if(o===cg.mapValue)return-1;const d=s.fields||{},f=Object.keys(d),g=o.fields||{},b=Object.keys(g);f.sort(),b.sort();for(let x=0;x<f.length&&x<b.length;++x){const k=fn(f[x],b[x]);if(0!==k)return k;const N=ug(d[f[x]],g[b[x]]);if(0!==N)return N}return fn(f.length,b.length)}(n.mapValue,e.mapValue);default:throw Vt()}}function Gz(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return fn(n,e);const t=Xf(n),i=Xf(e),r=fn(t.seconds,i.seconds);return 0!==r?r:fn(t.nanos,i.nanos)}function qz(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const s=ug(t[r],i[r]);if(s)return s}return fn(t.length,i.length)}function L0(n){return cN(n)}function cN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Xf(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Jf(n.bytesValue).toBase64():"referenceValue"in n?At.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const s of t.values||[])r?r=!1:i+=",",i+=cN(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${cN(t.fields[o])}`;return r+"}"}(n.mapValue):Vt()}function lN(n){return!!n&&"integerValue"in n}function Yx(n){return!!n&&"arrayValue"in n}function Wz(n){return!!n&&"nullValue"in n}function Kz(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function EM(n){return!!n&&"mapValue"in n}function IM(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Qx(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ag(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Qx(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qx(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Zz(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class so{constructor(e){this.value=e}static empty(){return new so({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!EM(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qx(t)}setAll(e){let t=or.emptyPath(),i={},r=[];e.forEach((o,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=d.popLast()}o?i[d.lastSegment()]=Qx(o):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());EM(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];EM(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ag(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new so(Qx(this.value))}}class $i{constructor(e,t,i,r,s,o,d){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=d}static newInvalidDocument(e){return new $i(e,0,qt.min(),qt.min(),qt.min(),so.empty(),0)}static newFoundDocument(e,t,i,r){return new $i(e,1,t,qt.min(),i,r,0)}static newNoDocument(e,t){return new $i(e,2,t,qt.min(),qt.min(),so.empty(),0)}static newUnknownDocument(e,t){return new $i(e,3,t,qt.min(),qt.min(),so.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=so.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=so.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dg{constructor(e,t){this.position=e,this.inclusive=t}}function e3(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],o=n.position[r];if(i=s.field.isKeyField()?At.comparator(At.fromName(o.referenceValue),t.key):ug(o,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function t3(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hh(n.position[t],e.position[t]))return!1;return!0}class Xx{constructor(e,t="asc"){this.field=e,this.dir=t}}function LJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class n3{}class Un extends n3{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new VJ(e,t,i):"array-contains"===t?new jJ(e,i):"in"===t?new l3(e,i):"not-in"===t?new zJ(e,i):"array-contains-any"===t?new HJ(e,i):new Un(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new BJ(e,i):new UJ(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ug(t,this.value)):null!==t&&lg(this.value)===lg(t)&&this.matchesComparison(ug(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends n3{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new mi(e,t)}matches(e){return V0(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function V0(n){return"and"===n.op}function dN(n){return function r3(n){for(const e of n.filters)if(e instanceof mi)return!1;return!0}(n)&&V0(n)}function hN(n){if(n instanceof Un)return n.field.canonicalString()+n.op.toString()+L0(n.value);if(dN(n))return n.filters.map(e=>hN(e)).join(",");{const e=n.filters.map(t=>hN(t)).join(",");return`${n.op}(${e})`}}function s3(n,e){return n instanceof Un?(i=n,(r=e)instanceof Un&&i.op===r.op&&i.field.isEqual(r.field)&&hh(i.value,r.value)):n instanceof mi?function(i,r){return r instanceof mi&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,d)=>s&&s3(o,r.filters[d]),!0)}(n,e):void Vt();var i,r}function a3(n){return n instanceof Un?`${(t=n).field.canonicalString()} ${t.op} ${L0(t.value)}`:n instanceof mi?function(t){return t.op.toString()+" {"+t.getFilters().map(a3).join(" ,")+"}"}(n):"Filter";var t}class VJ extends Un{constructor(e,t,i){super(e,t,i),this.key=At.fromName(i.referenceValue)}matches(e){const t=At.comparator(e.key,this.key);return this.matchesComparison(t)}}class BJ extends Un{constructor(e,t){super(e,"in",t),this.keys=c3(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class UJ extends Un{constructor(e,t){super(e,"not-in",t),this.keys=c3(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function c3(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>At.fromName(i.referenceValue))}class jJ extends Un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yx(t)&&Zx(t.arrayValue,this.value)}}class l3 extends Un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Zx(this.value.arrayValue,t)}}class zJ extends Un{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Zx(this.value.arrayValue,t)}}class HJ extends Un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yx(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Zx(this.value.arrayValue,i))}}class $J{constructor(e,t=null,i=[],r=[],s=null,o=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=d,this.ue=null}}function fN(n,e=null,t=[],i=[],r=null,s=null,o=null){return new $J(n,e,t,i,r,s,o)}function Cy(n){const e=vt(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>hN(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),qx(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>L0(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>L0(i)).join(",")),e.ue=t}return e.ue}function Jx(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!LJ(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!s3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!t3(n.startAt,e.startAt)&&t3(n.endAt,e.endAt)}function xM(n){return At.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class em{constructor(e,t=null,i=[],r=[],s=null,o="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null}}function B0(n){return new em(n)}function f3(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function U0(n){const e=vt(n);if(null===e.ce){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let d=new bi(or.comparator);return o.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xx(s,i))}),t.has(or.keyField().canonicalString())||e.ce.push(new Xx(or.keyField(),i))}return e.ce}function Ao(n){const e=vt(n);return e.le||(e.le=function p3(n,e){if("F"===n.limitType)return fN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new Xx(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new dg(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new dg(n.startAt.position,n.startAt.inclusive):null;return fN(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,U0(n))),e.le}function CM(n,e,t){return new em(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function eT(n,e){return Jx(Ao(n),Ao(e))&&n.limitType===e.limitType}function g3(n){return`${Cy(Ao(n))}|lt:${n.limitType}`}function j0(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>a3(r)).join(", ")}]`),qx(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>L0(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>L0(r)).join(",")),`Target(${i})`}(Ao(n))}; limitType=${n.limitType})`}function tT(n,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):At.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(const s of U0(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(o,d,f){const g=e3(o,d,f);return o.inclusive?g<=0:g<0}(i.startAt,U0(i),r)||i.endAt&&!function(o,d,f){const g=e3(o,d,f);return o.inclusive?g>=0:g>0}(i.endAt,U0(i),r)));var i,r}function y3(n){return(e,t)=>{let i=!1;for(const r of U0(n)){const s=GJ(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function GJ(n,e,t){const i=n.field.isKeyField()?At.comparator(e.key,t.key):function(s,o,d){const f=o.data.field(s),g=d.data.field(s);return null!==f&&null!==g?ug(f,g):Vt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Vt()}}class tm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ag(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return function zz(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const qJ=new Fi(At.comparator);function Fa(){return qJ}const v3=new Fi(At.comparator);function nT(...n){let e=v3;for(const t of n)e=e.insert(t.key,t);return e}function b3(n){let e=v3;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function fh(){return iT()}function w3(){return iT()}function iT(){return new tm(n=>n.toString(),(n,e)=>n.isEqual(e))}new Fi(At.comparator);const KJ=new bi(At.comparator);function vn(...n){let e=KJ;for(const t of n)e=e.add(t);return e}const ZJ=new bi(fn);class AM{constructor(){this._=void 0}}function YJ(n,e,t){return n instanceof z0?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&yM(s)&&(s=vM(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Ay?T3(n,e):n instanceof Sy?C3(n,e):function(r,s){const o=function x3(n,e){return n instanceof H0?lN(i=e)||(s=i)&&"doubleValue"in s?e:{integerValue:0}:null;var i,s}(r,s),d=A3(o)+A3(r.Pe);return lN(o)&&lN(r.Pe)?function E3(n){return{integerValue:""+n}}(d):function _N(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wx(e)?"-0":e}}(r.serializer,d)}(n,e)}function QJ(n,e,t){return n instanceof Ay?T3(n,e):n instanceof Sy?C3(n,e):t}class z0 extends AM{}class Ay extends AM{constructor(e){super(),this.elements=e}}function T3(n,e){const t=S3(e);for(const i of n.elements)t.some(r=>hh(r,i))||t.push(i);return{arrayValue:{values:t}}}class Sy extends AM{constructor(e){super(),this.elements=e}}function C3(n,e){let t=S3(e);for(const i of n.elements)t=t.filter(r=>!hh(r,i));return{arrayValue:{values:t}}}class H0 extends AM{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function A3(n){return ar(n.integerValue||n.doubleValue)}function S3(n){return Yx(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new cr}static exists(e){return new cr(void 0,e)}static updateTime(e){return new cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function SM(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class yN{}function D3(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new G0(n.key,cr.none()):new $0(n.key,n.data,cr.none());{const t=n.data,i=so.empty();let r=new bi(or.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new nm(n.key,i,new Na(r.toArray()),cr.none())}}function eee(n,e,t){n instanceof $0?function(r,s,o){const d=r.value.clone(),f=R3(r.fieldTransforms,s,o.transformResults);d.setAll(f),s.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(n,e,t):n instanceof nm?function(r,s,o){if(!SM(r.precondition,s))return void s.convertToUnknownDocument(o.version);const d=R3(r.fieldTransforms,s,o.transformResults),f=s.data;f.setAll(k3(r)),f.setAll(d),s.convertToFoundDocument(o.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function sT(n,e,t,i){return n instanceof $0?function(s,o,d,f){if(!SM(s.precondition,o))return d;const g=s.value.clone(),b=P3(s.fieldTransforms,f,o);return g.setAll(b),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof nm?function(s,o,d,f){if(!SM(s.precondition,o))return d;const g=P3(s.fieldTransforms,f,o),b=o.data;return b.setAll(k3(s)),b.setAll(g),o.convertToFoundDocument(o.version,b).setHasLocalMutations(),null===d?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(x=>x.field))}(n,e,t,i):(d=t,SM(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):d);var o,d}function M3(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&P0(i,r,(s,o)=>function XJ(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof Ay&&r instanceof Ay||i instanceof Sy&&r instanceof Sy?P0(i.elements,r.elements,hh):i instanceof H0&&r instanceof H0?hh(i.Pe,r.Pe):i instanceof z0&&r instanceof z0);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class $0 extends yN{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class nm extends yN{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function k3(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function R3(n,e,t){const i=new Map;jt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],o=s.transform,d=e.data.field(s.field);i.set(s.field,QJ(o,d,t[r]))}return i}function P3(n,e,t){const i=new Map;for(const r of n){const s=r.transform,o=t.data.field(r.field);i.set(r.field,YJ(s,o,e))}return i}class G0 extends yN{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bN{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&eee(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=sT(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=sT(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=w3();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let d=this.applyToLocalView(o,s.mutatedFields);d=t.has(r.key)?null:d;const f=D3(o,d);null!==f&&i.set(r.key,f),o.isValidDocument()||o.convertToNoDocument(qt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vn())}isEqual(e){return this.batchId===e.batchId&&P0(this.mutations,e.mutations,(t,i)=>M3(t,i))&&P0(this.baseMutations,e.baseMutations,(t,i)=>M3(t,i))}}class EN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nee{constructor(e,t){this.count=e,this.unchangedNames=t}}var hs,qn;function F3(n){if(void 0===n)return Wr("GRPC error has no .code"),Se.UNKNOWN;switch(n){case hs.OK:return Se.OK;case hs.CANCELLED:return Se.CANCELLED;case hs.UNKNOWN:return Se.UNKNOWN;case hs.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case hs.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case hs.INTERNAL:return Se.INTERNAL;case hs.UNAVAILABLE:return Se.UNAVAILABLE;case hs.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case hs.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case hs.NOT_FOUND:return Se.NOT_FOUND;case hs.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case hs.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case hs.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case hs.ABORTED:return Se.ABORTED;case hs.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case hs.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case hs.DATA_LOSS:return Se.DATA_LOSS;default:return Vt()}}(qn=hs||(hs={}))[qn.OK=0]="OK",qn[qn.CANCELLED=1]="CANCELLED",qn[qn.UNKNOWN=2]="UNKNOWN",qn[qn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qn[qn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qn[qn.NOT_FOUND=5]="NOT_FOUND",qn[qn.ALREADY_EXISTS=6]="ALREADY_EXISTS",qn[qn.PERMISSION_DENIED=7]="PERMISSION_DENIED",qn[qn.UNAUTHENTICATED=16]="UNAUTHENTICATED",qn[qn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qn[qn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qn[qn.ABORTED=10]="ABORTED",qn[qn.OUT_OF_RANGE=11]="OUT_OF_RANGE",qn[qn.UNIMPLEMENTED=12]="UNIMPLEMENTED",qn[qn.INTERNAL=13]="INTERNAL",qn[qn.UNAVAILABLE=14]="UNAVAILABLE",qn[qn.DATA_LOSS=15]="DATA_LOSS";const iee=new by([4294967295,4294967295],0);function V3(n){const e=function L3(){return new TextEncoder}().encode(n),t=new gz;return t.update(e),new Uint8Array(t.digest())}function B3(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new by([t,i],0),new by([r,s],0)]}class IN{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new oT(`Invalid padding: ${t}`);if(i<0)throw new oT(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new oT(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new oT(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=by.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(by.fromNumber(i)));return 1===r.compare(iee)&&(r=new by([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=V3(e),[i,r]=B3(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new IN(s,r,t);return i.forEach(d=>o.insert(d)),o}insert(e){if(0===this.Ie)return;const t=V3(e),[i,r]=B3(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class oT extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class aT{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,cT.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new aT(qt.min(),r,new Fi(fn),Fa(),vn())}}class cT{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new cT(i,t,vn(),vn(),vn())}}class MM{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}}class U3{constructor(e,t){this.targetId=e,this.me=t}}class j3{constructor(e,t,i=Rr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class z3{constructor(){this.fe=0,this.ge=$3(),this.pe=Rr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=vn(),t=vn(),i=vn();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Vt()}}),new cT(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=$3()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,jt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ree{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fa(),this.qe=H3(),this.Qe=new Fi(fn)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:Vt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){const t=e.targetId,i=e.me.count,r=this.Je(t);if(r){const s=r.target;if(xM(s))if(0===i){const o=new At(s.path);this.Ue(t,o,$i.newNoDocument(o,qt.min()))}else jt(1===i);else{const o=this.Ye(t);if(o!==i){const d=this.Ze(e),f=d?this.Xe(d,e,o):1;0!==f&&(this.je(t),this.Qe=this.Qe.insert(t,2===f?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t;let o,d;try{o=Jf(i).toUint8Array()}catch(f){if(f instanceof $z)return bl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new IN(o,r,s)}catch(f){return bl(f instanceof oT?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return 0===d.Ie?null:d}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const o=this.Le.tt(),d=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.Ue(t,s,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const d=this.Je(o);if(d){if(s.current&&xM(d.target)){const f=new At(d.target.path);null!==this.ke.get(f)||this.it(o,f)||this.Ue(o,f,$i.newNoDocument(f,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let i=vn();this.qe.forEach((s,o)=>{let d=!0;o.forEachWhile(f=>{const g=this.Je(f);return!g||"TargetPurposeLimboResolution"===g.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new aT(e,t,this.Qe,this.ke,i);return this.ke=Fa(),this.qe=H3(),this.Qe=new Fi(fn),r}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new z3,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bi(fn),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||et("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new z3),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function H3(){return new Fi(At.comparator)}function $3(){return new Fi(At.comparator)}const see={asc:"ASCENDING",desc:"DESCENDING"},oee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aee={and:"AND",or:"OR"};class cee{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xN(n,e){return n.useProto3Json||qx(e)?e:{value:e}}function Kr(n){return jt(!!n),qt.fromTimestamp(function(t){const i=Xf(t);return new wr(i.seconds,i.nanos)}(n))}function CN(n,e){const t=(r=n,new Bn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===e?t:t.child(e)}function q3(n){const e=Bn.fromString(n);return jt(i6(e)),e}function mh(n,e){const t=q3(e);if(t.get(1)!==n.databaseId.projectId)throw new tt(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new tt(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new At(Z3(t))}function W3(n,e){return function TN(n,e){return CN(n,e).canonicalString()}(n.databaseId,e)}function AN(n){return new Bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Z3(n){return jt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function X3(n,e){return{documents:[W3(n,e.path)]}}function kM(n,e){const t={structuredQuery:{}},i=e.path;let r;null!==e.collectionGroup?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=W3(n,r);const s=function(g){if(0!==g.length)return n6(mi.create(g,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(g){if(0!==g.length)return g.map(b=>{return{field:hg((k=b).field),direction:mee(k.dir)};var k})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const d=xN(n,e.limit);return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{_t:t,parent:r};var g}function e6(n){let e=function K3(n){const e=q3(n);return 4===e.length?Bn.emptyPath():Z3(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){jt(1===i);const b=t.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let s=[];t.where&&(s=function(x){const k=t6(x);return k instanceof mi&&dN(k)?k.getFilters():[k]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(k=>{return new Xx(W0((V=k).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction));var V}));let d=null;t.limit&&(d=function(x){let k;return k="object"==typeof x?x.value:x,qx(k)?null:k}(t.limit));let f=null;var x;t.startAt&&(f=new dg((x=t.startAt).values||[],!!x.before));let g=null;return t.endAt&&(g=function(x){return new dg(x.values||[],!x.before)}(t.endAt)),function h3(n,e,t,i,r,s,o,d){return new em(n,e,t,i,r,s,o,d)}(e,r,o,s,d,"F",f,g)}function t6(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=W0(t.unaryFilter.field);return Un.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=W0(t.unaryFilter.field);return Un.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=W0(t.unaryFilter.field);return Un.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=W0(t.unaryFilter.field);return Un.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Vt()}}(n):void 0!==n.fieldFilter?Un.create(W0((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return mi.create(t.compositeFilter.filters.map(i=>t6(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Vt()}}(t.compositeFilter.op))}(n):Vt();var t}function mee(n){return see[n]}function pee(n){return oee[n]}function gee(n){return aee[n]}function hg(n){return{fieldPath:n.canonicalString()}}function W0(n){return or.fromServerFormat(n.fieldPath)}function n6(n){return n instanceof Un?function(t){if("=="===t.op){if(Kz(t.value))return{unaryFilter:{field:hg(t.field),op:"IS_NAN"}};if(Wz(t.value))return{unaryFilter:{field:hg(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Kz(t.value))return{unaryFilter:{field:hg(t.field),op:"IS_NOT_NAN"}};if(Wz(t.value))return{unaryFilter:{field:hg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hg(t.field),op:pee(t.op),value:t.value}}}(n):n instanceof mi?function(t){const i=t.getFilters().map(r=>n6(r));return 1===i.length?i[0]:{compositeFilter:{op:gee(t.op),filters:i}}}(n):Vt()}function i6(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class im{constructor(e,t,i,r,s=qt.min(),o=qt.min(),d=Rr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new im(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new im(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new im(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new im(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class r6{constructor(e){this.ct=e}}function DN(n){const e=e6({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?CM(e,e.limit,"L"):e}class Ry{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ar(e.integerValue));else if("doubleValue"in e){const i=ar(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),Wx(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),"string"==typeof i&&(i=Xf(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Jf(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?Zz(e)?this.dt(t,Number.MAX_SAFE_INTEGER):IM(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Vt()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const i=e.fields||{};this.dt(t,55);for(const r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;const s=e.fields||{};this.dt(t,53);const o="value",d=(null===(r=null===(i=s[o].arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(ar(d)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){const i=e.values||[];this.dt(t,50);for(const r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),At.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}Ry.vt=new Ry;class Cee{constructor(){this.un=new NN}addToCollectionParentIndex(e,t){return this.un.add(t),_e.resolve()}getCollectionParents(e,t){return _e.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return _e.resolve()}deleteFieldIndex(e,t){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,t){return _e.resolve()}getDocumentsMatchingTarget(e,t){return _e.resolve(null)}getIndexType(e,t){return _e.resolve(0)}getFieldIndexes(e,t){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,t){return _e.resolve(Oc.min())}getMinOffsetFromCollectionGroup(e,t){return _e.resolve(Oc.min())}updateCollectionGroup(e,t,i){return _e.resolve()}updateIndexEntries(e,t){return _e.resolve()}}class NN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new bi(Bn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new bi(Bn.comparator)).toArray()}}new Uint8Array(0);class So{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new So(e,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}So.DEFAULT_COLLECTION_PERCENTILE=10,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,So.DEFAULT=new So(41943040,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),So.DISABLED=new So(-1,0,0);class Oy{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Oy(0)}static kn(){return new Oy(-1)}}class Ree{constructor(){this.changes=new tm(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?_e.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Nee{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class k6{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&sT(i.mutation,r,Na.empty(),wr.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,vn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=vn()){const r=fh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=nT();return s.forEach((d,f)=>{o=o.insert(d,f.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const i=fh();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,vn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,d)=>{t.set(o,d)})})}computeViews(e,t,i,r){let s=Fa();const o=iT(),d=iT();return t.forEach((f,g)=>{const b=i.get(g.key);r.has(g.key)&&(void 0===b||b.mutation instanceof nm)?s=s.insert(g.key,g):void 0!==b?(o.set(g.key,b.mutation.getFieldMask()),sT(b.mutation,g,b.mutation.getFieldMask(),wr.now())):o.set(g.key,Na.empty())}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((g,b)=>o.set(g,b)),t.forEach((g,b)=>{var x;return d.set(g,new Nee(b,null!==(x=o.get(g))&&void 0!==x?x:null))}),d))}recalculateAndSaveOverlays(e,t){const i=iT();let r=new Fi((o,d)=>o-d),s=vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const d of o)d.keys().forEach(f=>{const g=t.get(f);if(null===g)return;let b=i.get(f)||Na.empty();b=d.applyToLocalView(g,b),i.set(f,b);const x=(r.get(d.batchId)||vn()).add(f);r=r.insert(d.batchId,x)})}).next(()=>{const o=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),g=f.key,b=f.value,x=w3();b.forEach(k=>{if(!s.has(k)){const N=D3(t.get(k),i.get(k));null!==N&&x.set(k,N),s=s.add(k)}}),o.push(this.documentOverlayCache.saveOverlays(e,g,x))}return _e.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return At.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function mN(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var o}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):_e.resolve(fh());let d=-1,f=s;return o.next(g=>_e.forEach(g,(b,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),s.get(b)?_e.resolve():this.remoteDocumentCache.getEntry(e,b).next(k=>{f=f.insert(b,k)}))).next(()=>this.populateOverlays(e,g,s)).next(()=>this.computeViews(e,f,g,vn())).next(b=>({batchId:d,changes:b3(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new At(t)).next(i=>{let r=nT();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const s=t.collectionGroup;let o=nT();return this.indexManager.getCollectionParents(e,s).next(d=>_e.forEach(d,f=>{const g=(x=t,k=f.child(s),new em(k,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,k;return this.getDocumentsMatchingCollectionQuery(e,g,i,r).next(b=>{b.forEach((x,k)=>{o=o.insert(x,k)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((f,g)=>{const b=g.getKey();null===o.get(b)&&(o=o.insert(b,$i.newInvalidDocument(b)))});let d=nT();return o.forEach((f,g)=>{const b=s.get(f);void 0!==b&&sT(b.mutation,g,Na.empty(),wr.now()),tT(t,g)&&(d=d.insert(f,g))}),d})}}class Fee{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return _e.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(r=t).id,version:r.version,createTime:Kr(r.createTime)}),_e.resolve();var r}getNamedQuery(e,t){return _e.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(r=t).name,query:DN(r.bundledQuery),readTime:Kr(r.readTime)}),_e.resolve();var r}}class Lee{constructor(){this.overlays=new Fi(At.comparator),this.Ir=new Map}getOverlay(e,t){return _e.resolve(this.overlays.get(t))}getOverlays(e,t){const i=fh();return _e.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),_e.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Ir.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),_e.resolve()}getOverlaysForCollection(e,t,i){const r=fh(),s=t.length+1,o=new At(t.child("")),d=this.overlays.getIteratorFrom(o);for(;d.hasNext();){const f=d.getNext().value,g=f.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return _e.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Fi((g,b)=>g-b);const o=this.overlays.getIterator();for(;o.hasNext();){const g=o.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let b=s.get(g.largestBatchId);null===b&&(b=fh(),s=s.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const d=fh(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,b)=>d.set(g,b)),!(d.size()>=r)););return _e.resolve(d)}ht(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new EN(t,i));let s=this.Ir.get(t);void 0===s&&(s=vn(),this.Ir.set(t,s)),this.Ir.set(t,s.add(i.key))}}class Vee{constructor(){this.sessionToken=Rr.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,_e.resolve()}}class FN{constructor(){this.Tr=new bi(Hs.Er),this.dr=new bi(Hs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new Hs(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Hs(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){const t=new At(new Bn([])),i=new Hs(t,e),r=new Hs(t,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new At(new Bn([])),i=new Hs(t,e),r=new Hs(t,e+1);let s=vn();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Hs(e,0),i=this.Tr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Hs{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return At.comparator(e.key,t.key)||fn(e.wr,t.wr)}static Ar(e,t){return fn(e.wr,t.wr)||At.comparator(e.key,t.key)}}class Bee{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new bi(Hs.Er)}checkEmpty(e){return _e.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.Sr;this.Sr++;const o=new bN(s,t,i,r);this.mutationQueue.push(o);for(const d of r)this.br=this.br.add(new Hs(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return _e.resolve(o)}lookupMutationBatch(e,t){return _e.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.vr(t+1),s=r<0?0:r;return _e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Hs(t,0),r=new Hs(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const d=this.Dr(o.wr);s.push(d)}),_e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new bi(fn);return t.forEach(r=>{const s=new Hs(r,0),o=new Hs(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],d=>{i=i.add(d.wr)})}),_e.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;At.isDocumentKey(s)||(s=s.child(""));const o=new Hs(new At(s),0);let d=new bi(fn);return this.br.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(d=d.add(f.wr)),!0)},o),_e.resolve(this.Cr(d))}Cr(e){const t=[];return e.forEach(i=>{const r=this.Dr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){jt(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return _e.forEach(t.mutations,r=>{const s=new Hs(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){const i=new Hs(t,0),r=this.br.firstAfterOrEqual(i);return _e.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return _e.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Uee{constructor(e){this.Mr=e,this.docs=new Fi(At.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return _e.resolve(i?i.document.mutableCopy():$i.newInvalidDocument(t))}getEntries(e,t){let i=Fa();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():$i.newInvalidDocument(r))}),_e.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Fa();const o=t.path,d=new At(o.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:g,value:{document:b}}=f.getNext();if(!o.isPrefixOf(g.path))break;g.path.length>o.length+1||rN(Sz(b),i)<=0||(r.has(b.key)||tT(t,b))&&(s=s.insert(b.key,b.mutableCopy()))}return _e.resolve(s)}getAllFromCollectionGroup(e,t,i,r){Vt()}Or(e,t){return _e.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new jee(this)}getSize(e){return _e.resolve(this.size)}}class jee extends Ree{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),_e.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class zee{constructor(e){this.persistence=e,this.Nr=new tm(t=>Cy(t),Jx),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new FN,this.targetCount=0,this.kr=Oy.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),_e.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Oy(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,_e.resolve()}updateTargetData(e,t){return this.Kn(t),_e.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Nr.forEach((o,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),_e.waitFor(s).next(()=>r)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return _e.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),_e.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),_e.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),_e.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return _e.resolve(i)}containsKey(e,t){return _e.resolve(this.Br.containsKey(t))}}class LN{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Nc(0),this.Kr=!1,this.Kr=!0,this.$r=new Vee,this.referenceDelegate=e(this),this.Ur=new zee(this),this.indexManager=new Cee,this.remoteDocumentCache=new Uee(i=>this.referenceDelegate.Wr(i)),this.serializer=new r6(t),this.Gr=new Fee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lee,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new Bee(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){et("MemoryPersistence","Starting transaction:",e);const r=new Hee(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,t){return _e.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}}class Hee extends lJ{constructor(e){super(),this.currentSequenceNumber=e}}class BM{constructor(e){this.persistence=e,this.Jr=new FN,this.Yr=null}static Zr(e){return new BM(e)}get Xr(){if(this.Yr)return this.Yr;throw Vt()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),_e.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),_e.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),_e.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.Xr,i=>{const r=At.fromPath(i);return this.ei(e,r).next(s=>{s||t.removeEntry(r,qt.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return _e.or([()=>_e.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class jN{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=vn(),r=vn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new jN(e,t.fromCache,i,r)}}class Gee{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class P6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function LQ(){return!function NQ(){var n;const e=null===(n=aM())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function Mz(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(function Bx(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){const s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Gee;return this.Xi(e,t,o).next(d=>{if(s.result=d,this.zi)return this.es(e,t,o,d.size)})}).next(()=>s.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(R0()<=jn.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",j0(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),_e.resolve()):(R0()<=jn.DEBUG&&et("QueryEngine","Query:",j0(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(R0()<=jn.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",j0(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ao(t))):_e.resolve())}Yi(e,t){if(f3(t))return _e.resolve(null);let i=Ao(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=CM(t,null,"F"),i=Ao(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=vn(...s);return this.Ji.getDocuments(e,o).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const g=this.ts(t,d);return this.ns(t,g,o,f.readTime)?this.Yi(e,CM(t,null,"F")):this.rs(e,g,t,f)}))})))}Zi(e,t,i,r){return f3(t)||r.isEqual(qt.min())?_e.resolve(null):this.Ji.getDocuments(e,i).next(s=>{const o=this.ts(t,s);return this.ns(t,o,i,r)?_e.resolve(null):(R0()<=jn.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),j0(t)),this.rs(e,o,t,function Az(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=qt.fromTimestamp(1e9===i?new wr(t+1,0):new wr(t,i));return new Oc(r,At.empty(),e)}(r,-1)).next(d=>d))})}ts(e,t){let i=new bi(y3(e));return t.forEach((r,s)=>{tT(e,s)&&(i=i.add(s))}),i}ns(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,i){return R0()<=jn.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",j0(t)),this.Ji.getDocumentsMatchingQuery(e,t,Oc.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class qee{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Fi(fn),this._s=new tm(s=>Cy(s),Jx),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function N6(n,e){return zN.apply(this,arguments)}function zN(){return zN=(0,re.Z)(function*(n,e){const t=vt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],d=[];let f=vn();for(const g of r){o.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}for(const g of s){d.push(g.batchId);for(const b of g.mutations)f=f.add(b.key)}return t.localDocuments.getDocuments(i,f).next(g=>({hs:g,removedBatchIds:o,addedBatchIds:d}))})})}),zN.apply(this,arguments)}function F6(n){const e=vt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function J0(n,e,t){return HN.apply(this,arguments)}function HN(){return HN=(0,re.Z)(function*(n,e,t){const i=vt(n),r=i.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!og(o))throw o;et("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)}),HN.apply(this,arguments)}function zM(n,e,t){const i=vt(n);let r=qt.min(),s=vn();return i.persistence.runTransaction("Execute query","readwrite",o=>function(f,g,b){const x=vt(f),k=x._s.get(b);return void 0!==k?_e.resolve(x.os.get(k)):x.Ur.getTargetData(g,b)}(i,o,Ao(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,d.targetId).next(f=>{s=f})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,t?r:qt.min(),t?s:vn())).next(d=>(function U6(n,e,t){let i=n.us.get(e)||qt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(e,i)}(i,function _3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),d),{documents:d,Ts:s})))}class KN{constructor(){this.activeTargetIds=function gN(){return ZJ}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H6{constructor(){this.so=new KN,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new KN,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xee{_o(e){}shutdown(){}}class $6{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let GM=null;function YN(){return null===GM?GM=268435456+Math.round(2147483648*Math.random()):GM++,"0x"+GM.toString(16)}const Jee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ete{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Do="WebChannelConnection";class tte extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${s}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(t,i,r,s,o){const d=YN(),f=this.xo(t,i.toUriEncodedString());et("RestConnection",`Sending RPC '${t}' ${d}:`,f,r);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,s,o),this.No(t,f,g,r).then(b=>(et("RestConnection",`Received RPC '${t}' ${d}: `,b),b),b=>{throw bl("RestConnection",`RPC '${t}' ${d} failed with error: `,b,"url: ",f,"request:",r),b})}Lo(t,i,r,s,o,d){return this.Mo(t,i,r,s,o)}Oo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+k0,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}xo(t,i){return`${this.Do}/v1/${i}:${Jee[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){const s=YN();return new Promise((o,d)=>{const f=new _z;f.setWithCredentials(!0),f.listenOnce(yz.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case mM.NO_ERROR:const b=f.getResponseJson();et(Do,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(b)),o(b);break;case mM.TIMEOUT:et(Do,`RPC '${e}' ${s} timed out`),d(new tt(Se.DEADLINE_EXCEEDED,"Request time out"));break;case mM.HTTP_ERROR:const x=f.getStatus();if(et(Do,`RPC '${e}' ${s} failed with status:`,x,"response text:",f.getResponseText()),x>0){let k=f.getResponseJson();Array.isArray(k)&&(k=k[0]);const N=k?.error;if(N&&N.status&&N.message){const V=function(W){const Te=W.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(Te)>=0?Te:Se.UNKNOWN}(N.status);d(new tt(V,N.message))}else d(new tt(Se.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new tt(Se.UNAVAILABLE,"Connection failed."));break;default:Vt()}}finally{et(Do,`RPC '${e}' ${s} completed.`)}});const g=JSON.stringify(r);et(Do,`RPC '${e}' ${s} sending request:`,r),f.send(t,"POST",g,i,15)})}Bo(e,t,i){const r=YN(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wz(),d=bz(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;void 0!==g&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const b=s.join("");et(Do,`Creating RPC '${e}' stream ${r}: ${b}`,f);const x=o.createWebChannel(b,f);let k=!1,N=!1;const V=new ete({Io:W=>{N?et(Do,`Not sending because RPC '${e}' stream ${r} is closed:`,W):(k||(et(Do,`Opening RPC '${e}' stream ${r} transport.`),x.open(),k=!0),et(Do,`RPC '${e}' stream ${r} sending:`,W),x.send(W))},To:()=>x.close()}),$=(W,Te,Ne)=>{W.listen(Te,Pe=>{try{Ne(Pe)}catch(Ze){setTimeout(()=>{throw Ze},0)}})};return $(x,Hx.EventType.OPEN,()=>{N||(et(Do,`RPC '${e}' stream ${r} transport opened.`),V.yo())}),$(x,Hx.EventType.CLOSE,()=>{N||(N=!0,et(Do,`RPC '${e}' stream ${r} transport closed`),V.So())}),$(x,Hx.EventType.ERROR,W=>{N||(N=!0,bl(Do,`RPC '${e}' stream ${r} transport errored:`,W),V.So(new tt(Se.UNAVAILABLE,"The operation could not be completed")))}),$(x,Hx.EventType.MESSAGE,W=>{var Te;if(!N){const Ne=W.data[0];jt(!!Ne);const Ze=Ne.error||(null===(Te=Ne[0])||void 0===Te?void 0:Te.error);if(Ze){et(Do,`RPC '${e}' stream ${r} received error:`,Ze);const yt=Ze.status;let mt=function(Q){const ce=hs[Q];if(void 0!==ce)return F3(ce)}(yt),ee=Ze.message;void 0===mt&&(mt=Se.INTERNAL,ee="Unknown error status: "+yt+" with message "+Ze.message),N=!0,V.So(new tt(mt,ee)),x.close()}else et(Do,`RPC '${e}' stream ${r} received:`,Ne),V.bo(Ne)}}),$(d,vz.STAT_EVENT,W=>{W.stat===tN.PROXY?et(Do,`RPC '${e}' stream ${r} detected buffering proxy`):W.stat===tN.NOPROXY&&et(Do,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{V.wo()},0),V}}function qM(){return typeof document<"u"?document:null}function yT(n){return new cee(n,!0)}class QN{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&et("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class nte{constructor(e,t,i,r,s,o,d,f){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new QN(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,re.Z)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,re.Z)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var i=this;return(0,re.Z)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==e?i.t_.reset():t&&t.code===Se.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):t&&t.code===Se.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{const r=new tt(Se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>1==++this.e_?this.E_(r):this.onNext(r))})}i_(){var e=this;this.state=5,this.t_.Go((0,re.Z)(function*(){e.state=0,e.start()}))}I_(e){return et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ite extends nte{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function dee(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:Vt(),r=e.targetChange.targetIds||[],s=function(g,b){return g.useProto3Json?(jt(void 0===b||"string"==typeof b),Rr.fromBase64String(b||"")):(jt(void 0===b||b instanceof Buffer||b instanceof Uint8Array),Rr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,d=o&&function(g){const b=void 0===g.code?Se.UNKNOWN:F3(g.code);return new tt(b,g.message||"")}(o);t=new j3(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=mh(n,i.document.name),s=Kr(i.document.updateTime),o=i.document.createTime?Kr(i.document.createTime):qt.min(),d=new so({mapValue:{fields:i.document.fields}}),f=$i.newFoundDocument(r,s,o,d);t=new MM(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=mh(n,i.document),s=i.readTime?Kr(i.readTime):qt.min(),o=$i.newNoDocument(r,s);t=new MM([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const i=e.documentRemove,r=mh(n,i.document);t=new MM([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Vt();{const i=e.filter,{count:r=0,unchangedNames:s}=i,o=new nee(r,s);t=new U3(i.targetId,o)}}var g;return t}(this.serializer,e),i=function(s){if(!("targetChange"in s))return qt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?qt.min():o.readTime?Kr(o.readTime):qt.min()}(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=AN(this.serializer),t.addTarget=function(s,o){let d;const f=o.target;if(d=xM(f)?{documents:X3(s,f)}:{query:kM(s,f)._t},d.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){d.resumeToken=function G3(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}(s,o.resumeToken);const g=xN(s,o.expectedCount);null!==g&&(d.expectedCount=g)}else if(o.snapshotVersion.compareTo(qt.min())>0){d.readTime=function q0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(s,o.snapshotVersion.toTimestamp());const g=xN(s,o.expectedCount);null!==g&&(d.expectedCount=g)}return d}(this.serializer,e);const i=function fee(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=AN(this.serializer),t.removeTarget=e,this.a_(t)}}class ste extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new tt(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,CN(t,i),r,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new tt(Se.UNKNOWN,s.toString())})}Lo(e,t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,d])=>this.connection.Lo(e,CN(t,i),r,o,d,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new tt(Se.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class ote{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Wr(t),this.D_=!1):et("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class ate{constructor(e,t,i,r,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(d=>{i.enqueueAndForget((0,re.Z)(function*(){var f;gg(o)&&(et("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,re.Z)(function*(b){const x=vt(b);x.L_.add(4),yield ew(x),x.q_.set("Unknown"),x.L_.delete(4),yield vT(x)}),function g(b){return f.apply(this,arguments)})(o))}))}),this.q_=new ote(i,r)}}function vT(n){return XN.apply(this,arguments)}function XN(){return XN=(0,re.Z)(function*(n){if(gg(n))for(const e of n.B_)yield e(!0)}),XN.apply(this,arguments)}function ew(n){return JN.apply(this,arguments)}function JN(){return JN=(0,re.Z)(function*(n){for(const e of n.B_)yield e(!1)}),JN.apply(this,arguments)}function WM(n,e){const t=vt(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),nF(t)?tF(t):iw(t).r_()&&eF(t,e))}function tw(n,e){const t=vt(n),i=iw(t);t.N_.delete(e),i.r_()&&q6(t,e),0===t.N_.size&&(i.r_()?i.o_():gg(t)&&t.q_.set("Unknown"))}function eF(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}iw(n).A_(e)}function q6(n,e){n.Q_.xe(e),iw(n).R_(e)}function tF(n){n.Q_=new ree({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),iw(n).start(),n.q_.v_()}function nF(n){return gg(n)&&!iw(n).n_()&&n.N_.size>0}function gg(n){return 0===vt(n).L_.size}function W6(n){n.Q_=void 0}function cte(n){return iF.apply(this,arguments)}function iF(){return iF=(0,re.Z)(function*(n){n.q_.set("Online")}),iF.apply(this,arguments)}function lte(n){return rF.apply(this,arguments)}function rF(){return rF=(0,re.Z)(function*(n){n.N_.forEach((e,t)=>{eF(n,e)})}),rF.apply(this,arguments)}function ute(n,e){return sF.apply(this,arguments)}function sF(){return sF=(0,re.Z)(function*(n,e){W6(n),nF(n)?(n.q_.M_(e),tF(n)):n.q_.set("Unknown")}),sF.apply(this,arguments)}function dte(n,e,t){return oF.apply(this,arguments)}function oF(){return oF=(0,re.Z)(function*(n,e,t){if(n.q_.set("Online"),e instanceof j3&&2===e.state&&e.cause)try{yield(i=(0,re.Z)(function*(s,o){const d=o.cause;for(const f of o.targetIds)s.N_.has(f)&&(yield s.remoteSyncer.rejectListen(f,d),s.N_.delete(f),s.Q_.removeTarget(f))}),function r(s,o){return i.apply(this,arguments)})(n,e)}catch(i){et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield KM(n,i)}else if(e instanceof MM?n.Q_.Ke(e):e instanceof U3?n.Q_.He(e):n.Q_.We(e),!t.isEqual(qt.min()))try{const i=yield F6(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){const d=s.Q_.rt(o);return d.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const b=s.N_.get(g);b&&s.N_.set(g,b.withResumeToken(f.resumeToken,o))}}),d.targetMismatches.forEach((f,g)=>{const b=s.N_.get(f);if(!b)return;s.N_.set(f,b.withResumeToken(Rr.EMPTY_BYTE_STRING,b.snapshotVersion)),q6(s,f);const x=new im(b.target,f,g,b.sequenceNumber);eF(s,x)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(i){et("RemoteStore","Failed to raise snapshot:",i),yield KM(n,i)}var i}),oF.apply(this,arguments)}function KM(n,e,t){return aF.apply(this,arguments)}function aF(){return aF=(0,re.Z)(function*(n,e,t){if(!og(e))throw e;n.L_.add(1),yield ew(n),n.q_.set("Offline"),t||(t=()=>F6(n.localStore)),n.asyncQueue.enqueueRetryable((0,re.Z)(function*(){et("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield vT(n)}))}),aF.apply(this,arguments)}function Q6(n,e){return fF.apply(this,arguments)}function fF(){return fF=(0,re.Z)(function*(n,e){const t=vt(n);t.asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials");const i=gg(t);t.L_.add(3),yield ew(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield vT(t)}),fF.apply(this,arguments)}function pF(){return pF=(0,re.Z)(function*(n,e){const t=vt(n);e?(t.L_.delete(2),yield vT(t)):e||(t.L_.add(2),yield ew(t),t.q_.set("Unknown"))}),pF.apply(this,arguments)}function iw(n){return n.K_||(n.K_=function(t,i,r){const s=vt(t);return s.w_(),new ite(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:cte.bind(null,n),Ro:lte.bind(null,n),mo:ute.bind(null,n),d_:dte.bind(null,n)}),n.B_.push(function(){var e=(0,re.Z)(function*(t){t?(n.K_.s_(),nF(n)?tF(n):n.q_.set("Unknown")):(yield n.K_.stop(),W6(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}class gF{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const o=Date.now()+i,d=new gF(e,t,o,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rw(n,e){if(Wr("AsyncQueue",`${e}: ${n}`),og(n))return new tt(Se.UNAVAILABLE,`${e}: ${n}`);throw n}class sw{constructor(e){this.comparator=e?(t,i)=>e(t,i)||At.comparator(t.key,i.key):(t,i)=>At.comparator(t.key,i.key),this.keyedMap=nT(),this.sortedSet=new Fi(this.comparator)}static emptySet(e){return new sw(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sw)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new sw;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class X6{constructor(){this.W_=new Fi(At.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?0!==e.type&&3===i.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==i.type?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.W_=this.W_.remove(t):1===e.type&&2===i.type?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Vt():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ow{constructor(e,t,i,r,s,o,d,f,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,r,s){const o=[];return t.forEach(d=>{o.push({type:0,doc:d})}),new ow(e,t,sw.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class yte{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class vte{constructor(){this.queries=J6(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,i){const r=vt(t),s=r.queries;r.queries=J6(),s.forEach((o,d)=>{for(const f of d.j_)f.onError(i)})}(this,new tt(Se.ABORTED,"Firestore shutting down"))}}function J6(){return new tm(n=>g3(n),eT)}function yF(){return yF=(0,re.Z)(function*(n,e){const t=vt(n);let i=3;const r=e.query;let s=t.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new yte,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield t.onListen(r,!0);break;case 1:s.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){const d=rw(o,`Initialization of query '${j0(e.query)}' failed`);return void e.onError(d)}t.queries.set(r,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&wF(t)}),yF.apply(this,arguments)}function bF(){return bF=(0,re.Z)(function*(n,e){const t=vt(n),i=e.query;let r=3;const s=t.queries.get(i);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),0===s.j_.length?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}),bF.apply(this,arguments)}function bte(n,e){const t=vt(n);let i=!1;for(const r of e){const o=t.queries.get(r.query);if(o){for(const d of o.j_)d.X_(r)&&(i=!0);o.z_=r}}i&&wF(t)}function wte(n,e,t){const i=vt(n),r=i.queries.get(e);if(r)for(const s of r.j_)s.onError(t);i.queries.delete(e)}function wF(n){n.Y_.forEach(e=>{e.next()})}var EF,eH;(eH=EF||(EF={})).ea="default",eH.Cache="cache";class IF{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new ow(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=ow.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==EF.Cache}}class iH{constructor(e){this.key=e}}class rH{constructor(e){this.key=e}}class sH{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=vn(),this.mutatedKeys=vn(),this.Aa=y3(e),this.Ra=new sw(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new X6,r=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,g="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((b,x)=>{const k=r.get(b),N=tT(this.query,x)?x:null,V=!!k&&this.mutatedKeys.has(k.key),$=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let W=!1;k&&N?k.data.isEqual(N.data)?V!==$&&(i.track({type:3,doc:N}),W=!0):this.ga(k,N)||(i.track({type:2,doc:N}),W=!0,(f&&this.Aa(N,f)>0||g&&this.Aa(N,g)<0)&&(d=!0)):!k&&N?(i.track({type:0,doc:N}),W=!0):k&&!N&&(i.track({type:1,doc:k}),W=!0,(f||g)&&(d=!0)),W&&(N?(o=o.add(N),s=$?s.add(b):s.delete(b)):(o=o.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const b="F"===this.query.limitType?o.last():o.first();o=o.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{Ra:o,fa:i,ns:d,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((b,x)=>function(N,V){const $=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt()}};return $(N)-$(V)}(b.type,x.type)||this.Aa(b.doc,x.doc)),this.pa(i),r=null!=r&&r;const d=t&&!r?this.ya():[],f=0===this.da.size&&this.current&&!r?1:0,g=f!==this.Ea;return this.Ea=f,0!==o.length||g?{snapshot:new ow(this.query,e.Ra,s,o,e.mutatedKeys,0===f,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new X6,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=vn(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const t=[];return e.forEach(i=>{this.da.has(i)||t.push(new rH(i))}),this.da.forEach(i=>{e.has(i)||t.push(new iH(i))}),t}ba(e){this.Ta=e.Ts,this.da=vn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ow.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class xte{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Tte{constructor(e){this.key=e,this.va=!1}}class Cte{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new tm(d=>g3(d),eT),this.Ma=new Map,this.xa=new Set,this.Oa=new Fi(At.comparator),this.Na=new Map,this.La=new FN,this.Ba={},this.ka=new Map,this.qa=Oy.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Ate(n,e){return xF.apply(this,arguments)}function xF(){return xF=(0,re.Z)(function*(n,e,t=!0){const i=ZM(n);let r;const s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield oH(i,e,t,!0),r}),xF.apply(this,arguments)}function Ste(n,e){return TF.apply(this,arguments)}function TF(){return TF=(0,re.Z)(function*(n,e){const t=ZM(n);yield oH(t,e,!0,!1)}),TF.apply(this,arguments)}function oH(n,e,t,i){return CF.apply(this,arguments)}function CF(){return CF=(0,re.Z)(function*(n,e,t,i){const r=yield function X0(n,e){const t=vt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(s=>s?(r=s,_e.resolve(r)):t.Ur.allocateTargetId(i).next(o=>(r=new im(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.os.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}(n.localStore,Ao(e)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let d;return i&&(d=yield function AF(n,e,t,i,r){return SF.apply(this,arguments)}(n,e,s,"current"===o,r.resumeToken)),n.isPrimaryClient&&t&&WM(n.remoteStore,r),d}),CF.apply(this,arguments)}function SF(){return SF=(0,re.Z)(function*(n,e,t,i,r){n.Ka=(x,k,N)=>{return(V=(0,re.Z)(function*(W,Te,Ne,Pe){let Ze=Te.view.ma(Ne);Ze.ns&&(Ze=yield zM(W.localStore,Te.query,!1).then(({documents:G})=>Te.view.ma(G,Ze)));const yt=Pe&&Pe.targetChanges.get(Te.targetId),mt=Pe&&null!=Pe.targetMismatches.get(Te.targetId),ee=Te.view.applyChanges(Ze,W.isPrimaryClient,yt,mt);return BF(W,Te.targetId,ee.wa),ee.snapshot}),function $(W,Te,Ne,Pe){return V.apply(this,arguments)})(n,x,k,N);var V};const s=yield zM(n.localStore,e,!0),o=new sH(e,s.Ts),d=o.ma(s.documents),f=cT.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),g=o.applyChanges(d,n.isPrimaryClient,f);BF(n,t,g.wa);const b=new xte(e,t,o);return n.Fa.set(e,b),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),g.snapshot}),SF.apply(this,arguments)}function Dte(n,e,t){return DF.apply(this,arguments)}function DF(){return DF=(0,re.Z)(function*(n,e,t){const i=vt(n),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!eT(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield J0(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&tw(i.remoteStore,r.targetId),aw(i,r.targetId)}).catch(sg))):(aw(i,r.targetId),yield J0(i.localStore,r.targetId,!0))}),DF.apply(this,arguments)}function Mte(n,e){return MF.apply(this,arguments)}function MF(){return MF=(0,re.Z)(function*(n,e){const t=vt(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&1===r.length&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),tw(t.remoteStore,i.targetId))}),MF.apply(this,arguments)}function aH(n,e){return RF.apply(this,arguments)}function RF(){return RF=(0,re.Z)(function*(n,e){const t=vt(n);try{const i=yield function Kee(n,e){const t=vt(n),i=e.snapshotVersion;let r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;const d=[];e.targetChanges.forEach((b,x)=>{const k=r.get(x);if(!k)return;d.push(t.Ur.removeMatchingKeys(s,b.removedDocuments,x).next(()=>t.Ur.addMatchingKeys(s,b.addedDocuments,x)));let N=k.withSequenceNumber(s.currentSequenceNumber);var $,W,Te;null!==e.targetMismatches.get(x)?N=N.withResumeToken(Rr.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,i)),r=r.insert(x,N),W=N,Te=b,(0===($=k).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0)&&d.push(t.Ur.updateTargetData(s,N))});let f=Fa(),g=vn();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(function L6(n,e,t){let i=vn(),r=vn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Fa();return t.forEach((d,f)=>{const g=s.get(d);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(qt.min())?(e.removeEntry(d,f.readTime),o=o.insert(d,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(f),o=o.insert(d,f)):et("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",f.version)}),{Ps:o,Is:r}})}(s,o,e.documentUpdates).next(b=>{f=b.Ps,g=b.Is})),!i.isEqual(qt.min())){const b=t.Ur.getLastRemoteSnapshotVersion(s).next(x=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return _e.waitFor(d).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,g)).next(()=>f)}).then(s=>(t.os=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const o=t.Na.get(s);o&&(jt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?jt(o.va):r.removedDocuments.size>0&&(jt(o.va),o.va=!1))}),yield rm(t,i,e)}catch(i){yield sg(i)}}),RF.apply(this,arguments)}function cH(n,e,t){const i=vt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.Fa.forEach((s,o)=>{const d=o.view.Z_(e);d.snapshot&&r.push(d.snapshot)}),function(o,d){const f=vt(o);f.onlineState=d;let g=!1;f.queries.forEach((b,x)=>{for(const k of x.j_)k.Z_(d)&&(g=!0)}),g&&wF(f)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Rte(n,e,t){return PF.apply(this,arguments)}function PF(){return PF=(0,re.Z)(function*(n,e,t){const i=vt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Na.get(e),s=r&&r.key;if(s){let o=new Fi(At.comparator);o=o.insert(s,$i.newNoDocument(s,qt.min()));const d=vn().add(s),f=new aT(qt.min(),new Map,new Fi(fn),o,d);yield aH(i,f),i.Oa=i.Oa.remove(s),i.Na.delete(e),UF(i)}else yield J0(i.localStore,e,!1).then(()=>aw(i,e,t)).catch(sg)}),PF.apply(this,arguments)}function aw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||lH(n,i)})}function lH(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(tw(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),UF(n))}function BF(n,e,t){for(const i of t)i instanceof iH?(n.La.addReference(i.key,e),Fte(n,i)):i instanceof rH?(et("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||lH(n,i.key)):Vt()}function Fte(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(et("SyncEngine","New document in limbo: "+t),n.xa.add(i),UF(n))}function UF(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new At(Bn.fromString(e)),i=n.qa.next();n.Na.set(i,new Tte(t)),n.Oa=n.Oa.insert(t,i),WM(n.remoteStore,new im(Ao(B0(t.path)),i,"TargetPurposeLimboResolution",Nc.oe))}}function rm(n,e,t){return jF.apply(this,arguments)}function jF(){return jF=(0,re.Z)(function*(n,e,t){const i=vt(n),r=[],s=[],o=[];var d;i.Fa.isEmpty()||(i.Fa.forEach((d,f)=>{o.push(i.Ka(f,e,t).then(g=>{var b;if((g||t)&&i.isPrimaryClient){const x=g?!g.fromCache:null===(b=t?.targetChanges.get(f.targetId))||void 0===b?void 0:b.current;i.sharedClientState.updateQueryState(f.targetId,x?"current":"not-current")}if(g){r.push(g);const x=jN.Wi(f.targetId,g);s.push(x)}}))}),yield Promise.all(o),i.Ca.d_(r),yield(d=(0,re.Z)(function*(g,b){const x=vt(g);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>_e.forEach(b,N=>_e.forEach(N.$i,V=>x.persistence.referenceDelegate.addReference(k,N.targetId,V)).next(()=>_e.forEach(N.Ui,V=>x.persistence.referenceDelegate.removeReference(k,N.targetId,V)))))}catch(k){if(!og(k))throw k;et("LocalStore","Failed to update sequence numbers: "+k)}for(const k of b){const N=k.targetId;if(!k.fromCache){const V=x.os.get(N),W=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);x.os=x.os.insert(N,W)}}}),function f(g,b){return d.apply(this,arguments)})(i.localStore,s))}),jF.apply(this,arguments)}function Lte(n,e){return zF.apply(this,arguments)}function zF(){return zF=(0,re.Z)(function*(n,e){const t=vt(n);if(!t.currentUser.isEqual(e)){et("SyncEngine","User change. New user:",e.toKey());const i=yield N6(t.localStore,e);t.currentUser=e,(s=t).ka.forEach(d=>{d.forEach(f=>{f.reject(new tt(Se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ka.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield rm(t,i.hs)}var s}),zF.apply(this,arguments)}function Vte(n,e){const t=vt(n),i=t.Na.get(e);if(i&&i.va)return vn().add(i.key);{let r=vn();const s=t.Ma.get(e);if(!s)return r;for(const o of s){const d=t.Fa.get(o);r=r.unionWith(d.view.Va)}return r}}function ZM(n){const e=vt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rte.bind(null,e),e.Ca.d_=bte.bind(null,e.eventManager),e.Ca.$a=wte.bind(null,e.eventManager),e}let YM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var i=this;return(0,re.Z)(function*(){i.serializer=yT(t.databaseInfo.databaseId),i.sharedClientState=i.Wa(t),i.persistence=i.Ga(t),yield i.persistence.start(),i.localStore=i.za(t),i.gcScheduler=i.ja(t,i.localStore),i.indexBackfillerScheduler=i.Ha(t,i.localStore)})()}ja(t,i){return null}Ha(t,i){return null}za(t){return function O6(n,e,t,i){return new qee(n,e,t,i)}(this.persistence,new P6,t.initialUser,this.serializer)}Ga(t){return new LN(BM.Zr,this.serializer)}Wa(t){return new H6}terminate(){var t=this;return(0,re.Z)(function*(){var i,r;null===(i=t.gcScheduler)||void 0===i||i.stop(),null===(r=t.indexBackfillerScheduler)||void 0===r||r.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})(),cw=(()=>{class n{initialize(t,i){var r=this;return(0,re.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(i),r.remoteStore=r.createRemoteStore(i),r.eventManager=r.createEventManager(i),r.syncEngine=r.createSyncEngine(i,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>cH(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=Lte.bind(null,r.syncEngine),yield function mF(n,e){return pF.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new vte}createDatastore(t){const i=yT(t.databaseInfo.databaseId),r=new tte(t.databaseInfo);return new ste(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return r=this.localStore,s=this.datastore,o=t.asyncQueue,d=i=>cH(this.syncEngine,i,0),f=$6.D()?new $6:new Xee,new ate(r,s,o,d,f);var r,s,o,d,f}createSyncEngine(t,i){return function(s,o,d,f,g,b,x){const k=new Cte(s,o,d,f,g,b);return x&&(k.Qa=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){var t=this;return(0,re.Z)(function*(){var i,r,s;yield(s=(0,re.Z)(function*(d){const f=vt(d);et("RemoteStore","RemoteStore shutting down."),f.L_.add(5),yield ew(f),f.k_.shutdown(),f.q_.set("Unknown")}),function o(d){return s.apply(this,arguments)})(t.remoteStore),null===(i=t.datastore)||void 0===i||i.terminate(),null===(r=t.eventManager)||void 0===r||r.terminate()})()}}return n.provider={build:()=>new n},n})();class QM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Qte{constructor(e,t,i,r,s){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=js.UNAUTHENTICATED,this.clientId=Tz.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,function(){var d=(0,re.Z)(function*(f){et("FirestoreClient","Received user=",f.uid),yield o.authCredentialListener(f),o.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(et("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,re.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=rw(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function QF(n,e){return XF.apply(this,arguments)}function XF(){return XF=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,re.Z)(function*(s){i.isEqual(s)||(yield N6(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),XF.apply(this,arguments)}function pH(n,e){return JF.apply(this,arguments)}function JF(){return JF=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function eL(n){return tL.apply(this,arguments)}(n);et("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Q6(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>Q6(e.remoteStore,r)),n._onlineComponents=e}),JF.apply(this,arguments)}function tL(){return tL=(0,re.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){et("FirestoreClient","Using user provided OfflineComponentProvider");try{yield QF(n,n._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(r=e).name?r.code===Se.FAILED_PRECONDITION||r.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw e;bl("Error using user provided cache. Falling back to memory cache: "+e),yield QF(n,new YM)}}else et("FirestoreClient","Using default OfflineComponentProvider"),yield QF(n,new YM);var r;return n._offlineComponents}),tL.apply(this,arguments)}function nL(){return nL=(0,re.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(et("FirestoreClient","Using user provided OnlineComponentProvider"),yield pH(n,n._uninitializedComponentsProvider._online)):(et("FirestoreClient","Using default OnlineComponentProvider"),yield pH(n,new cw))),n._onlineComponents}),nL.apply(this,arguments)}function uw(n){return rL.apply(this,arguments)}function rL(){return rL=(0,re.Z)(function*(n){const e=yield function XM(n){return nL.apply(this,arguments)}(n),t=e.eventManager;return t.onListen=Ate.bind(null,e.syncEngine),t.onUnlisten=Dte.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Ste.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Mte.bind(null,e.syncEngine),t}),rL.apply(this,arguments)}function wH(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const EH=new Map;function On(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new tt(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function JM(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":Vt()}(n);throw new tt(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class CH{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function lne(n,e,t,i){if(!0===e&&!0===i)throw new tt(Se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=wH(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new tt(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new tt(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new tt(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bT{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CH({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new tt(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CH(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new JX;switch(i.type){case"firstParty":return new iJ(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new tt(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return(0,re.Z)(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=EH.get(t);i&&(et("ComponentProvider","Removing Datastore"),EH.delete(t),i.terminate())}(this),Promise.resolve()}}class oo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new oo(this.firestore,e,this._query)}}class Zr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ph(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zr(this.firestore,e,this._key)}}class ph extends oo{constructor(e,t,i){super(e,t,B0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zr(this.firestore,null,new At(e))}withConverter(e){return new ph(this.firestore,e,this._path)}}class SH{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new QN(this,"async_queue_retry"),this.Vu=()=>{const i=qM();i&&et("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=qM();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=qM();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new zs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return(0,re.Z)(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!og(t))throw t;et("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(i=>{throw this.Eu=i,this.du=!1,Wr("INTERNAL UNHANDLED ERROR: ",function(o){let d=o.message||"";return o.stack&&(d=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),d}(i)),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=gF.createAndSchedule(this,e,t,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&Vt()}verifyOperationInProgress(){}wu(){var e=this;return(0,re.Z)(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function oL(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class Si extends bT{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new SH,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){var e=this;return(0,re.Z)(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new SH(t),e._firestoreClient=void 0,yield t}})()}}function Er(n){if(n._terminated)throw new tt(Se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||function DH(n){var e,t,i;const r=n._freezeSettings(),s=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new OJ(n._databaseId,f,n._persistenceKey,(b=r).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,wH(b.experimentalLongPollingOptions),b.useFetchStreams));var f,b;n._componentsProvider||!(null===(t=r.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(i=r.localCache)||void 0===i)&&i._onlineComponentProvider&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new Qte(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(d){const f=d?._online.build();return{_offline:d?._offline.build(f),_online:f}}(n._componentsProvider))}(n),n._firestoreClient}class Fy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fy(Rr.fromBase64String(e))}catch(t){throw new tt(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fy(Rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dw{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new tt(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cL{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new tt(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new tt(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fn(this._lat,e._lat)||fn(this._long,e._long)}}class e1{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}const _ne=new RegExp("[~\\*/\\[\\]]");function r1(n,e,t,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||o)&&(f+=" (found",s&&(f+=` in field ${i}`),o&&(f+=` in document ${r}`),f+=")"),new tt(Se.INVALID_ARGUMENT,d+n+f)}class pL{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(s1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yne extends pL{data(){return super.data()}}function s1(n,e){return"string"==typeof e?function n1(n,e,t){if(e.search(_ne)>=0)throw r1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dw(...e.split("."))._internalPath}catch{throw r1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof dw?e._internalPath:e._delegate._internalPath}class bne{convertValue(e,t="none"){switch(lg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Vt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ag(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;const s=null===(r=null===(i=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.map(o=>ar(o.doubleValue));return new e1(s)}convertGeoPoint(e){return new cL(ar(e.latitude),ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=vM(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Kx(e));default:return null}}convertTimestamp(e){const t=Xf(e);return new wr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Bn.fromString(e);jt(i6(i));const r=new xy(i.get(1),i.get(3)),s=new At(i.popFirst(5));return r.isEqual(t)||Wr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class Vy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mw extends pL{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new l1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(s1("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class l1 extends mw{data(e={}){return super.data(e)}}class pw{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Vy(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new l1(this._firestore,this._userDataWriter,i.key,i,new Vy(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new tt(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new l1(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Vy(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const f=new l1(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Vy(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,b=-1;return 0!==d.type&&(g=o.indexOf(d.doc.key),o=o.delete(d.doc.key)),1!==d.type&&(o=o.add(d.doc),b=o.indexOf(d.doc.key)),{type:Ene(d.type),doc:f,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ene(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt()}}class yg extends bne{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zr(this.firestore,null,t)}}!function(e,t=!0){k0="10.14.1",hM(new lM("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),d=new Si(new tJ(i.getProvider("auth-internal")),new rJ(i.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new tt(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xy(g.options.projectId,b)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),M0(Ez,"4.7.3",e),M0(Ez,"4.7.3","esm2017")}();var h1=function(){return h1=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},h1.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Fne={includeMetadataChanges:!1};function wL(n,e){return void 0===e&&(e=Fne),new _i.y(function(t){var i=function Ine(n,...e){var t,i,r;n=function QQ(n){return n&&n._delegate?n._delegate:n}(n);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof e[o]||oL(e[o])||(s=e[o],o++);const d={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(oL(e[o])){const x=e[o];e[o]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[o+1]=null===(i=x.error)||void 0===i?void 0:i.bind(x),e[o+2]=null===(r=x.complete)||void 0===r?void 0:r.bind(x)}let f,g,b;if(n instanceof Zr)g=On(n.firestore,Si),b=B0(n._key.path),f={next:x=>{e[o]&&e[o](function yL(n,e,t){const i=t.docs.get(e._key),r=new yg(n);return new mw(n,r,e._key,i,new Vy(t.hasPendingWrites,t.fromCache),e.converter)}(g,n,x))},error:e[o+1],complete:e[o+2]};else{const x=On(n,oo);g=On(x.firestore,Si),b=x._query;const k=new yg(g);f={next:N=>{e[o]&&e[o](new pw(g,k,x,N))},error:e[o+1],complete:e[o+2]},function jH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new tt(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(k,N,V,$){const W=new QM($),Te=new IF(N,W,V);return k.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function _F(n,e){return yF.apply(this,arguments)}(yield uw(k),Te)})),()=>{W.Za(),k.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function vF(n,e){return bF.apply(this,arguments)}(yield uw(k),Te)}))}}(Er(g),b,d,f)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function Vne(n,e){return void 0===e&&(e={}),function Lne(n){return wL(n,{includeMetadataChanges:!0})}(n).pipe((0,kt.U)(function(t){return YH(t,e)}))}function YH(n,e){var t;void 0===e&&(e={});var i=n.data(e);return n.exists()&&"object"==typeof i&&null!==i&&e.idField?h1(h1({},i),((t={})[e.idField]=n.id,t)):i}function $ne(n,e){return void 0===e&&(e={}),function Hne(n){return wL(n,{includeMetadataChanges:!0}).pipe((0,kt.U)(function(e){return e.docs}))}(n).pipe((0,kt.U)(function(t){return t.map(function(i){return YH(i,e)})}))}class f1{constructor(e){return e}}const Yne=(0,Qn.u3)($ne,!0),Qne=(0,Qn.u3)(Vne,!0),Xne=(0,Qn.u3)(H,!0),Jne=(0,Qn.u3)(Y_,!0),eie=(0,Qn.u3)(L,!0),TL=(0,Qn.u3)(Lp,!0),tie=(0,Qn.u3)(R,!0);let nie=(()=>{const e=class{constructor(i){this.firestore=i,this.coursCollection=Jne(this.firestore,"cours")}getCours(){return Yne(this.coursCollection,{idField:"id"})}getCoursById(i){const r=TL(this.firestore,`cours/${i}`);return Qne(r,{idField:"id"})}addCours(i){return Xne(this.coursCollection,i)}updateCours(i,r){const s=TL(this.firestore,`cours/${i}`);return tie(s,r)}deleteCours(i){const r=TL(this.firestore,`cours/${i}`);return eie(r)}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.LFG(f1))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();function iie(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit,s=l.oxw();return l.KtG(s.supprimerCours(r.id))}),l._uU(1,"Supprimer"),l.qZA()}}function rie(n,e){if(1&n&&(l.TgZ(0,"a",9),l._uU(1,"Voir PDF"),l.qZA()),2&n){const t=l.oxw().$implicit,i=l.oxw();l.Q6J("href",i.getPdfUrl(t.pdf),l.LSH)}}function sie(n,e){if(1&n&&(l.TgZ(0,"li")(1,"span")(2,"strong"),l._uU(3,"ID:"),l.qZA(),l._uU(4),l.qZA(),l.YNc(5,iie,2,0,"button",7),l.YNc(6,rie,2,1,"a",8),l.qZA()),2&n){const t=e.$implicit;l.xp6(4),l.lnq(" ",t.id," - ",t.nom," - ",t.classe,""),l.xp6(1),l.Q6J("ngIf",t.id),l.xp6(1),l.Q6J("ngIf",t.pdf)}}const oie=[{path:"",redirectTo:"enseignants",pathMatch:"full"},{path:"enseignants",component:tW},{path:"layout",component:Xj},{path:"dashboard",component:bQ},{path:"chatbot",component:EQ},{path:"cour",component:(()=>{const e=class{constructor(i){this.coursService=i,this.newCours={nom:"",classe:"",pdf:null}}onFileSelected(i){throw new Error("Method not implemented.")}ngOnInit(){this.coursList$=this.coursService.getCours()}ajouterCours(){this.newCours.nom.trim()&&this.newCours.classe.trim()&&this.coursService.addCours(this.newCours).then(()=>{this.newCours={nom:"",classe:""}})}supprimerCours(i){this.coursService.deleteCours(i)}getPdfUrl(i){return i instanceof File?URL.createObjectURL(i):"string"==typeof i?i:""}};let n=e;return e.\u0275fac=function(r){return new(r||e)(l.Y36(nie))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-cours"]],decls:12,vars:5,consts:[[1,"container"],[1,"form"],["type","text","placeholder","Nom du cours",3,"ngModel","ngModelChange"],["type","text","placeholder","Classe",3,"ngModel","ngModelChange"],["type","file","accept","application/pdf",3,"change"],[3,"click"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"]],template:function(r,s){1&r&&(l.TgZ(0,"div",0)(1,"h2"),l._uU(2,"Gestion des Cours"),l.qZA(),l.TgZ(3,"div",1)(4,"input",2),l.NdJ("ngModelChange",function(d){return s.newCours.nom=d}),l.qZA(),l.TgZ(5,"input",3),l.NdJ("ngModelChange",function(d){return s.newCours.classe=d}),l.qZA(),l.TgZ(6,"input",4),l.NdJ("change",function(d){return s.onFileSelected(d)}),l.qZA(),l.TgZ(7,"button",5),l.NdJ("click",function(){return s.ajouterCours()}),l._uU(8,"Ajouter"),l.qZA()(),l.TgZ(9,"ul"),l.YNc(10,sie,7,5,"li",6),l.ALo(11,"async"),l.qZA()()),2&r&&(l.xp6(4),l.Q6J("ngModel",s.newCours.nom),l.xp6(1),l.Q6J("ngModel",s.newCours.classe),l.xp6(5),l.Q6J("ngForOf",l.lcZ(11,3,s.coursList$)))},dependencies:[ho,Vr,Wp,c0,ox,fa],styles:[".container[_ngcontent-%COMP%]{max-width:400px;margin:auto;text-align:center}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;margin-bottom:20px}input[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:5px}button[_ngcontent-%COMP%]{padding:8px;background-color:#007bff;color:#fff;border:none;cursor:pointer}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-bottom:1px solid #ddd}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]}),n})()},{path:"students",component:fW},{path:"timetable",component:gW}];let aie=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[c4.forRoot(oie),c4]}),n})(),cie=(()=>{const e=class{constructor(){this.title="firestore-crud-app"}};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(r,s){1&r&&l._UZ(0,"router-outlet")(1,"app-layout")},dependencies:[SD,Xj]}),n})();function t$(n){return new l.vHH(3e3,!1)}function Hie(){return typeof window<"u"&&typeof window.document<"u"}function CL(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function vg(n){switch(n.length){case 0:return new Nx;case 1:return n[0];default:return new X4(n)}}function n$(n,e,t,i,r=new Map,s=new Map){const o=[],d=[];let f=-1,g=null;if(i.forEach(b=>{const x=b.get("offset"),k=x==f,N=k&&g||new Map;b.forEach((V,$)=>{let W=$,Te=V;if("offset"!==$)switch(W=e.normalizePropertyName(W,o),Te){case NO:Te=r.get($);break;case Kf:Te=s.get($);break;default:Te=e.normalizeStyleValue($,W,Te,o)}N.set(W,Te)}),k||d.push(N),g=N,f=x}),o.length)throw function kie(n){return new l.vHH(3502,!1)}();return d}function AL(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&SL(t,"start",n)));break;case"done":n.onDone(()=>i(t&&SL(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&SL(t,"destroy",n)))}}function SL(n,e,t){const s=DL(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function DL(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Fc(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function i$(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let ML=(n,e)=>!1,r$=(n,e,t)=>[],s$=null;function kL(n){const e=n.parentNode||n.host;return e===s$?null:e}(CL()||typeof Element<"u")&&(Hie()?(s$=(()=>document.documentElement)(),ML=(n,e)=>{for(;e;){if(e===n)return!0;e=kL(e)}return!1}):ML=(n,e)=>n.contains(e),r$=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let By=null,o$=!1;const a$=ML,c$=r$;let l$=(()=>{class n{validateStyleProperty(t){return function Gie(n){By||(By=function qie(){return typeof document<"u"?document.body:null}()||{},o$=!!By.style&&"WebkitAppearance"in By.style);let e=!0;return By.style&&!function $ie(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in By.style,!e&&o$&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in By.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return a$(t,i)}getParentElement(t){return kL(t)}query(t,i,r){return c$(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,d=[],f){return new Nx(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),RL=(()=>{class n{}return n.NOOP=new l$,n})();const Wie=1e3,PL="ng-enter",m1="ng-leave",p1="ng-trigger",g1=".ng-trigger",d$="ng-animating",OL=".ng-animating";function sm(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:NL(parseFloat(e[1]),e[2])}function NL(n,e){return"s"===e?n*Wie:n}function _1(n,e,t){return n.hasOwnProperty("duration")?n:function Zie(n,e,t){let r,s=0,o="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(t$()),{duration:0,delay:0,easing:""};r=NL(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(s=NL(parseFloat(f),d[4]));const g=d[5];g&&(o=g)}else r=n;if(!t){let d=!1,f=e.length;r<0&&(e.push(function lie(){return new l.vHH(3100,!1)}()),d=!0),s<0&&(e.push(function uie(){return new l.vHH(3101,!1)}()),d=!0),d&&e.splice(f,0,t$())}return{duration:r,delay:s,easing:o}}(n,e,t)}function CT(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function h$(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function bg(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function m$(n,e,t){return t?e+":"+t+";":""}function p$(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=m$(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=m$(0,Jie(t),n.style[t]));n.setAttribute("style",e)}function gh(n,e,t){n.style&&(e.forEach((i,r)=>{const s=LL(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),CL()&&p$(n))}function Uy(n,e){n.style&&(e.forEach((t,i)=>{const r=LL(i);n.style[r]=""}),CL()&&p$(n))}function AT(n){return Array.isArray(n)?1==n.length?n[0]:Y4(n):n}const FL=new RegExp("{{\\s*(.+?)\\s*}}","g");function g$(n){let e=[];if("string"==typeof n){let t;for(;t=FL.exec(n);)e.push(t[1]);FL.lastIndex=0}return e}function ST(n,e,t){const i=n.toString(),r=i.replace(FL,(s,o)=>{let d=e[o];return null==d&&(t.push(function hie(n){return new l.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function y1(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Xie=/-+([a-z0-9])/g;function LL(n){return n.replace(Xie,(...e)=>e[1].toUpperCase())}function Jie(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Lc(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function fie(n){return new l.vHH(3004,!1)}()}}function _$(n,e){return window.getComputedStyle(n)[e]}const w1="*";function sre(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function ore(n,e,t){if(":"==n[0]){const f=function are(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Aie(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof f)return void e.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Cie(n){return new l.vHH(3015,!1)}()),e;const r=i[1],s=i[2],o=i[3];e.push(y$(r,o));"<"==s[0]&&!(r==w1&&o==w1)&&e.push(y$(o,r))}(i,t,e)):t.push(n),t}const E1=new Set(["true","1"]),I1=new Set(["false","0"]);function y$(n,e){const t=E1.has(n)||I1.has(n),i=E1.has(e)||I1.has(e);return(r,s)=>{let o=n==w1||n==r,d=e==w1||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?E1.has(n):I1.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?E1.has(e):I1.has(e)),o&&d}}const cre=new RegExp("s*:selfs*,?","g");function VL(n,e,t,i){return new lre(n).build(e,t,i)}class lre{constructor(e){this._driver=e}build(e,t,i){const r=new hre(t);return this._resetContextStyleTimingState(r),Lc(this,AT(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function pie(){return new l.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const f=d,g=f.name;g.toString().split(/\s*,\s*/).forEach(b=>{f.name=b,s.push(this.visitState(f,t))}),f.name=g}else if(1==d.type){const f=this.visitTransition(d,t);i+=f.queryCount,r+=f.depCount,o.push(f)}else t.errors.push(function gie(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(f=>{g$(f).forEach(g=>{o.hasOwnProperty(g)||s.add(g)})})}),s.size&&(y1(s.values()),t.errors.push(function _ie(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Lc(this,AT(e.animation),t);return{type:1,matchers:sre(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:jy(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Lc(this,i,t)),options:jy(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const d=Lc(this,o,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:s,options:jy(e.options)}}visitAnimate(e,t){const i=function mre(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return BL(_1(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=BL(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=_1(t,e);return BL(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Zf({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,d=!1;if(!o){d=!0;const g={};i.easing&&(g.easing=i.easing),o=Zf(g)}t.currentTime+=i.duration+i.delay;const f=this.visitStyle(o,t);f.isEmptyStep=d,r=f}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of r)"string"==typeof d?d===Kf?i.push(d):t.errors.push(new l.vHH(3002,!1)):i.push(h$(d));let s=!1,o=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(o=d.get("easing"),d.delete("easing")),!s))for(let f of d.values())if(f.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((d,f)=>{const g=t.collectedStyles.get(t.currentQuerySelector),b=g.get(f);let x=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(t.errors.push(function vie(n,e,t,i,r){return new l.vHH(3010,!1)}()),x=!1),s=b.startTime),x&&g.set(f,{startTime:s,endTime:r}),t.options&&function Qie(n,e,t){const i=e.params||{},r=g$(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function die(n){return new l.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function bie(){return new l.vHH(3011,!1)}()),i;let s=0;const o=[];let d=!1,f=!1,g=0;const b=e.steps.map(Te=>{const Ne=this._makeStyleAst(Te,t);let Pe=null!=Ne.offset?Ne.offset:function fre(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ne.styles),Ze=0;return null!=Pe&&(s++,Ze=Ne.offset=Pe),f=f||Ze<0||Ze>1,d=d||Ze<g,g=Ze,o.push(Ze),Ne});f&&t.errors.push(function wie(){return new l.vHH(3012,!1)}()),d&&t.errors.push(function Eie(){return new l.vHH(3200,!1)}());const x=e.steps.length;let k=0;s>0&&s<x?t.errors.push(function Iie(){return new l.vHH(3202,!1)}()):0==s&&(k=1/(x-1));const N=x-1,V=t.currentTime,$=t.currentAnimateTimings,W=$.duration;return b.forEach((Te,Ne)=>{const Pe=k>0?Ne==N?1:k*Ne:o[Ne],Ze=Pe*W;t.currentTime=V+$.delay+Ze,$.duration=Ze,this._validateStyleAst(Te,t),Te.offset=Pe,i.styles.push(Te)}),i}visitReference(e,t){return{type:8,animation:Lc(this,AT(e.animation),t),options:jy(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:jy(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:jy(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function ure(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(cre,"")),n=n.replace(/@\*/g,g1).replace(/@\w+/g,t=>g1+"-"+t.slice(1)).replace(/:animating/g,OL),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Fc(t.collectedStyles,t.currentQuerySelector,new Map);const d=Lc(this,AT(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:d,originalSelector:e.selector,options:jy(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function xie(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:_1(e.timings,t.errors,!0);return{type:12,animation:Lc(this,AT(e.animation),t),timings:i,options:null}}}class hre{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jy(n){return n?(n=CT(n)).params&&(n.params=function dre(n){return n?CT(n):null}(n.params)):n={},n}function BL(n,e,t){return{duration:n,delay:e,easing:t}}function UL(n,e,t,i,r,s,o=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:d}}class x1{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const _re=new RegExp(":enter","g"),vre=new RegExp(":leave","g");function jL(n,e,t,i,r,s=new Map,o=new Map,d,f,g=[]){return(new bre).buildKeyframes(n,e,t,i,r,s,o,d,f,g)}class bre{buildKeyframes(e,t,i,r,s,o,d,f,g,b=[]){g=g||new x1;const x=new zL(e,t,g,r,s,b,[]);x.options=f;const k=f.delay?sm(f.delay):0;x.currentTimeline.delayNextStep(k),x.currentTimeline.setStyles([o],null,x.errors,f),Lc(this,i,x);const N=x.timelines.filter(V=>V.containsAnimation());if(N.length&&d.size){let V;for(let $=N.length-1;$>=0;$--){const W=N[$];if(W.element===t){V=W;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([d],null,x.errors,f)}return N.length?N.map(V=>V.buildKeyframes()):[UL(t,[],[],[],0,k,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const o="number"==typeof s?s:sm(ST(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?sm(i.duration):null,d=null!=i.delay?sm(i.delay):null;return 0!==o&&e.forEach(f=>{const g=t.appendInstructionToTimeline(f,o,d);s=Math.max(s,g.duration+g.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Lc(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=T1);const o=sm(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Lc(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?sm(e.options.delay):0;e.steps.forEach(o=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),Lc(this,o,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return _1(t.params?ST(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(f=>{d.forwardTime((f.offset||0)*s),d.setStyles(f.styles,f.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?sm(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=T1);let o=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let f=null;d.forEach((g,b)=>{t.currentQueryIndex=b;const x=t.createSubContext(e.options,g);s&&x.delayNextStep(s),g===t.element&&(f=x.currentTimeline),Lc(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),f&&(t.currentTimeline.mergeTimelineCollectedStyles(f),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),d=o*(t.currentQueryTotal-1);let f=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const b=t.currentTimeline;f&&b.delayNextStep(f);const x=b.currentTime;Lc(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-x+(r.startTime-i.currentTimeline.startTime)}}const T1={};class zL{constructor(e,t,i,r,s,o,d,f){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=T1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new C1(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=sm(i.duration)),null!=i.delay&&(r.delay=sm(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!o.hasOwnProperty(d))&&(o[d]=ST(s[d],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new zL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=T1,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new wre(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(_re,"."+this._enterClassName)).replace(vre,"."+this._leaveClassName);let g=this._driver.query(this.element,e,1!=i);0!==i&&(g=i<0?g.slice(g.length+i,g.length):g.slice(0,i)),d.push(...g)}return!s&&0==d.length&&o.push(function Tie(n){return new l.vHH(3014,!1)}()),d}}class C1{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new C1(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Kf),this._currentKeyframe.set(t,Kf);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function Ere(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Kf)}else bg(r,t)}),t}(e,this._globalTimelineStyles);for(let[d,f]of o){const g=ST(f,s,i);this._pendingStyles.set(d,g),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Kf),this._updateStyle(d,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const g=bg(d,new Map,this._backFill);g.forEach((b,x)=>{b===NO?e.add(x):b===Kf&&t.add(x)}),i||g.set("offset",f/this.duration),r.push(g)});const s=e.size?y1(e.values()):[],o=t.size?y1(t.values()):[];if(i){const d=r[0],f=new Map(d);d.set("offset",0),f.set("offset",1),r=[d,f]}return UL(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class wre extends C1{constructor(e,t,i,r,s,o,d=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,d=t/o,f=bg(e[0]);f.set("offset",0),s.push(f);const g=bg(e[0]);g.set("offset",w$(d)),s.push(g);const b=e.length-1;for(let x=1;x<=b;x++){let k=bg(e[x]);const N=k.get("offset");k.set("offset",w$((t+N*i)/o)),s.push(k)}i=o,t=0,r="",e=s}return UL(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function w$(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class HL{}const Ire=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class xre extends HL{normalizePropertyName(e,t){return LL(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(Ire.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function mie(n,e){return new l.vHH(3005,!1)}())}return o+s}}function E$(n,e,t,i,r,s,o,d,f,g,b,x,k){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:d,queriedElements:f,preStyleProps:g,postStyleProps:b,totalTime:x,errors:k}}const $L={};class I${constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Tre(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,d,f,g,b){const x=[],k=this.ast.options&&this.ast.options.params||$L,V=this.buildStyles(i,d&&d.params||$L,x),$=f&&f.params||$L,W=this.buildStyles(r,$,x),Te=new Set,Ne=new Map,Pe=new Map,Ze="void"===r,yt={params:Cre($,k),delay:this.ast.options?.delay},mt=b?[]:jL(e,t,this.ast.animation,s,o,V,W,yt,g,x);let ee=0;if(mt.forEach(Q=>{ee=Math.max(Q.duration+Q.delay,ee)}),x.length)return E$(t,this._triggerName,i,r,Ze,V,W,[],[],Ne,Pe,ee,x);mt.forEach(Q=>{const ce=Q.element,fe=Fc(Ne,ce,new Set);Q.preStyleProps.forEach(X=>fe.add(X));const we=Fc(Pe,ce,new Set);Q.postStyleProps.forEach(X=>we.add(X)),ce!==t&&Te.add(ce)});const G=y1(Te.values());return E$(t,this._triggerName,i,r,Ze,V,W,mt,G,Ne,Pe,ee)}}function Cre(n,e){const t=CT(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Are{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=CT(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,d)=>{o&&(o=ST(o,r,t));const f=this.normalizer.normalizePropertyName(d,t);o=this.normalizer.normalizeStyleValue(d,f,o,t),i.set(d,o)})}),i}}class Dre{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Are(r.style,r.options&&r.options.params||{},i))}),x$(this.states,"true","1"),x$(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new I$(e,r,this.states))}),this.fallbackTransition=function Mre(n,e,t){return new I$(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function x$(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const kre=new x1;class Rre{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],s=VL(this._driver,t,i,r);if(i.length)throw function Rie(n){return new l.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=n$(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let o;const d=new Map;if(s?(o=jL(this._driver,t,s,PL,m1,new Map,new Map,i,kre,r),o.forEach(b=>{const x=Fc(d,b.element,new Map);b.postStyleProps.forEach(k=>x.set(k,null))})):(r.push(function Pie(){return new l.vHH(3300,!1)}()),o=[]),r.length)throw function Oie(n){return new l.vHH(3504,!1)}();d.forEach((b,x)=>{b.forEach((k,N)=>{b.set(N,this._driver.computeStyle(x,N,Kf))})});const g=vg(o.map(b=>{const x=d.get(b.element);return this._buildPlayer(b,new Map,x)}));return this._playersById.set(e,g),g.onDestroy(()=>this.destroy(e)),this.players.push(g),g}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Nie(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=DL(t,"","","");return AL(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const T$="ng-animate-queued",GL="ng-animate-disabled",Lre=[],C$={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wl="__ng_removed";class qL{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function zre(n){return n??null}(i?e.value:e),i){const s=CT(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const DT="void",WL=new qL(DT);class Bre{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,El(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function Fie(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function Lie(n){return new l.vHH(3303,!1)}();if(!function Hre(n){return"start"==n||"done"==n}(i))throw function Vie(n,e){return new l.vHH(3400,!1)}();const s=Fc(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const d=Fc(this._engine.statesByElement,e,new Map);return d.has(t)||(El(e,p1),El(e,p1+"-"+t),d.set(t,WL)),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(o);f>=0&&s.splice(f,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Bie(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new KL(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(El(e,p1),El(e,p1+"-"+t),this._engine.statesByElement.set(e,d=new Map));let f=d.get(t);const g=new qL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&g.absorbOptions(f.options),d.set(t,g),f||(f=WL),g.value!==DT&&f.value===g.value){if(!function qre(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(f.params,g.params)){const $=[],W=s.matchStyles(f.value,f.params,$),Te=s.matchStyles(g.value,g.params,$);$.length?this._engine.reportError($):this._engine.afterFlush(()=>{Uy(e,W),gh(e,Te)})}return}const k=Fc(this._engine.playersByElement,e,[]);k.forEach($=>{$.namespaceId==this.id&&$.triggerName==t&&$.queued&&$.destroy()});let N=s.matchTransition(f.value,g.value,e,g.params),V=!1;if(!N){if(!r)return;N=s.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:N,fromState:f,toState:g,player:o,isFallbackTransition:V}),V||(El(e,T$),o.onStart(()=>{gw(e,T$)})),o.onDone(()=>{let $=this.players.indexOf(o);$>=0&&this.players.splice($,1);const W=this._engine.playersByElement.get(e);if(W){let Te=W.indexOf(o);Te>=0&&W.splice(Te,1)}}),this.players.push(o),k.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,g1,!0);i.forEach(r=>{if(r[wl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const d=[];if(s.forEach((f,g)=>{if(o.set(g,f.value),this._triggers.has(g)){const b=this.trigger(e,g,DT,r);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&vg(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const f=this._triggers.get(o).fallbackTransition,g=i.get(o)||WL,b=new qL(DT),x=new KL(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:f,fromState:g,toState:b,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[wl];(!s||s===C$)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){El(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(d=>{if(d.name==i.triggerName){const f=DL(s,i.triggerName,i.fromState.value,i.toState.value);f._data=e,AL(i.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Ure{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Bre(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,d=this.driver.getParentElement(t);for(;d;){const f=r.get(d);if(f){const g=i.indexOf(f);i.splice(g+1,0,e),o=!0;break}d=this.driver.getParentElement(d)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(A1(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!A1(t))return;const s=t[wl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),El(e,GL)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),gw(e,GL))}removeNode(e,t,i,r){if(A1(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[wl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return A1(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,g1,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,OL,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return vg(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[wl];if(t&&t.setForRemoval){if(e[wl]=C$,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(GL)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)El(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?vg(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Uie(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new x1,r=[],s=new Map,o=[],d=new Map,f=new Map,g=new Map,b=new Set;this.disabledNodes.forEach(zt=>{b.add(zt);const Wt=this.driver.query(zt,".ng-animate-queued",!0);for(let Yt=0;Yt<Wt.length;Yt++)b.add(Wt[Yt])});const x=this.bodyNode,k=Array.from(this.statesByElement.keys()),N=D$(k,this.collectedEnterElements),V=new Map;let $=0;N.forEach((zt,Wt)=>{const Yt=PL+$++;V.set(Wt,Yt),zt.forEach(Nn=>El(Nn,Yt))});const W=[],Te=new Set,Ne=new Set;for(let zt=0;zt<this.collectedLeaveElements.length;zt++){const Wt=this.collectedLeaveElements[zt],Yt=Wt[wl];Yt&&Yt.setForRemoval&&(W.push(Wt),Te.add(Wt),Yt.hasAnimation?this.driver.query(Wt,".ng-star-inserted",!0).forEach(Nn=>Te.add(Nn)):Ne.add(Wt))}const Pe=new Map,Ze=D$(k,Array.from(Te));Ze.forEach((zt,Wt)=>{const Yt=m1+$++;Pe.set(Wt,Yt),zt.forEach(Nn=>El(Nn,Yt))}),e.push(()=>{N.forEach((zt,Wt)=>{const Yt=V.get(Wt);zt.forEach(Nn=>gw(Nn,Yt))}),Ze.forEach((zt,Wt)=>{const Yt=Pe.get(Wt);zt.forEach(Nn=>gw(Nn,Yt))}),W.forEach(zt=>{this.processLeaveNode(zt)})});const yt=[],mt=[];for(let zt=this._namespaceList.length-1;zt>=0;zt--)this._namespaceList[zt].drainQueuedTransitions(t).forEach(Yt=>{const Nn=Yt.player,Yr=Yt.element;if(yt.push(Nn),this.collectedEnterElements.length){const Or=Yr[wl];if(Or&&Or.setForMove){if(Or.previousTriggersValues&&Or.previousTriggersValues.has(Yt.triggerName)){const om=Or.previousTriggersValues.get(Yt.triggerName),La=this.statesByElement.get(Yt.element);if(La&&La.has(Yt.triggerName)){const am=La.get(Yt.triggerName);am.value=om,La.set(Yt.triggerName,am)}}return void Nn.destroy()}}const xl=!x||!this.driver.containsElement(x,Yr),Pr=Pe.get(Yr),Gi=V.get(Yr),qi=this._buildInstruction(Yt,i,Gi,Pr,xl);if(qi.errors&&qi.errors.length)return void mt.push(qi);if(xl)return Nn.onStart(()=>Uy(Yr,qi.fromStyles)),Nn.onDestroy(()=>gh(Yr,qi.toStyles)),void r.push(Nn);if(Yt.isFallbackTransition)return Nn.onStart(()=>Uy(Yr,qi.fromStyles)),Nn.onDestroy(()=>gh(Yr,qi.toStyles)),void r.push(Nn);const Eg=[];qi.timelines.forEach(Or=>{Or.stretchStartingKeyframe=!0,this.disabledNodes.has(Or.element)||Eg.push(Or)}),qi.timelines=Eg,i.append(Yr,qi.timelines),o.push({instruction:qi,player:Nn,element:Yr}),qi.queriedElements.forEach(Or=>Fc(d,Or,[]).push(Nn)),qi.preStyleProps.forEach((Or,om)=>{if(Or.size){let La=f.get(om);La||f.set(om,La=new Set),Or.forEach((am,Ig)=>La.add(Ig))}}),qi.postStyleProps.forEach((Or,om)=>{let La=g.get(om);La||g.set(om,La=new Set),Or.forEach((am,Ig)=>La.add(Ig))})});if(mt.length){const zt=[];mt.forEach(Wt=>{zt.push(function jie(n,e){return new l.vHH(3505,!1)}())}),yt.forEach(Wt=>Wt.destroy()),this.reportError(zt)}const ee=new Map,G=new Map;o.forEach(zt=>{const Wt=zt.element;i.has(Wt)&&(G.set(Wt,Wt),this._beforeAnimationBuild(zt.player.namespaceId,zt.instruction,ee))}),r.forEach(zt=>{const Wt=zt.element;this._getPreviousPlayers(Wt,!1,zt.namespaceId,zt.triggerName,null).forEach(Nn=>{Fc(ee,Wt,[]).push(Nn),Nn.destroy()})});const Q=W.filter(zt=>k$(zt,f,g)),ce=new Map;S$(ce,this.driver,Ne,g,Kf).forEach(zt=>{k$(zt,f,g)&&Q.push(zt)});const we=new Map;N.forEach((zt,Wt)=>{S$(we,this.driver,new Set(zt),f,NO)}),Q.forEach(zt=>{const Wt=ce.get(zt),Yt=we.get(zt);ce.set(zt,new Map([...Array.from(Wt?.entries()??[]),...Array.from(Yt?.entries()??[])]))});const X=[],Il=[],wg={};o.forEach(zt=>{const{element:Wt,player:Yt,instruction:Nn}=zt;if(i.has(Wt)){if(b.has(Wt))return Yt.onDestroy(()=>gh(Wt,Nn.toStyles)),Yt.disabled=!0,Yt.overrideTotalTime(Nn.totalTime),void r.push(Yt);let Yr=wg;if(G.size>1){let Pr=Wt;const Gi=[];for(;Pr=Pr.parentNode;){const qi=G.get(Pr);if(qi){Yr=qi;break}Gi.push(Pr)}Gi.forEach(qi=>G.set(qi,Yr))}const xl=this._buildAnimation(Yt.namespaceId,Nn,ee,s,we,ce);if(Yt.setRealPlayer(xl),Yr===wg)X.push(Yt);else{const Pr=this.playersByElement.get(Yr);Pr&&Pr.length&&(Yt.parentPlayer=vg(Pr)),r.push(Yt)}}else Uy(Wt,Nn.fromStyles),Yt.onDestroy(()=>gh(Wt,Nn.toStyles)),Il.push(Yt),b.has(Wt)&&r.push(Yt)}),Il.forEach(zt=>{const Wt=s.get(zt.element);if(Wt&&Wt.length){const Yt=vg(Wt);zt.setRealPlayer(Yt)}}),r.forEach(zt=>{zt.parentPlayer?zt.syncPlayerEvents(zt.parentPlayer):zt.destroy()});for(let zt=0;zt<W.length;zt++){const Wt=W[zt],Yt=Wt[wl];if(gw(Wt,m1),Yt&&Yt.hasAnimation)continue;let Nn=[];if(d.size){let xl=d.get(Wt);xl&&xl.length&&Nn.push(...xl);let Pr=this.driver.query(Wt,OL,!0);for(let Gi=0;Gi<Pr.length;Gi++){let qi=d.get(Pr[Gi]);qi&&qi.length&&Nn.push(...qi)}}const Yr=Nn.filter(xl=>!xl.destroyed);Yr.length?$re(this,Wt,Yr):this.processLeaveNode(Wt)}return W.length=0,X.forEach(zt=>{this.players.push(zt),zt.onDone(()=>{zt.destroy();const Wt=this.players.indexOf(zt);this.players.splice(Wt,1)}),zt.play()}),X}elementContainsData(e,t){let i=!1;const r=t[wl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(o=d)}else{const d=this.playersByElement.get(e);if(d){const f=!s||s==DT;d.forEach(g=>{g.queued||!f&&g.triggerName!=r||o.push(g)})}}return(i||r)&&(o=o.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const f of t.timelines){const g=f.element,b=g!==s,x=Fc(i,g,[]);this._getPreviousPlayers(g,b,o,d,t.toState).forEach(N=>{const V=N.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),N.destroy(),x.push(N)})}Uy(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const d=t.triggerName,f=t.element,g=[],b=new Set,x=new Set,k=t.timelines.map(V=>{const $=V.element;b.add($);const W=$[wl];if(W&&W.removedBeforeQueried)return new Nx(V.duration,V.delay);const Te=$!==f,Ne=function Gre(n){const e=[];return M$(n,e),e}((i.get($)||Lre).map(ee=>ee.getRealPlayer())).filter(ee=>!!ee.element&&ee.element===$),Pe=s.get($),Ze=o.get($),yt=n$(0,this._normalizer,0,V.keyframes,Pe,Ze),mt=this._buildPlayer(V,yt,Ne);if(V.subTimeline&&r&&x.add($),Te){const ee=new KL(e,d,$);ee.setRealPlayer(mt),g.push(ee)}return mt});g.forEach(V=>{Fc(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function jre(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,V.element,V))}),b.forEach(V=>El(V,d$));const N=vg(k);return N.onDestroy(()=>{b.forEach(V=>gw(V,d$)),gh(f,t.toStyles)}),x.forEach(V=>{Fc(r,V,[]).push(N)}),N}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Nx(e.duration,e.delay)}}class KL{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Nx,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>AL(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Fc(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function A1(n){return n&&1===n.nodeType}function A$(n,e){const t=n.style.display;return n.style.display=e??"none",t}function S$(n,e,t,i,r){const s=[];t.forEach(f=>s.push(A$(f)));const o=[];i.forEach((f,g)=>{const b=new Map;f.forEach(x=>{const k=e.computeStyle(g,x,r);b.set(x,k),(!k||0==k.length)&&(g[wl]=Vre,o.push(g))}),n.set(g,b)});let d=0;return t.forEach(f=>A$(f,s[d++])),o}function D$(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function o(d){if(!d)return i;let f=s.get(d);if(f)return f;const g=d.parentNode;return f=t.has(g)?g:r.has(g)?i:o(g),s.set(d,f),f}return e.forEach(d=>{const f=o(d);f!==i&&t.get(f).push(d)}),t}function El(n,e){n.classList?.add(e)}function gw(n,e){n.classList?.remove(e)}function $re(n,e,t){vg(t).onDone(()=>n.processLeaveNode(e))}function M$(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof X4?M$(i.players,e):e.push(i)}}function k$(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class S1{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Ure(e,t,i),this._timelineEngine=new Rre(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let d=this._triggerCache[o];if(!d){const f=[],g=[],b=VL(this._driver,s,f,g);if(f.length)throw function Mie(n,e){return new l.vHH(3404,!1)}();d=function Sre(n,e,t){return new Dre(n,e,t)}(r,b,this._normalizer),this._triggerCache[o]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=i$(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,d]=i$(i);return this._timelineEngine.listen(o,t,d,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Kre=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&gh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gh(this._element,this._initialStyles),this._endStyles&&(gh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Uy(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Uy(this._element,this._endStyles),this._endStyles=null),gh(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ZL(n){let e=null;return n.forEach((t,i)=>{(function Zre(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class R${constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:_$(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Yre{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return a$(e,t)}getParentElement(e){return kL(e)}query(e,t,i){return c$(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,o=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const g=new Map,b=o.filter(N=>N instanceof R$);(function ere(n,e){return 0===n||0===e})(i,r)&&b.forEach(N=>{N.currentSnapshot.forEach((V,$)=>g.set($,V))});let x=function Yie(n){return n.length?n[0]instanceof Map?n:n.map(e=>h$(e)):[]}(t).map(N=>bg(N));x=function tre(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(d=>o.set(d,_$(n,d)))}}return e}(e,x,g);const k=function Wre(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=ZL(e[0]),e.length>1&&(i=ZL(e[e.length-1]))):e instanceof Map&&(t=ZL(e)),t||i?new Kre(n,t,i):null}(e,x);return new R$(e,x,f,k)}}let Qre=(()=>{class n extends Z4{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Y4(t):t;return P$(this._renderer,null,i,"register",[r]),new Xre(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Xre extends WK{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Jre(this._id,e,t||{},this._renderer)}}class Jre{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return P$(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function P$(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const O$="@.disabled";let ese=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const d=o?.parentNode(s);d&&o.removeChild(d,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new N$("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,b)),b}const o=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const f=b=>{Array.isArray(b)?b.forEach(f):this.engine.registerTrigger(o,d,t,b.name,b)};return i.data.animation.forEach(f),new tse(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,d]=s;o(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(S1),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class N${constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==O$?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class tse extends N${constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==O$?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function nse(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function ise(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let rse=(()=>{class n extends S1{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(RL),l.LFG(HL),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const F$=[{provide:Z4,useClass:Qre},{provide:HL,useFactory:function sse(){return new xre}},{provide:S1,useClass:rse},{provide:l.FYo,useFactory:function ose(n,e,t){return new ese(n,e,t)},deps:[Ps,S1,l.R0b]}],YL=[{provide:RL,useFactory:()=>new Yre},{provide:l.QbO,useValue:"BrowserAnimations"},...F$],L$=[{provide:RL,useClass:l$},{provide:l.QbO,useValue:"NoopAnimations"},...F$];let ase=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?L$:YL}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:YL,imports:[ba]}),n})(),cse=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=l.oAB({type:e,bootstrap:[cie]}),e.\u0275inj=l.cJS({providers:[bO,vO,Jj],imports:[ba,aie,yQ,zj,jZ,ba,u4,vY,JB,y9,jr.hO.initializeApp(v9_firebase),mq,Vj,nZ,Vj,FY,ase]}),n})();Nh().bootstrapModule(cse).catch(n=>console.error(n))},9751:(Ut,$e,U)=>{U.d($e,{y:()=>Fe});var l=U(930),ue=U(727),j=U(8822),Ie=U(9635),xe=U(2416),de=U(576),Ve=U(2806);let Fe=(()=>{class ae{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const pt=new ae;return pt.source=this,pt.operator=Ge,pt}subscribe(Ge,pt,Rt){const Oe=function Y(ae){return ae&&ae instanceof l.Lv||function te(ae){return ae&&(0,de.m)(ae.next)&&(0,de.m)(ae.error)&&(0,de.m)(ae.complete)}(ae)&&(0,ue.Nn)(ae)}(Ge)?Ge:new l.Hp(Ge,pt,Rt);return(0,Ve.x)(()=>{const{operator:Ye,source:Qe}=this;Oe.add(Ye?Ye.call(Oe,Qe):Qe?this._subscribe(Oe):this._trySubscribe(Oe))}),Oe}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(pt){Ge.error(pt)}}forEach(Ge,pt){return new(pt=Me(pt))((Rt,Oe)=>{const Ye=new l.Hp({next:Qe=>{try{Ge(Qe)}catch(ot){Oe(ot),Ye.unsubscribe()}},error:Oe,complete:Rt});this.subscribe(Ye)})}_subscribe(Ge){var pt;return null===(pt=this.source)||void 0===pt?void 0:pt.subscribe(Ge)}[j.L](){return this}pipe(...Ge){return(0,Ie.U)(Ge)(this)}toPromise(Ge){return new(Ge=Me(Ge))((pt,Rt)=>{let Oe;this.subscribe(Ye=>Oe=Ye,Ye=>Rt(Ye),()=>pt(Oe))})}}return ae.create=dt=>new ae(dt),ae})();function Me(ae){var dt;return null!==(dt=ae??xe.v.Promise)&&void 0!==dt?dt:Promise}},7579:(Ut,$e,U)=>{U.d($e,{x:()=>Ve});var l=U(9751),ue=U(727);const Ie=(0,U(3888).d)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var xe=U(8737),de=U(2806);let Ve=(()=>{class Me extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const ae=new Fe(this,this);return ae.operator=Y,ae}_throwIfClosed(){if(this.closed)throw new Ie}next(Y){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(Y)}})}error(Y){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:ae}=this;for(;ae.length;)ae.shift().error(Y)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:ae,isStopped:dt,observers:Ge}=this;return ae||dt?ue.Lc:(this.currentObservers=null,Ge.push(Y),new ue.w0(()=>{this.currentObservers=null,(0,xe.P)(Ge,Y)}))}_checkFinalizedStatuses(Y){const{hasError:ae,thrownError:dt,isStopped:Ge}=this;ae?Y.error(dt):Ge&&Y.complete()}asObservable(){const Y=new l.y;return Y.source=this,Y}}return Me.create=(te,Y)=>new Fe(te,Y),Me})();class Fe extends Ve{constructor(te,Y){super(),this.destination=te,this.source=Y}next(te){var Y,ae;null===(ae=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===ae||ae.call(Y,te)}error(te){var Y,ae;null===(ae=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===ae||ae.call(Y,te)}complete(){var te,Y;null===(Y=null===(te=this.destination)||void 0===te?void 0:te.complete)||void 0===Y||Y.call(te)}_subscribe(te){var Y,ae;return null!==(ae=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(te))&&void 0!==ae?ae:ue.Lc}}},930:(Ut,$e,U)=>{U.d($e,{Hp:()=>Rt,Lv:()=>ae});var l=U(576),ue=U(727),j=U(2416),Ie=U(7849),xe=U(5032);const de=Me("C",void 0,void 0);function Me(it,He,je){return{kind:it,value:He,error:je}}var te=U(3410),Y=U(2806);class ae extends ue.w0{constructor(He){super(),this.isStopped=!1,He?(this.destination=He,(0,ue.Nn)(He)&&He.add(this)):this.destination=ot}static create(He,je,at){return new Rt(He,je,at)}next(He){this.isStopped?Qe(function Fe(it){return Me("N",it,void 0)}(He),this):this._next(He)}error(He){this.isStopped?Qe(function Ve(it){return Me("E",void 0,it)}(He),this):(this.isStopped=!0,this._error(He))}complete(){this.isStopped?Qe(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(He){this.destination.next(He)}_error(He){try{this.destination.error(He)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dt=Function.prototype.bind;function Ge(it,He){return dt.call(it,He)}class pt{constructor(He){this.partialObserver=He}next(He){const{partialObserver:je}=this;if(je.next)try{je.next(He)}catch(at){Oe(at)}}error(He){const{partialObserver:je}=this;if(je.error)try{je.error(He)}catch(at){Oe(at)}else Oe(He)}complete(){const{partialObserver:He}=this;if(He.complete)try{He.complete()}catch(je){Oe(je)}}}class Rt extends ae{constructor(He,je,at){let Xe;if(super(),(0,l.m)(He)||!He)Xe={next:He??void 0,error:je??void 0,complete:at??void 0};else{let De;this&&j.v.useDeprecatedNextContext?(De=Object.create(He),De.unsubscribe=()=>this.unsubscribe(),Xe={next:He.next&&Ge(He.next,De),error:He.error&&Ge(He.error,De),complete:He.complete&&Ge(He.complete,De)}):Xe=He}this.destination=new pt(Xe)}}function Oe(it){j.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(it):(0,Ie.h)(it)}function Qe(it,He){const{onStoppedNotification:je}=j.v;je&&te.z.setTimeout(()=>je(it,He))}const ot={closed:!0,next:xe.Z,error:function Ye(it){throw it},complete:xe.Z}},727:(Ut,$e,U)=>{U.d($e,{Lc:()=>de,w0:()=>xe,Nn:()=>Ve});var l=U(576);const j=(0,U(3888).d)(Me=>function(Y){Me(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((ae,dt)=>`${dt+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var Ie=U(8737);class xe{constructor(te){this.initialTeardown=te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let te;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Ge of Y)Ge.remove(this);else Y.remove(this);const{initialTeardown:ae}=this;if((0,l.m)(ae))try{ae()}catch(Ge){te=Ge instanceof j?Ge.errors:[Ge]}const{_finalizers:dt}=this;if(dt){this._finalizers=null;for(const Ge of dt)try{Fe(Ge)}catch(pt){te=te??[],pt instanceof j?te=[...te,...pt.errors]:te.push(pt)}}if(te)throw new j(te)}}add(te){var Y;if(te&&te!==this)if(this.closed)Fe(te);else{if(te instanceof xe){if(te.closed||te._hasParent(this))return;te._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(te)}}_hasParent(te){const{_parentage:Y}=this;return Y===te||Array.isArray(Y)&&Y.includes(te)}_addParent(te){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(te),Y):Y?[Y,te]:te}_removeParent(te){const{_parentage:Y}=this;Y===te?this._parentage=null:Array.isArray(Y)&&(0,Ie.P)(Y,te)}remove(te){const{_finalizers:Y}=this;Y&&(0,Ie.P)(Y,te),te instanceof xe&&te._removeParent(this)}}xe.EMPTY=(()=>{const Me=new xe;return Me.closed=!0,Me})();const de=xe.EMPTY;function Ve(Me){return Me instanceof xe||Me&&"closed"in Me&&(0,l.m)(Me.remove)&&(0,l.m)(Me.add)&&(0,l.m)(Me.unsubscribe)}function Fe(Me){(0,l.m)(Me)?Me():Me.unsubscribe()}},2416:(Ut,$e,U)=>{U.d($e,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ut,$e,U)=>{U.d($e,{E:()=>ue});const ue=new(U(9751).y)(xe=>xe.complete())},8996:(Ut,$e,U)=>{U.d($e,{D:()=>He});var l=U(8421),ue=U(5363),j=U(9468),de=U(9751),Fe=U(2202),Me=U(576),te=U(9672);function ae(je,at){if(!je)throw new Error("Iterable cannot be null");return new de.y(Xe=>{(0,te.f)(Xe,at,()=>{const De=je[Symbol.asyncIterator]();(0,te.f)(Xe,at,()=>{De.next().then(ne=>{ne.done?Xe.complete():Xe.next(ne.value)})},0,!0)})})}var dt=U(3670),Ge=U(8239),pt=U(1144),Rt=U(6495),Oe=U(2206),Ye=U(4532),Qe=U(3260);function He(je,at){return at?function it(je,at){if(null!=je){if((0,dt.c)(je))return function Ie(je,at){return(0,l.Xf)(je).pipe((0,j.R)(at),(0,ue.Q)(at))}(je,at);if((0,pt.z)(je))return function Ve(je,at){return new de.y(Xe=>{let De=0;return at.schedule(function(){De===je.length?Xe.complete():(Xe.next(je[De++]),Xe.closed||this.schedule())})})}(je,at);if((0,Ge.t)(je))return function xe(je,at){return(0,l.Xf)(je).pipe((0,j.R)(at),(0,ue.Q)(at))}(je,at);if((0,Oe.D)(je))return ae(je,at);if((0,Rt.T)(je))return function Y(je,at){return new de.y(Xe=>{let De;return(0,te.f)(Xe,at,()=>{De=je[Fe.h](),(0,te.f)(Xe,at,()=>{let ne,ht;try{({value:ne,done:ht}=De.next())}catch(ct){return void Xe.error(ct)}ht?Xe.complete():Xe.next(ne)},0,!0)}),()=>(0,Me.m)(De?.return)&&De.return()})}(je,at);if((0,Qe.L)(je))return function ot(je,at){return ae((0,Qe.Q)(je),at)}(je,at)}throw(0,Ye.z)(je)}(je,at):(0,l.Xf)(je)}},8421:(Ut,$e,U)=>{U.d($e,{Xf:()=>dt});var l=U(7582),ue=U(1144),j=U(8239),Ie=U(9751),xe=U(3670),de=U(2206),Ve=U(4532),Fe=U(6495),Me=U(3260),te=U(576),Y=U(7849),ae=U(8822);function dt(it){if(it instanceof Ie.y)return it;if(null!=it){if((0,xe.c)(it))return function Ge(it){return new Ie.y(He=>{const je=it[ae.L]();if((0,te.m)(je.subscribe))return je.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(it);if((0,ue.z)(it))return function pt(it){return new Ie.y(He=>{for(let je=0;je<it.length&&!He.closed;je++)He.next(it[je]);He.complete()})}(it);if((0,j.t)(it))return function Rt(it){return new Ie.y(He=>{it.then(je=>{He.closed||(He.next(je),He.complete())},je=>He.error(je)).then(null,Y.h)})}(it);if((0,de.D)(it))return Ye(it);if((0,Fe.T)(it))return function Oe(it){return new Ie.y(He=>{for(const je of it)if(He.next(je),He.closed)return;He.complete()})}(it);if((0,Me.L)(it))return function Qe(it){return Ye((0,Me.Q)(it))}(it)}throw(0,Ve.z)(it)}function Ye(it){return new Ie.y(He=>{(function ot(it,He){var je,at,Xe,De;return(0,l.mG)(this,void 0,void 0,function*(){try{for(je=(0,l.KL)(it);!(at=yield je.next()).done;)if(He.next(at.value),He.closed)return}catch(ne){Xe={error:ne}}finally{try{at&&!at.done&&(De=je.return)&&(yield De.call(je))}finally{if(Xe)throw Xe.error}}He.complete()})})(it,He).catch(je=>He.error(je))})}},6451:(Ut,$e,U)=>{U.d($e,{T:()=>de});var l=U(8189),ue=U(8421),j=U(515),Ie=U(3269),xe=U(8996);function de(...Ve){const Fe=(0,Ie.yG)(Ve),Me=(0,Ie._6)(Ve,1/0),te=Ve;return te.length?1===te.length?(0,ue.Xf)(te[0]):(0,l.J)(Me)((0,xe.D)(te,Fe)):j.E}},5403:(Ut,$e,U)=>{U.d($e,{x:()=>ue});var l=U(930);function ue(Ie,xe,de,Ve,Fe){return new j(Ie,xe,de,Ve,Fe)}class j extends l.Lv{constructor(xe,de,Ve,Fe,Me,te){super(xe),this.onFinalize=Me,this.shouldUnsubscribe=te,this._next=de?function(Y){try{de(Y)}catch(ae){xe.error(ae)}}:super._next,this._error=Fe?function(Y){try{Fe(Y)}catch(ae){xe.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=Ve?function(){try{Ve()}catch(Y){xe.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var xe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(xe=this.onFinalize)||void 0===xe||xe.call(this))}}}},4004:(Ut,$e,U)=>{U.d($e,{U:()=>j});var l=U(4482),ue=U(5403);function j(Ie,xe){return(0,l.e)((de,Ve)=>{let Fe=0;de.subscribe((0,ue.x)(Ve,Me=>{Ve.next(Ie.call(xe,Me,Fe++))}))})}},8189:(Ut,$e,U)=>{U.d($e,{J:()=>j});var l=U(5577),ue=U(4671);function j(Ie=1/0){return(0,l.z)(ue.y,Ie)}},5577:(Ut,$e,U)=>{U.d($e,{z:()=>Fe});var l=U(4004),ue=U(8421),j=U(4482),Ie=U(9672),xe=U(5403),Ve=U(576);function Fe(Me,te,Y=1/0){return(0,Ve.m)(te)?Fe((ae,dt)=>(0,l.U)((Ge,pt)=>te(ae,Ge,dt,pt))((0,ue.Xf)(Me(ae,dt))),Y):("number"==typeof te&&(Y=te),(0,j.e)((ae,dt)=>function de(Me,te,Y,ae,dt,Ge,pt,Rt){const Oe=[];let Ye=0,Qe=0,ot=!1;const it=()=>{ot&&!Oe.length&&!Ye&&te.complete()},He=at=>Ye<ae?je(at):Oe.push(at),je=at=>{Ge&&te.next(at),Ye++;let Xe=!1;(0,ue.Xf)(Y(at,Qe++)).subscribe((0,xe.x)(te,De=>{dt?.(De),Ge?He(De):te.next(De)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(Ye--;Oe.length&&Ye<ae;){const De=Oe.shift();pt?(0,Ie.f)(te,pt,()=>je(De)):je(De)}it()}catch(De){te.error(De)}}))};return Me.subscribe((0,xe.x)(te,He,()=>{ot=!0,it()})),()=>{Rt?.()}}(ae,dt,Me,Y)))}},5363:(Ut,$e,U)=>{U.d($e,{Q:()=>Ie});var l=U(9672),ue=U(4482),j=U(5403);function Ie(xe,de=0){return(0,ue.e)((Ve,Fe)=>{Ve.subscribe((0,j.x)(Fe,Me=>(0,l.f)(Fe,xe,()=>Fe.next(Me),de),()=>(0,l.f)(Fe,xe,()=>Fe.complete(),de),Me=>(0,l.f)(Fe,xe,()=>Fe.error(Me),de)))})}},3099:(Ut,$e,U)=>{U.d($e,{B:()=>xe});var l=U(8421),ue=U(7579),j=U(930),Ie=U(4482);function xe(Ve={}){const{connector:Fe=(()=>new ue.x),resetOnError:Me=!0,resetOnComplete:te=!0,resetOnRefCountZero:Y=!0}=Ve;return ae=>{let dt,Ge,pt,Rt=0,Oe=!1,Ye=!1;const Qe=()=>{Ge?.unsubscribe(),Ge=void 0},ot=()=>{Qe(),dt=pt=void 0,Oe=Ye=!1},it=()=>{const He=dt;ot(),He?.unsubscribe()};return(0,Ie.e)((He,je)=>{Rt++,!Ye&&!Oe&&Qe();const at=pt=pt??Fe();je.add(()=>{Rt--,0===Rt&&!Ye&&!Oe&&(Ge=de(it,Y))}),at.subscribe(je),!dt&&Rt>0&&(dt=new j.Hp({next:Xe=>at.next(Xe),error:Xe=>{Ye=!0,Qe(),Ge=de(ot,Me,Xe),at.error(Xe)},complete:()=>{Oe=!0,Qe(),Ge=de(ot,te),at.complete()}}),(0,l.Xf)(He).subscribe(dt))})(ae)}}function de(Ve,Fe,...Me){if(!0===Fe)return void Ve();if(!1===Fe)return;const te=new j.Hp({next:()=>{te.unsubscribe(),Ve()}});return Fe(...Me).subscribe(te)}},9468:(Ut,$e,U)=>{U.d($e,{R:()=>ue});var l=U(4482);function ue(j,Ie=0){return(0,l.e)((xe,de)=>{de.add(j.schedule(()=>xe.subscribe(de),Ie))})}},8505:(Ut,$e,U)=>{U.d($e,{b:()=>xe});var l=U(576),ue=U(4482),j=U(5403),Ie=U(4671);function xe(de,Ve,Fe){const Me=(0,l.m)(de)||Ve||Fe?{next:de,error:Ve,complete:Fe}:de;return Me?(0,ue.e)((te,Y)=>{var ae;null===(ae=Me.subscribe)||void 0===ae||ae.call(Me);let dt=!0;te.subscribe((0,j.x)(Y,Ge=>{var pt;null===(pt=Me.next)||void 0===pt||pt.call(Me,Ge),Y.next(Ge)},()=>{var Ge;dt=!1,null===(Ge=Me.complete)||void 0===Ge||Ge.call(Me),Y.complete()},Ge=>{var pt;dt=!1,null===(pt=Me.error)||void 0===pt||pt.call(Me,Ge),Y.error(Ge)},()=>{var Ge,pt;dt&&(null===(Ge=Me.unsubscribe)||void 0===Ge||Ge.call(Me)),null===(pt=Me.finalize)||void 0===pt||pt.call(Me)}))}):Ie.y}},4408:(Ut,$e,U)=>{U.d($e,{o:()=>xe});var l=U(727);class ue extends l.w0{constructor(Ve,Fe){super()}schedule(Ve,Fe=0){return this}}const j={setInterval(de,Ve,...Fe){const{delegate:Me}=j;return Me?.setInterval?Me.setInterval(de,Ve,...Fe):setInterval(de,Ve,...Fe)},clearInterval(de){const{delegate:Ve}=j;return(Ve?.clearInterval||clearInterval)(de)},delegate:void 0};var Ie=U(8737);class xe extends ue{constructor(Ve,Fe){super(Ve,Fe),this.scheduler=Ve,this.work=Fe,this.pending=!1}schedule(Ve,Fe=0){var Me;if(this.closed)return this;this.state=Ve;const te=this.id,Y=this.scheduler;return null!=te&&(this.id=this.recycleAsyncId(Y,te,Fe)),this.pending=!0,this.delay=Fe,this.id=null!==(Me=this.id)&&void 0!==Me?Me:this.requestAsyncId(Y,this.id,Fe),this}requestAsyncId(Ve,Fe,Me=0){return j.setInterval(Ve.flush.bind(Ve,this),Me)}recycleAsyncId(Ve,Fe,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return Fe;null!=Fe&&j.clearInterval(Fe)}execute(Ve,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(Ve,Fe);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ve,Fe){let te,Me=!1;try{this.work(Ve)}catch(Y){Me=!0,te=Y||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),te}unsubscribe(){if(!this.closed){const{id:Ve,scheduler:Fe}=this,{actions:Me}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.P)(Me,this),null!=Ve&&(this.id=this.recycleAsyncId(Fe,Ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ut,$e,U)=>{U.d($e,{v:()=>j});var l=U(6063);class ue{constructor(xe,de=ue.now){this.schedulerActionCtor=xe,this.now=de}schedule(xe,de=0,Ve){return new this.schedulerActionCtor(this,xe).schedule(Ve,de)}}ue.now=l.l.now;class j extends ue{constructor(xe,de=ue.now){super(xe,de),this.actions=[],this._active=!1}flush(xe){const{actions:de}=this;if(this._active)return void de.push(xe);let Ve;this._active=!0;do{if(Ve=xe.execute(xe.state,xe.delay))break}while(xe=de.shift());if(this._active=!1,Ve){for(;xe=de.shift();)xe.unsubscribe();throw Ve}}}},4986:(Ut,$e,U)=>{U.d($e,{P:()=>Ie,z:()=>j});var l=U(4408);const j=new(U(7565).v)(l.o),Ie=j},6063:(Ut,$e,U)=>{U.d($e,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(Ut,$e,U)=>{U.d($e,{z:()=>l});const l={setTimeout(ue,j,...Ie){const{delegate:xe}=l;return xe?.setTimeout?xe.setTimeout(ue,j,...Ie):setTimeout(ue,j,...Ie)},clearTimeout(ue){const{delegate:j}=l;return(j?.clearTimeout||clearTimeout)(ue)},delegate:void 0}},2202:(Ut,$e,U)=>{U.d($e,{h:()=>ue});const ue=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ut,$e,U)=>{U.d($e,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ut,$e,U)=>{U.d($e,{_6:()=>de,jO:()=>Ie,yG:()=>xe});var l=U(576),ue=U(3532);function j(Ve){return Ve[Ve.length-1]}function Ie(Ve){return(0,l.m)(j(Ve))?Ve.pop():void 0}function xe(Ve){return(0,ue.K)(j(Ve))?Ve.pop():void 0}function de(Ve,Fe){return"number"==typeof j(Ve)?Ve.pop():Fe}},8737:(Ut,$e,U)=>{function l(ue,j){if(ue){const Ie=ue.indexOf(j);0<=Ie&&ue.splice(Ie,1)}}U.d($e,{P:()=>l})},3888:(Ut,$e,U)=>{function l(ue){const Ie=ue(xe=>{Error.call(xe),xe.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}U.d($e,{d:()=>l})},2806:(Ut,$e,U)=>{U.d($e,{O:()=>Ie,x:()=>j});var l=U(2416);let ue=null;function j(xe){if(l.v.useDeprecatedSynchronousErrorHandling){const de=!ue;if(de&&(ue={errorThrown:!1,error:null}),xe(),de){const{errorThrown:Ve,error:Fe}=ue;if(ue=null,Ve)throw Fe}}else xe()}function Ie(xe){l.v.useDeprecatedSynchronousErrorHandling&&ue&&(ue.errorThrown=!0,ue.error=xe)}},9672:(Ut,$e,U)=>{function l(ue,j,Ie,xe=0,de=!1){const Ve=j.schedule(function(){Ie(),de?ue.add(this.schedule(null,xe)):this.unsubscribe()},xe);if(ue.add(Ve),!de)return Ve}U.d($e,{f:()=>l})},4671:(Ut,$e,U)=>{function l(ue){return ue}U.d($e,{y:()=>l})},1144:(Ut,$e,U)=>{U.d($e,{z:()=>l});const l=ue=>ue&&"number"==typeof ue.length&&"function"!=typeof ue},2206:(Ut,$e,U)=>{U.d($e,{D:()=>ue});var l=U(576);function ue(j){return Symbol.asyncIterator&&(0,l.m)(j?.[Symbol.asyncIterator])}},576:(Ut,$e,U)=>{function l(ue){return"function"==typeof ue}U.d($e,{m:()=>l})},3670:(Ut,$e,U)=>{U.d($e,{c:()=>j});var l=U(8822),ue=U(576);function j(Ie){return(0,ue.m)(Ie[l.L])}},6495:(Ut,$e,U)=>{U.d($e,{T:()=>j});var l=U(2202),ue=U(576);function j(Ie){return(0,ue.m)(Ie?.[l.h])}},8239:(Ut,$e,U)=>{U.d($e,{t:()=>ue});var l=U(576);function ue(j){return(0,l.m)(j?.then)}},3260:(Ut,$e,U)=>{U.d($e,{L:()=>Ie,Q:()=>j});var l=U(7582),ue=U(576);function j(xe){return(0,l.FC)(this,arguments,function*(){const Ve=xe.getReader();try{for(;;){const{value:Fe,done:Me}=yield(0,l.qq)(Ve.read());if(Me)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Fe)}}finally{Ve.releaseLock()}})}function Ie(xe){return(0,ue.m)(xe?.getReader)}},3532:(Ut,$e,U)=>{U.d($e,{K:()=>ue});var l=U(576);function ue(j){return j&&(0,l.m)(j.schedule)}},4482:(Ut,$e,U)=>{U.d($e,{A:()=>ue,e:()=>j});var l=U(576);function ue(Ie){return(0,l.m)(Ie?.lift)}function j(Ie){return xe=>{if(ue(xe))return xe.lift(function(de){try{return Ie(de,this)}catch(Ve){this.error(Ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ut,$e,U)=>{function l(){}U.d($e,{Z:()=>l})},9635:(Ut,$e,U)=>{U.d($e,{U:()=>j,z:()=>ue});var l=U(4671);function ue(...Ie){return j(Ie)}function j(Ie){return 0===Ie.length?l.y:1===Ie.length?Ie[0]:function(de){return Ie.reduce((Ve,Fe)=>Fe(Ve),de)}}},7849:(Ut,$e,U)=>{U.d($e,{h:()=>j});var l=U(2416),ue=U(3410);function j(Ie){ue.z.setTimeout(()=>{const{onUnhandledError:xe}=l.v;if(!xe)throw Ie;xe(Ie)})}},4532:(Ut,$e,U)=>{function l(ue){return new TypeError(`You provided ${null!==ue&&"object"==typeof ue?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d($e,{z:()=>l})},4650:(Ut,$e,U)=>{U.d($e,{$8M:()=>Jc,$WT:()=>uo,$Z:()=>gC,AFp:()=>Ub,ALo:()=>GA,AaK:()=>Fe,AsE:()=>xE,CHM:()=>Nl,CRH:()=>eS,CZH:()=>Bf,CqO:()=>Zv,D6c:()=>r0,EJc:()=>vS,EiD:()=>vs,EpF:()=>UC,F$t:()=>zd,F4k:()=>jC,FYo:()=>Aa,FiY:()=>sc,Gf:()=>yI,GfV:()=>Tv,Gpc:()=>Y,Hsn:()=>hE,JOm:()=>Fs,JVY:()=>Rw,JZr:()=>Rt,KtG:()=>Fl,L6k:()=>lv,LAX:()=>Ls,LFG:()=>Mn,LSH:()=>rf,Lbi:()=>yS,Lck:()=>JE,MAs:()=>VC,MMx:()=>bb,NdJ:()=>Yv,O4$:()=>jl,OlP:()=>bn,Oqu:()=>rb,P3R:()=>Rd,PXZ:()=>FR,Q6J:()=>Cc,QGY:()=>pn,QbO:()=>FI,Qsj:()=>Hw,R0b:()=>Us,RDi:()=>Xg,Rgc:()=>Vf,SBq:()=>al,Sil:()=>AR,Suo:()=>JA,TTD:()=>Ih,TgZ:()=>w_,Udp:()=>Cf,W1O:()=>nS,WFA:()=>Qv,X6Q:()=>jR,XFs:()=>Dt,Xpm:()=>Po,Xts:()=>Ow,Y36:()=>Xo,YKP:()=>L_,YNc:()=>lE,Yjl:()=>ku,Yz7:()=>Be,Z0I:()=>Ht,ZZ4:()=>Hp,_Bn:()=>FA,_UZ:()=>Wv,_Vd:()=>bs,_c5:()=>jS,_uU:()=>IE,aQg:()=>n0,c2e:()=>IR,cJS:()=>ln,cg1:()=>PE,d8E:()=>kf,dDg:()=>VI,dqk:()=>Kn,eBb:()=>e_,eFA:()=>SS,eJc:()=>$_,ekj:()=>Af,eoX:()=>CS,f3M:()=>ze,g9A:()=>zb,h0i:()=>Of,hGG:()=>GI,hij:()=>T_,iGM:()=>_I,ifc:()=>Ue,ip1:()=>Bb,jDz:()=>Sp,kL8:()=>Kd,kcU:()=>_a,lG2:()=>da,lcZ:()=>WA,lnq:()=>TE,lqb:()=>af,lri:()=>qb,mCW:()=>rl,n5z:()=>sd,n_E:()=>Mp,oAB:()=>Cl,oxw:()=>dE,pB0:()=>Ec,q3G:()=>yi,q4F:()=>Ic,qLn:()=>Jm,qOj:()=>di,qZA:()=>jd,qzn:()=>wc,rWj:()=>TS,sBO:()=>zI,s_b:()=>Cu,soG:()=>Hb,tBr:()=>ni,tb:()=>AS,tp0:()=>hd,uIk:()=>gu,vHH:()=>Oe,vpe:()=>Mc,wAp:()=>Jt,xp6:()=>xt,z2F:()=>Kb,z3N:()=>Oi,zSh:()=>yv,zs3:()=>hf});var l=U(7579),ue=U(727),j=U(9751),Ie=U(6451),xe=U(3099);function de(a){for(let c in a)if(a[c]===de)return c;throw Error("Could not find renamed property on target object.")}function Ve(a,c){for(const u in c)c.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=c[u])}function Fe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Fe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function Me(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const te=de({__forward_ref__:de});function Y(a){return a.__forward_ref__=Y,a.toString=function(){return Fe(this())},a}function ae(a){return dt(a)?a():a}function dt(a){return"function"==typeof a&&a.hasOwnProperty(te)&&a.__forward_ref__===Y}function Ge(a){return a&&!!a.\u0275providers}const Rt="https://g.co/ng/security#xss";class Oe extends Error{constructor(c,u){super(Ye(c,u)),this.code=c}}function Ye(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}function Qe(a){return"string"==typeof a?a:null==a?"":String(a)}function at(a,c){throw new Oe(-201,!1)}function me(a,c){null==a&&function he(a,c,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${c} <=Actual]`))}(c,a,null,"!=")}function Be(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function ln(a){return{providers:a.providers||[],imports:a.imports||[]}}function Fn(a){return zn(a,_n)||zn(a,Li)}function Ht(a){return null!==Fn(a)}function zn(a,c){return a.hasOwnProperty(c)?a[c]:null}function Fr(a){return a&&(a.hasOwnProperty(Mi)||a.hasOwnProperty(Wn))?a[Mi]:null}const _n=de({\u0275prov:de}),Mi=de({\u0275inj:de}),Li=de({ngInjectableDef:de}),Wn=de({ngInjectorDef:de});var Dt=(()=>((Dt=Dt||{})[Dt.Default=0]="Default",Dt[Dt.Host=1]="Host",Dt[Dt.Self=2]="Self",Dt[Dt.SkipSelf=4]="SkipSelf",Dt[Dt.Optional=8]="Optional",Dt))();let ms;function Ir(a){const c=ms;return ms=a,c}function co(a,c,u){const h=Fn(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&Dt.Optional?null:void 0!==c?c:void at(Fe(a))}const Kn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),lo={},Xr="__NG_DI_FLAG__",Yi="ngTempTokenPath",Jr="ngTokenPath",gi=/\n/gm,Tl="\u0275",$n="__source";let ua;function wn(a){const c=ua;return ua=a,c}function $s(a,c=Dt.Default){if(void 0===ua)throw new Oe(-203,!1);return null===ua?co(a,void 0,c):ua.get(a,c&Dt.Optional?null:void 0,c)}function Mn(a,c=Dt.Default){return(function _h(){return ms}()||$s)(ae(a),c)}function ze(a,c=Dt.Default){return Mn(a,It(c))}function It(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function en(a){const c=[];for(let u=0;u<a.length;u++){const h=ae(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Oe(900,!1);let m,y=Dt.Default;for(let E=0;E<h.length;E++){const C=h[E],S=xn(C);"number"==typeof S?-1===S?m=C.token:y|=S:m=C}c.push(Mn(m,y))}else c.push(Mn(h))}return c}function Zt(a,c){return a[Xr]=c,a.prototype[Xr]=c,a}function xn(a){return a[Xr]}function q(a){return{toString:a}.toString()}var se=(()=>((se=se||{})[se.OnPush=0]="OnPush",se[se.Default=1]="Default",se))(),Ue=(()=>{return(a=Ue||(Ue={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Ue;var a})();const ve={},rt=[],sn=de({\u0275cmp:de}),kn=de({\u0275dir:de}),Qi=de({\u0275pipe:de}),wi=de({\u0275mod:de}),Zn=de({\u0275fac:de}),En=de({__NG_ELEMENT_ID__:de});let ps=0;function Po(a){return q(()=>{const c=Ru(a),u={...c,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===se.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&a.dependencies||null,getStandaloneInjector:null,data:a.data||{},encapsulation:a.encapsulation||Ue.Emulated,id:"c"+ps++,styles:a.styles||rt,_:null,schemas:a.schemas||null,tView:null};Ag(u);const h=a.dependencies;return u.directiveDefs=Uc(h,!1),u.pipeDefs=Uc(h,!0),u})}function yh(a){return Rn(a)||lr(a)}function Du(a){return null!==a}function Cl(a){return q(()=>({type:a.type,bootstrap:a.bootstrap||rt,declarations:a.declarations||rt,imports:a.imports||rt,exports:a.exports||rt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function vh(a,c){if(null==a)return ve;const u={};for(const h in a)if(a.hasOwnProperty(h)){let m=a[h],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),u[m]=h,c&&(c[m]=y)}return u}function da(a){return q(()=>{const c=Ru(a);return Ag(c),c})}function ku(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Rn(a){return a[sn]||null}function lr(a){return a[kn]||null}function xr(a){return a[Qi]||null}function uo(a){const c=Rn(a)||lr(a)||xr(a);return null!==c&&c.standalone}function Lr(a,c){const u=a[wi]||null;if(!u&&!0===c)throw new Error(`Type ${Fe(a)} does not have '\u0275mod' property.`);return u}function Ru(a){const c={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,exportAs:a.exportAs||null,standalone:!0===a.standalone,selectors:a.selectors||rt,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vh(a.inputs,c),outputs:vh(a.outputs)}}function Ag(a){a.features?.forEach(c=>c(a))}function Uc(a,c){if(!a)return null;const u=c?xr:yh;return()=>("function"==typeof a?a():a).map(h=>u(h)).filter(Du)}const Ss=0,gt=1,on=2,si=3,Ds=4,Gn=5,Vi=6,ho=7,Ei=8,Al=9,Vr=10,dn=11,Sl=12,Ba=13,Oo=14,Ua=15,ki=16,jc=17,No=18,Gs=19,ja=20,Xi=21,Jn=22,Dl=1,bh=2,zc=7,ha=8,fa=9,ur=10;function _s(a){return Array.isArray(a)&&"object"==typeof a[Dl]}function ys(a){return Array.isArray(a)&&!0===a[Dl]}function Ml(a){return 0!=(4&a.flags)}function Hc(a){return a.componentOffset>-1}function wh(a){return 1==(1&a.flags)}function Ms(a){return!!a.template}function Ou(a){return 0!=(256&a[on])}function fo(a,c){return a.hasOwnProperty(Zn)?a[Zn]:null}class za{constructor(c,u,h){this.previousValue=c,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ih(){return kl}function kl(a){return a.type.prototype.ngOnChanges&&(a.setInput=xh),pm}function pm(){const a=Mg(this),c=a?.current;if(c){const u=a.previous;if(u===ve)a.previous=c;else for(let h in c)u[h]=c[h];a.current=null,this.ngOnChanges(c)}}function xh(a,c,u,h){const m=this.declaredInputs[u],y=Mg(a)||function Lu(a,c){return a[ma]=c}(a,{previous:ve,current:null}),E=y.current||(y.current={}),C=y.previous,S=C[m];E[m]=new za(S&&S.currentValue,c,C===ve),a[h]=c}Ih.ngInherit=!0;const ma="__ngSimpleChanges__";function Mg(a){return a[ma]||null}const es=function(a,c,u){},Br="svg";function dr(a){for(;Array.isArray(a);)a=a[Ss];return a}function Vo(a,c){return dr(c[a])}function hr(a,c){return dr(c[a.index])}function _m(a,c){return a.data[c]}function Ur(a,c){return a[c]}function Ji(a,c){const u=c[a];return _s(u)?u:u[Ss]}function Bo(a){return 64==(64&a[on])}function ga(a,c){return null==c?null:a[c]}function qc(a){a[No]=0}function Pl(a,c){a[Gn]+=c;let u=a,h=a[si];for(;null!==h&&(1===c&&1===u[Gn]||-1===c&&0===u[Gn]);)h[Gn]+=c,u=h,h=h[si]}const nn={lFrame:Ah(null),bindingsEnabled:!0};function ju(){return nn.bindingsEnabled}function ke(){return nn.lFrame.lView}function un(){return nn.lFrame.tView}function Nl(a){return nn.lFrame.contextLView=a,a[Ei]}function Fl(a){return nn.lFrame.contextLView=null,a}function er(){let a=Ha();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ha(){return nn.lFrame.currentTNode}function ts(a,c){const u=nn.lFrame;u.currentTNode=a,u.isParent=c}function Em(){return nn.lFrame.isParent}function Hu(){nn.lFrame.isParent=!1}function ks(){return nn.lFrame.bindingIndex}function $a(){return nn.lFrame.bindingIndex++}function Rs(a){const c=nn.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,u}function $u(a,c){const u=nn.lFrame;u.bindingIndex=u.bindingRootIndex=a,Ui(c)}function Ui(a){nn.lFrame.currentDirectiveIndex=a}function Wc(a){const c=nn.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}function Ch(){return nn.lFrame.currentQueryIndex}function Gu(a){nn.lFrame.currentQueryIndex=a}function xm(a){const c=a[gt];return 2===c.type?c.declTNode:1===c.type?a[Vi]:null}function qu(a,c,u){if(u&Dt.SkipSelf){let m=c,y=a;for(;!(m=m.parent,null!==m||u&Dt.Host||(m=xm(y),null===m||(y=y[Ua],10&m.type))););if(null===m)return!1;c=m,a=y}const h=nn.lFrame=Bl();return h.currentTNode=c,h.lView=a,!0}function Wu(a){const c=Bl(),u=a[gt];nn.lFrame=c,c.currentTNode=u.firstChild,c.lView=a,c.tView=u,c.contextLView=a,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function Bl(){const a=nn.lFrame,c=null===a?null:a.child;return null===c?Ah(a):c}function Ah(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function Ul(){const a=nn.lFrame;return nn.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Tm=Ul;function Ku(){const a=Ul();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Cr(){return nn.lFrame.selectedIndex}function jo(a){nn.lFrame.selectedIndex=a}function ui(){const a=nn.lFrame;return _m(a.tView,a.selectedIndex)}function jl(){nn.lFrame.currentNamespace=Br}function _a(){!function Pg(){nn.lFrame.currentNamespace=null}()}function Yu(a,c){for(let u=c.directiveStart,h=c.directiveEnd;u<h;u++){const y=a.data[u].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:C,ngAfterViewInit:S,ngAfterViewChecked:R,ngOnDestroy:L}=y;E&&(a.contentHooks??(a.contentHooks=[])).push(-u,E),C&&((a.contentHooks??(a.contentHooks=[])).push(u,C),(a.contentCheckHooks??(a.contentCheckHooks=[])).push(u,C)),S&&(a.viewHooks??(a.viewHooks=[])).push(-u,S),R&&((a.viewHooks??(a.viewHooks=[])).push(u,R),(a.viewCheckHooks??(a.viewCheckHooks=[])).push(u,R)),null!=L&&(a.destroyHooks??(a.destroyHooks=[])).push(u,L)}}function Sh(a,c,u){Mh(a,c,3,u)}function Dh(a,c,u,h){(3&a[on])===u&&Mh(a,c,u,h)}function Am(a,c){let u=a[on];(3&u)===c&&(u&=2047,u+=1,a[on]=u)}function Mh(a,c,u,h){const y=h??-1,E=c.length-1;let C=0;for(let S=void 0!==h?65535&a[No]:0;S<E;S++)if("number"==typeof c[S+1]){if(C=c[S],null!=h&&C>=h)break}else c[S]<0&&(a[No]+=65536),(C<y||-1==y)&&(Kc(a,u,c,S),a[No]=(4294901760&a[No])+S+2),S++}function Kc(a,c,u,h){const m=u[h]<0,y=u[h+1],C=a[m?-u[h]:u[h]];if(m){if(a[on]>>11<a[No]>>16&&(3&a[on])===c){a[on]+=2048,es(4,C,y);try{y.call(C)}finally{es(5,C,y)}}}else{es(4,C,y);try{y.call(C)}finally{es(5,C,y)}}}const Zc=-1;class zo{constructor(c,u,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Yc(a,c,u){let h=0;for(;h<u.length;){const m=u[h];if("number"==typeof m){if(0!==m)break;h++;const y=u[h++],E=u[h++],C=u[h++];a.setAttribute(c,E,C,y)}else{const y=m,E=u[++h];Wa(y)?a.setProperty(c,y,E):a.setAttribute(c,y,E),h++}}return h}function kh(a){return 3===a||4===a||6===a}function Wa(a){return 64===a.charCodeAt(0)}function Ka(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let u=-1;for(let h=0;h<c.length;h++){const m=c[h];"number"==typeof m?u=m:0===u||Ju(a,u,m,null,-1===u||2===u?c[++h]:null)}}return a}function Ju(a,c,u,h,m){let y=0,E=a.length;if(-1===c)E=-1;else for(;y<a.length;){const C=a[y++];if("number"==typeof C){if(C===c){E=-1;break}if(C>c){E=y-1;break}}}for(;y<a.length;){const C=a[y];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==m&&(a[y+1]=m));if(h===a[y+1])return void(a[y+2]=m)}y++,null!==h&&y++,null!==m&&y++}-1!==E&&(a.splice(E,0,c),y=E+1),a.splice(y++,0,u),null!==h&&a.splice(y++,0,h),null!==m&&a.splice(y++,0,m)}function Za(a){return a!==Zc}function ya(a){return 32767&a}function Ya(a,c){let u=function Sm(a){return a>>16}(a),h=c;for(;u>0;)h=h[Ua],u--;return h}let ed=!0;function Hl(a){const c=ed;return ed=a,c}const td=255,Dm=5;let Qa=0;const Ps={};function Rh(a,c){const u=Xc(a,c);if(-1!==u)return u;const h=c[gt];h.firstCreatePass&&(a.injectorIndex=c.length,Qc(h.data,a),Qc(c,null),Qc(h.blueprint,null));const m=Mm(a,c),y=a.injectorIndex;if(Za(m)){const E=ya(m),C=Ya(m,c),S=C[gt].data;for(let R=0;R<8;R++)c[y+R]=C[E+R]|S[E+R]}return c[y+8]=m,y}function Qc(a,c){a.push(0,0,0,0,0,0,0,0,c)}function Xc(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function Mm(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,m=c;for(;null!==m;){if(h=ql(m),null===h)return Zc;if(u++,m=m[Ua],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return Zc}function Yn(a,c,u){!function Ho(a,c,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(En)&&(h=u[En]),null==h&&(h=u[En]=Qa++);const m=h&td;c.data[a+(m>>Dm)]|=1<<m}(a,c,u)}function nd(a,c,u){if(u&Dt.Optional||void 0!==a)return a;at()}function Ph(a,c,u,h){if(u&Dt.Optional&&void 0===h&&(h=null),!(u&(Dt.Self|Dt.Host))){const m=a[Al],y=Ir(void 0);try{return m?m.get(c,h,u&Dt.Optional):co(c,h,u&Dt.Optional)}finally{Ir(y)}}return nd(h,0,u)}function id(a,c,u,h=Dt.Default,m){if(null!==a){if(1024&c[on]){const E=function Nh(a,c,u,h,m){let y=a,E=c;for(;null!==y&&null!==E&&1024&E[on]&&!(256&E[on]);){const C=rd(y,E,u,h|Dt.Self,Ps);if(C!==Ps)return C;let S=y.parent;if(!S){const R=E[Xi];if(R){const L=R.get(u,Ps,h);if(L!==Ps)return L}S=ql(E),E=E[Ua]}y=S}return m}(a,c,u,h,Ps);if(E!==Ps)return E}const y=rd(a,c,u,h,Ps);if(y!==Ps)return y}return Ph(c,u,h,m)}function rd(a,c,u,h,m){const y=function Oh(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(En)?a[En]:void 0;return"number"==typeof c?c>=0?c&td:Fg:c}(u);if("function"==typeof y){if(!qu(c,a,h))return h&Dt.Host?nd(m,0,h):Ph(c,u,h,m);try{const E=y(h);if(null!=E||h&Dt.Optional)return E;at()}finally{Tm()}}else if("number"==typeof y){let E=null,C=Xc(a,c),S=Zc,R=h&Dt.Host?c[ki][Vi]:null;for((-1===C||h&Dt.SkipSelf)&&(S=-1===C?Mm(a,c):c[C+8],S!==Zc&&Gl(h,!1)?(E=c[gt],C=ya(S),c=Ya(S,c)):C=-1);-1!==C;){const L=c[gt];if($l(y,C,L.data)){const H=tr(C,c,u,E,h,R);if(H!==Ps)return H}S=c[C+8],S!==Zc&&Gl(h,c[gt].data[C+8]===R)&&$l(y,C,c)?(E=L,C=ya(S),c=Ya(S,c)):C=-1}}return m}function tr(a,c,u,h,m,y){const E=c[gt],C=E.data[a+8],L=Xa(C,E,u,null==h?Hc(C)&&ed:h!=E&&0!=(3&C.type),m&Dt.Host&&y===C);return null!==L?Ri(c,E,L,C):Ps}function Xa(a,c,u,h,m){const y=a.providerIndexes,E=c.data,C=1048575&y,S=a.directiveStart,L=y>>20,ie=m?C+L:a.directiveEnd;for(let ge=h?C:C+L;ge<ie;ge++){const Le=E[ge];if(ge<S&&u===Le||ge>=S&&Le.type===u)return ge}if(m){const ge=E[S];if(ge&&Ms(ge)&&ge.type===u)return S}return null}function Ri(a,c,u,h){let m=a[u];const y=c.data;if(function Jy(a){return a instanceof zo}(m)){const E=m;E.resolving&&function it(a,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${a}${u}`)}(function ot(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Qe(a)}(y[u]));const C=Hl(E.canSeeViewProviders);E.resolving=!0;const S=E.injectImpl?Ir(E.injectImpl):null;qu(a,h,Dt.Default);try{m=a[u]=E.factory(void 0,y,a,h),c.firstCreatePass&&u>=h.directiveStart&&function Xy(a,c,u){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:y}=c.type.prototype;if(h){const E=kl(c);(u.preOrderHooks??(u.preOrderHooks=[])).push(a,E),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(a,E)}m&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-a,m),y&&((u.preOrderHooks??(u.preOrderHooks=[])).push(a,y),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(a,y))}(u,y[u],c)}finally{null!==S&&Ir(S),Hl(C),E.resolving=!1,Tm()}}return m}function $l(a,c,u){return!!(u[c+(a>>Dm)]&1<<a)}function Gl(a,c){return!(a&Dt.Self||a&Dt.Host&&c)}class $o{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,h){return id(this._tNode,this._lView,c,It(h),u)}}function Fg(){return new $o(er(),ke())}function sd(a){return q(()=>{const c=a.prototype.constructor,u=c[Zn]||Ja(c),h=Object.prototype;let m=Object.getPrototypeOf(a.prototype).constructor;for(;m&&m!==h;){const y=m[Zn]||Ja(m);if(y&&y!==u)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function Ja(a){return dt(a)?()=>{const c=Ja(ae(a));return c&&c()}:fo(a)}function ql(a){const c=a[gt],u=c.type;return 2===u?c.declTNode:1===u?a[Vi]:null}function Jc(a){return function km(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const u=a.attrs;if(u){const h=u.length;let m=0;for(;m<h;){const y=u[m];if(kh(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<h&&"string"==typeof u[m];)m++;else{if(y===c)return u[m+1];m+=2}}}return null}(er(),a)}const ba="__parameters__";function tc(a,c,u){return q(()=>{const h=function ec(a){return function(...u){if(a){const h=a(...u);for(const m in h)this[m]=h[m]}}}(c);function m(...y){if(this instanceof m)return h.apply(this,y),this;const E=new m(...y);return C.annotation=E,C;function C(S,R,L){const H=S.hasOwnProperty(ba)?S[ba]:Object.defineProperty(S,ba,{value:[]})[ba];for(;H.length<=L;)H.push(null);return(H[L]=H[L]||[]).push(E),S}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class bn{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Be({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function po(a,c){a.forEach(u=>Array.isArray(u)?po(u,c):c(u))}function jg(a,c,u){c>=a.length?a.push(u):a.splice(c,0,u)}function ic(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function ad(a,c){const u=[];for(let h=0;h<a;h++)u.push(c);return u}function ns(a,c,u){let h=Os(a,c);return h>=0?a[1|h]=u:(h=~h,function ud(a,c,u,h){let m=a.length;if(m==c)a.push(u,h);else if(1===m)a.push(h,a[0]),a[0]=u;else{for(m--,a.push(a[m-1],a[m]);m>c;)a[m]=a[m-2],m--;a[c]=u,a[c+1]=h}}(a,h,c,u)),h}function jr(a,c){const u=Os(a,c);if(u>=0)return a[1|u]}function Os(a,c){return function An(a,c,u){let h=0,m=a.length>>u;for(;m!==h;){const y=h+(m-h>>1),E=a[y<<u];if(c===E)return y<<u;E>c?m=y:h=y+1}return~(m<<u)}(a,c,1)}const ni=Zt(tc("Inject",a=>({token:a})),-1),sc=Zt(tc("Optional"),8),hd=Zt(tc("SkipSelf"),4);var Fs=(()=>((Fs=Fs||{})[Fs.Important=1]="Important",Fs[Fs.DashCase=2]="DashCase",Fs))();const pd=new Map;let Vm=0;const J="__ngContext__";function oe(a,c){_s(c)?(a[J]=c[ja],function qh(a){pd.set(a[ja],a)}(c)):a[J]=c}let zr;function Qs(a,c){return zr(a,c)}function vd(a){const c=a[si];return ys(c)?c[si]:c}function Kh(a){return Zh(a[Ba])}function bd(a){return Zh(a[Ds])}function Zh(a){for(;null!==a&&!ys(a);)a=a[Ds];return a}function pc(a,c,u,h,m){if(null!=h){let y,E=!1;ys(h)?y=h:_s(h)&&(E=!0,h=h[Ss]);const C=dr(h);0===a&&null!==u?null==m?Id(c,u,C):_c(c,u,C,m||null,!0):1===a&&null!==u?_c(c,u,C,m||null,!0):2===a?function Td(a,c,u){const h=Jh(a,c);h&&function Mw(a,c,u,h){a.removeChild(c,u,h)}(a,h,c,u)}(c,C,E):3===a&&c.destroyNode(C),null!=y&&function ov(a,c,u,h,m){const y=u[zc];y!==dr(u)&&pc(c,a,h,y,m);for(let C=ur;C<u.length;C++){const S=u[C];vc(S[gt],S,a,c,h,y)}}(c,a,y,u,m)}}function wd(a,c,u){return a.createElement(c,u)}function nv(a,c){const u=a[fa],h=u.indexOf(c),m=c[si];512&c[on]&&(c[on]&=-513,Pl(m,-1)),u.splice(h,1)}function Qh(a,c){if(a.length<=ur)return;const u=ur+c,h=a[u];if(h){const m=h[jc];null!==m&&m!==a&&nv(m,h),c>0&&(a[u-1][Ds]=h[Ds]);const y=ic(a,ur+c);!function $g(a,c){vc(a,c,c[dn],2,null,null),c[Ss]=null,c[Vi]=null}(h[gt],h);const E=y[Gs];null!==E&&E.detachView(y[gt]),h[si]=null,h[Ds]=null,h[on]&=-65}return h}function Ed(a,c){if(!(128&c[on])){const u=c[dn];u.destroyNode&&vc(a,c,u,3,null,null),function $T(a){let c=a[Ba];if(!c)return gc(a[gt],a);for(;c;){let u=null;if(_s(c))u=c[Ba];else{const h=c[ur];h&&(u=h)}if(!u){for(;c&&!c[Ds]&&c!==a;)_s(c)&&gc(c[gt],c),c=c[si];null===c&&(c=a),_s(c)&&gc(c[gt],c),u=c&&c[Ds]}c=u}}(c)}}function gc(a,c){if(!(128&c[on])){c[on]&=-65,c[on]|=128,function iv(a,c){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const m=c[u[h]];if(!(m instanceof zo)){const y=u[h+1];if(Array.isArray(y))for(let E=0;E<y.length;E+=2){const C=m[y[E]],S=y[E+1];es(4,C,S);try{S.call(C)}finally{es(5,C,S)}}else{es(4,m,y);try{y.call(m)}finally{es(5,m,y)}}}}}(a,c),function Gg(a,c){const u=a.cleanup,h=c[ho];let m=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const E=u[y+3];E>=0?h[m=E]():h[m=-E].unsubscribe(),y+=2}else{const E=h[m=u[y+1]];u[y].call(E)}if(null!==h){for(let y=m+1;y<h.length;y++)(0,h[y])();c[ho]=null}}(a,c),1===c[gt].type&&c[dn].destroy();const u=c[jc];if(null!==u&&ys(c[si])){u!==c[si]&&nv(u,c);const h=c[Gs];null!==h&&h.detachView(a)}!function Bm(a){pd.delete(a[ja])}(c)}}function Um(a,c,u){return function Xh(a,c,u){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return u[Ss];{const{componentOffset:m}=h;if(m>-1){const{encapsulation:y}=a.data[h.directiveStart+m];if(y===Ue.None||y===Ue.Emulated)return null}return hr(h,u)}}(a,c.parent,u)}function _c(a,c,u,h,m){a.insertBefore(c,u,h,m)}function Id(a,c,u){a.appendChild(c,u)}function qg(a,c,u,h,m){null!==h?_c(a,c,u,h,m):Id(a,c,u)}function Jh(a,c){return a.parentNode(c)}function zm(a,c,u){return sv(a,c,u)}let Wg,Cd,bc,nl,sv=function tu(a,c,u){return 40&a.type?hr(a,u):null};function xd(a,c,u,h){const m=Um(a,h,c),y=c[dn],C=zm(h.parent||c[Vi],h,c);if(null!=m)if(Array.isArray(u))for(let S=0;S<u.length;S++)qg(y,m,u[S],C,!1);else qg(y,m,u,C,!1);void 0!==Wg&&Wg(y,h,c,u,m)}function Hm(a,c){if(null!==c){const u=c.type;if(3&u)return hr(c,a);if(4&u)return nu(-1,a[c.index]);if(8&u){const h=c.child;if(null!==h)return Hm(a,h);{const m=a[c.index];return ys(m)?nu(-1,m):dr(m)}}if(32&u)return Qs(c,a)()||dr(a[c.index]);{const h=tl(a,c);return null!==h?Array.isArray(h)?h[0]:Hm(vd(a[ki]),h):Hm(a,c.next)}}return null}function tl(a,c){return null!==c?a[ki][Vi].projection[c.projection]:null}function nu(a,c){const u=ur+a+1;if(u<c.length){const h=c[u],m=h[gt].firstChild;if(null!==m)return Hm(h,m)}return c[zc]}function $m(a,c,u,h,m,y,E){for(;null!=u;){const C=h[u.index],S=u.type;if(E&&0===c&&(C&&oe(dr(C),h),u.flags|=2),32!=(32&u.flags))if(8&S)$m(a,c,u.child,h,m,y,!1),pc(c,a,m,C,y);else if(32&S){const R=Qs(u,h);let L;for(;L=R();)pc(c,a,m,L,y);pc(c,a,m,C,y)}else 16&S?is(a,c,h,u,m,y):pc(c,a,m,C,y);u=E?u.projectionNext:u.next}}function vc(a,c,u,h,m,y){$m(u,h,a.firstChild,c,m,y,!1)}function is(a,c,u,h,m,y){const E=u[ki],S=E[Vi].projection[h.projection];if(Array.isArray(S))for(let R=0;R<S.length;R++)pc(c,a,m,S[R],y);else $m(a,c,S,E[si],m,y,!0)}function iu(a,c,u){""===u?a.removeAttribute(c,"class"):a.setAttribute(c,"class",u)}function qm(a,c,u){const{mergedAttrs:h,classes:m,styles:y}=u;null!==h&&Yc(a,c,h),null!==m&&iu(a,c,m),null!==y&&function Gm(a,c,u){a.setAttribute(c,"style",u)}(a,c,y)}function Ta(a){return function Wm(){if(void 0===Cd&&(Cd=null,Kn.trustedTypes))try{Cd=Kn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Cd}()?.createHTML(a)||a}function Xg(a){bc=a}function Km(a){return function Sd(){if(void 0===nl&&(nl=null,Kn.trustedTypes))try{nl=Kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return nl}()?.createScriptURL(a)||a}class il{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rt})`}}class Jg extends il{getTypeName(){return"HTML"}}class su extends il{getTypeName(){return"Style"}}class cv extends il{getTypeName(){return"Script"}}class tf extends il{getTypeName(){return"URL"}}class nf extends il{getTypeName(){return"ResourceURL"}}function Oi(a){return a instanceof il?a.changingThisBreaksApplicationSecurity:a}function wc(a,c){const u=function kw(a){return a instanceof il&&a.getTypeName()||null}(a);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see ${Rt})`)}return u===c}function Rw(a){return new Jg(a)}function lv(a){return new su(a)}function e_(a){return new cv(a)}function Ls(a){return new tf(a)}function Ec(a){return new nf(a)}class Zm{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(Ta(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch{return null}}}class yo{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const u=this.inertDocument.createElement("template");return u.innerHTML=Ta(c),u}}const oi=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rl(a){return(a=String(a)).match(oi)?a:"unsafe:"+a}function Xs(a){const c={};for(const u of a.split(","))c[u]=!0;return c}function Ko(...a){const c={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(c[h]=!0);return c}const uv=Xs("area,br,col,hr,img,wbr"),t_=Xs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dv=Xs("rp,rt"),_=Ko(uv,Ko(t_,Xs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ko(dv,Xs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ko(dv,t_)),I=Xs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Z=Ko(I,Xs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),le=Xs("script,style,template");class We{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let m=this.checkClobberedElement(u,u.nextSibling);if(m){u=m;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!_.hasOwnProperty(u))return this.sanitizedSomething=!0,!le.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=c.attributes;for(let m=0;m<h.length;m++){const y=h.item(m),E=y.name,C=E.toLowerCase();if(!Z.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let S=y.value;I[C]&&(S=rl(S)),this.buf.push(" ",E,'="',_t(S),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();_.hasOwnProperty(u)&&!uv.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(_t(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const ft=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bt=/([^\#-~ |!])/g;function _t(a){return a.replace(/&/g,"&amp;").replace(ft,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(Bt,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gn;function vs(a,c){let u=null;try{gn=gn||function _o(a){const c=new yo(a);return function Dd(){try{return!!(new window.DOMParser).parseFromString(Ta(""),"text/html")}catch{return!1}}()?new Zm(c):c}(a);let h=c?String(c):"";u=gn.getInertBodyElement(h);let m=5,y=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=y,y=u.innerHTML,u=gn.getInertBodyElement(h)}while(h!==y);return Ta((new We).sanitizeChildren(Ca(u)||u))}finally{if(u){const h=Ca(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Ca(a){return"content"in a&&function sl(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var yi=(()=>((yi=yi||{})[yi.NONE=0]="NONE",yi[yi.HTML=1]="HTML",yi[yi.STYLE=2]="STYLE",yi[yi.SCRIPT=3]="SCRIPT",yi[yi.URL=4]="URL",yi[yi.RESOURCE_URL=5]="RESOURCE_URL",yi))();function rf(a){const c=ou();return c?c.sanitize(yi.URL,a)||"":wc(a,"URL")?Oi(a):rl(Qe(a))}function i_(a){const c=ou();if(c)return Km(c.sanitize(yi.RESOURCE_URL,a)||"");if(wc(a,"ResourceURL"))return Km(Oi(a));throw new Oe(904,!1)}function Rd(a,c,u){return function Ym(a,c){return"src"===c&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===c&&("base"===a||"link"===a)?i_:rf}(c,u)(a)}function ou(){const a=ke();return a&&a[Sl]}const Ow=new bn("ENVIRONMENT_INITIALIZER"),ji=new bn("INJECTOR",-1),Nw=new bn("INJECTOR_DEF_TYPES");class qT{get(c,u=lo){if(u===lo){const h=new Error(`NullInjectorError: No provider for ${Fe(c)}!`);throw h.name="NullInjectorError",h}return u}}function G1(...a){return{\u0275providers:Fw(0,a),\u0275fromNgModule:!0}}function Fw(a,...c){const u=[],h=new Set;let m;return po(c,y=>{const E=y;pv(E,u,[],h)&&(m||(m=[]),m.push(E))}),void 0!==m&&Lw(m,u),u}function Lw(a,c){for(let u=0;u<a.length;u++){const{providers:m}=a[u];gv(m,y=>{c.push(y)})}}function pv(a,c,u,h){if(!(a=ae(a)))return!1;let m=null,y=Fr(a);const E=!y&&Rn(a);if(y||E){if(E&&!E.standalone)return!1;m=a}else{const S=a.ngModule;if(y=Fr(S),!y)return!1;m=S}const C=h.has(m);if(E){if(C)return!1;if(h.add(m),E.dependencies){const S="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const R of S)pv(R,c,u,h)}}else{if(!y)return!1;{if(null!=y.imports&&!C){let R;h.add(m);try{po(y.imports,L=>{pv(L,c,u,h)&&(R||(R=[]),R.push(L))})}finally{}void 0!==R&&Lw(R,c)}if(!C){const R=fo(m)||(()=>new m);c.push({provide:m,useFactory:R,deps:rt},{provide:Nw,useValue:m,multi:!0},{provide:Ow,useValue:()=>Mn(m),multi:!0})}const S=y.providers;null==S||C||gv(S,L=>{c.push(L)})}}return m!==a&&void 0!==a.providers}function gv(a,c){for(let u of a)Ge(u)&&(u=u.\u0275providers),Array.isArray(u)?gv(u,c):c(u)}const ol=de({provide:String,useValue:de});function _v(a){return null!==a&&"object"==typeof a&&ol in a}function au(a){return"function"==typeof a}const yv=new bn("Set Injector scope."),Qm={},vv={};let bv;function sf(){return void 0===bv&&(bv=new qT),bv}class af{}class Uw extends af{get destroyed(){return this._destroyed}constructor(c,u,h,m){super(),this.parent=u,this.source=h,this.scopes=m,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Iv(c,E=>this.processProvider(E)),this.records.set(ji,Pd(void 0,this)),m.has("environment")&&this.records.set(af,Pd(void 0,this));const y=this.records.get(yv);null!=y&&"string"==typeof y.value&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(Nw.multi,rt,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const u=wn(this),h=Ir(void 0);try{return c()}finally{wn(u),Ir(h)}}get(c,u=lo,h=Dt.Default){this.assertNotDestroyed(),h=It(h);const m=wn(this),y=Ir(void 0);try{if(!(h&Dt.SkipSelf)){let C=this.records.get(c);if(void 0===C){const S=function QT(a){return"function"==typeof a||"object"==typeof a&&a instanceof bn}(c)&&Fn(c);C=S&&this.injectableDefInScope(S)?Pd(cf(c),Qm):null,this.records.set(c,C)}if(null!=C)return this.hydrate(c,C)}return(h&Dt.Self?sf():this.parent).get(c,u=h&Dt.Optional&&u===lo?null:u)}catch(E){if("NullInjectorError"===E.name){if((E[Yi]=E[Yi]||[]).unshift(Fe(c)),m)throw E;return function li(a,c,u,h){const m=a[Yi];throw c[$n]&&m.unshift(c[$n]),a.message=function K(a,c,u,h=null){a=a&&"\n"===a.charAt(0)&&a.charAt(1)==Tl?a.slice(2):a;let m=Fe(c);if(Array.isArray(c))m=c.map(Fe).join(" -> ");else if("object"==typeof c){let y=[];for(let E in c)if(c.hasOwnProperty(E)){let C=c[E];y.push(E+":"+("string"==typeof C?JSON.stringify(C):Fe(C)))}m=`{${y.join(", ")}}`}return`${u}${h?"("+h+")":""}[${m}]: ${a.replace(gi,"\n  ")}`}("\n"+a.message,m,u,h),a[Jr]=m,a[Yi]=null,a}(E,c,"R3InjectorError",this.source)}throw E}finally{Ir(y),wn(m)}}resolveInjectorInitializers(){const c=wn(this),u=Ir(void 0);try{const h=this.get(Ow.multi,rt,Dt.Self);for(const m of h)m()}finally{wn(c),Ir(u)}}toString(){const c=[],u=this.records;for(const h of u.keys())c.push(Fe(h));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processProvider(c){let u=au(c=ae(c))?c:ae(c&&c.provide);const h=function ZT(a){return _v(a)?Pd(void 0,a.useValue):Pd(wv(a),Qm)}(c);if(au(c)||!0!==c.multi)this.records.get(u);else{let m=this.records.get(u);m||(m=Pd(void 0,Qm,!0),m.factory=()=>en(m.multi),this.records.set(u,m)),u=c,m.multi.push(c)}this.records.set(u,h)}hydrate(c,u){return u.value===Qm&&(u.value=vv,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Ev(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=ae(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function cf(a){const c=Fn(a),u=null!==c?c.factory:fo(a);if(null!==u)return u;if(a instanceof bn)throw new Oe(204,!1);if(a instanceof Function)return function KT(a){const c=a.length;if(c>0)throw ad(c,"?"),new Oe(204,!1);const u=function Xn(a){return a&&(a[_n]||a[Li])||null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Oe(204,!1)}function wv(a,c,u){let h;if(au(a)){const m=ae(a);return fo(m)||cf(m)}if(_v(a))h=()=>ae(a.useValue);else if(function Bw(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...en(a.deps||[]));else if(function WT(a){return!(!a||!a.useExisting)}(a))h=()=>Mn(ae(a.useExisting));else{const m=ae(a&&(a.useClass||a.provide));if(!function YT(a){return!!a.deps}(a))return fo(m)||cf(m);h=()=>new m(...en(a.deps))}return h}function Pd(a,c,u=!1){return{factory:a,value:c,multi:u?[]:void 0}}function Iv(a,c){for(const u of a)Array.isArray(u)?Iv(u,c):u&&Ge(u)?Iv(u.\u0275providers,c):c(u)}class lf{}class jw{}class xv{resolveComponentFactory(c){throw function XT(a){const c=Error(`No component factory found for ${Fe(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let bs=(()=>{class a{}return a.NULL=new xv,a})();function JT(){return uf(er(),ke())}function uf(a,c){return new al(hr(a,c))}let al=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=JT,a})();function W1(a){return a instanceof al?a.nativeElement:a}class Aa{}let Hw=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function ii(){const a=ke(),u=Ji(er().index,a);return(_s(u)?u:a)[dn]}(),a})(),K1=(()=>{class a{}return a.\u0275prov=Be({token:a,providedIn:"root",factory:()=>null}),a})();class Tv{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const Ic=new Tv("15.2.10"),Cv={},s_="ngOriginalError";function o_(a){return a[s_]}class Jm{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&o_(c);for(;u&&o_(u);)u=o_(u);return u||null}}function vo(a){return a instanceof Function?a():a}function nC(a,c,u){let h=a.length;for(;;){const m=a.indexOf(c,u);if(-1===m)return m;if(0===m||a.charCodeAt(m-1)<=32){const y=c.length;if(m+y===h||a.charCodeAt(m+y)<=32)return m}u=m+1}}const c_="ng-template";function X1(a,c,u){let h=0,m=!0;for(;h<a.length;){let y=a[h++];if("string"==typeof y&&m){const E=a[h++];if(u&&"class"===y&&-1!==nC(E.toLowerCase(),c,0))return!0}else{if(1===y){for(;h<a.length&&"string"==typeof(y=a[h++]);)if(y.toLowerCase()===c)return!0;return!1}"number"==typeof y&&(m=!1)}}return!1}function iC(a){return 4===a.type&&a.value!==c_}function ep(a,c,u){return c===(4!==a.type||u?a.value:c_)}function rC(a,c,u){let h=4;const m=a.attrs||[],y=function J1(a){for(let c=0;c<a.length;c++)if(kh(a[c]))return c;return a.length}(m);let E=!1;for(let C=0;C<c.length;C++){const S=c[C];if("number"!=typeof S){if(!E)if(4&h){if(h=2|1&h,""!==S&&!ep(a,S,u)||""===S&&1===c.length){if(ai(h))return!1;E=!0}}else{const R=8&h?S:c[++C];if(8&h&&null!==a.attrs){if(!X1(a.attrs,R,u)){if(ai(h))return!1;E=!0}continue}const H=tp(8&h?"class":S,m,iC(a),u);if(-1===H){if(ai(h))return!1;E=!0;continue}if(""!==R){let ie;ie=H>y?"":m[H+1].toLowerCase();const ge=8&h?ie:null;if(ge&&-1!==nC(ge,R,0)||2&h&&R!==ie){if(ai(h))return!1;E=!0}}}}else{if(!E&&!ai(h)&&!ai(S))return!1;if(E&&ai(S))continue;E=!1,h=S|1&h}}return ai(h)||E}function ai(a){return 0==(1&a)}function tp(a,c,u,h){if(null===c)return-1;let m=0;if(h||!u){let y=!1;for(;m<c.length;){const E=c[m];if(E===a)return m;if(3===E||6===E)y=!0;else{if(1===E||2===E){let C=c[++m];for(;"string"==typeof C;)C=c[++m];continue}if(4===E)break;if(0===E){m+=4;continue}}m+=y?1:2}return-1}return function nt(a,c){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===c)return u;u++}return-1}(c,a)}function lu(a,c,u=!1){for(let h=0;h<c.length;h++)if(rC(a,c[h],u))return!0;return!1}function gr(a,c){e:for(let u=0;u<c.length;u++){const h=c[u];if(a.length===h.length){for(let m=0;m<a.length;m++)if(a[m]!==h[m])continue e;return!0}}return!1}function Zo(a,c){return a?":not("+c.trim()+")":c}function Gw(a){let c=a[0],u=1,h=2,m="",y=!1;for(;u<a.length;){let E=a[u];if("string"==typeof E)if(2&h){const C=a[++u];m+="["+E+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?m+="."+E:4&h&&(m+=" "+E);else""!==m&&!ai(E)&&(c+=Zo(y,m),m=""),h=E,y=y||!ai(h);u++}return""!==m&&(c+=Zo(y,m)),c}const mn={};function xt(a){Ae(un(),ke(),Cr()+a,!1)}function Ae(a,c,u,h){if(!h)if(3==(3&c[on])){const y=a.preOrderCheckHooks;null!==y&&Sh(c,y,u)}else{const y=a.preOrderHooks;null!==y&&Dh(c,y,0,u)}jo(u)}function cC(a,c=null,u=null,h){const m=rk(a,c,u,h);return m.resolveInjectorInitializers(),m}function rk(a,c=null,u=null,h,m=new Set){const y=[u||rt,G1(a)];return h=h||("object"==typeof a?void 0:Fe(a)),new Uw(y,c||sf(),h||null,m)}let hf=(()=>{class a{static create(u,h){if(Array.isArray(u))return cC({name:""},h,u,"");{const m=u.name??"";return cC({name:m},u.parent,u.providers,m)}}}return a.THROW_IF_NOT_FOUND=lo,a.NULL=new qT,a.\u0275prov=Be({token:a,providedIn:"any",factory:()=>Mn(ji)}),a.__NG_ELEMENT_ID__=-1,a})();function Xo(a,c=Dt.Default){const u=ke();return null===u?Mn(a,c):id(er(),u,ae(a),c)}function gC(){throw new Error("invalid")}function Yw(a,c){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const y=u[h+1];if(-1!==y){const E=a.data[y];Gu(u[h]),E.contentQueries(2,c[y],y)}}}function Nv(a,c,u,h,m,y,E,C,S,R,L){const H=c.blueprint.slice();return H[Ss]=m,H[on]=76|h,(null!==L||a&&1024&a[on])&&(H[on]|=1024),qc(H),H[si]=H[Ua]=a,H[Ei]=u,H[Vr]=E||a&&a[Vr],H[dn]=C||a&&a[dn],H[Sl]=S||a&&a[Sl]||null,H[Al]=R||a&&a[Al]||null,H[Vi]=y,H[ja]=function gd(){return Vm++}(),H[Xi]=L,H[ki]=2==c.type?a[ki]:H,H}function ss(a,c,u,h,m){let y=a.data[c];if(null===y)y=function mf(a,c,u,h,m){const y=Ha(),E=Em(),S=a.data[c]=function lk(a,c,u,h,m,y){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?y:y&&y.parent,u,c,h,m);return null===a.firstChild&&(a.firstChild=S),null!==y&&(E?null==y.child&&null!==S.parent&&(y.child=S):null===y.next&&(y.next=S,S.prev=y)),S}(a,c,u,h,m),function Im(){return nn.lFrame.inI18n}()&&(y.flags|=32);else if(64&y.type){y.type=u,y.value=h,y.attrs=m;const E=function zu(){const a=nn.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();y.injectorIndex=null===E?-1:E.injectorIndex}return ts(y,!0),y}function hu(a,c,u,h){if(0===u)return-1;const m=c.length;for(let y=0;y<u;y++)c.push(h),a.blueprint.push(h),a.data.push(null);return m}function Fv(a,c,u){Wu(c);try{const h=a.viewQuery;null!==h&&_f(1,h,u);const m=a.template;null!==m&&_C(a,c,m,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Yw(a,c),a.staticViewQueries&&_f(2,a.viewQuery,u);const y=a.components;null!==y&&function ok(a,c){for(let u=0;u<c.length;u++)yk(a,c[u])}(c,y)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{c[on]&=-5,Ku()}}function Gr(a,c,u,h){const m=c[on];if(128!=(128&m)){Wu(c);try{qc(c),function mo(a){return nn.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&_C(a,c,u,2,h);const E=3==(3&m);if(E){const R=a.preOrderCheckHooks;null!==R&&Sh(c,R,null)}else{const R=a.preOrderHooks;null!==R&&Dh(c,R,0,null),Am(c,0)}if(function AC(a){for(let c=Kh(a);null!==c;c=bd(c)){if(!c[bh])continue;const u=c[fa];for(let h=0;h<u.length;h++){const m=u[h];512&m[on]||Pl(m[si],1),m[on]|=512}}}(c),function bo(a){for(let c=Kh(a);null!==c;c=bd(c))for(let u=ur;u<c.length;u++){const h=c[u],m=h[gt];Bo(h)&&Gr(m,h,m.template,h[Ei])}}(c),null!==a.contentQueries&&Yw(a,c),E){const R=a.contentCheckHooks;null!==R&&Sh(c,R)}else{const R=a.contentHooks;null!==R&&Dh(c,R,1),Am(c,1)}!function ff(a,c){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const m=u[h];if(m<0)jo(~m);else{const y=m,E=u[++h],C=u[++h];$u(E,y),C(2,c[y])}}}finally{jo(-1)}}(a,c);const C=a.components;null!==C&&function Qw(a,c){for(let u=0;u<c.length;u++)_k(a,c[u])}(c,C);const S=a.viewQuery;if(null!==S&&_f(2,S,h),E){const R=a.viewCheckHooks;null!==R&&Sh(c,R)}else{const R=a.viewHooks;null!==R&&Dh(c,R,2),Am(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[on]&=-41,512&c[on]&&(c[on]&=-513,Pl(c[si],-1))}finally{Ku()}}}function _C(a,c,u,h,m){const y=Cr(),E=2&h;try{jo(-1),E&&c.length>Jn&&Ae(a,c,Jn,!1),es(E?2:0,m),u(h,m)}finally{jo(y),es(E?3:1,m)}}function Lv(a,c,u){if(Ml(c)){const m=c.directiveEnd;for(let y=c.directiveStart;y<m;y++){const E=a.data[y];E.contentQueries&&E.contentQueries(1,u[y],y)}}}function Da(a,c,u){ju()&&(function pk(a,c,u,h){const m=u.directiveStart,y=u.directiveEnd;Hc(u)&&function vi(a,c,u){const h=hr(c,a),m=u_(u),y=a[Vr],E=Ci(a,Nv(a,m,null,u.onPush?32:16,h,c,y,y.createRenderer(h,u),null,null,null));a[c.index]=E}(c,u,a.data[m+u.componentOffset]),a.firstCreatePass||Rh(u,c),oe(h,c);const E=u.initialInputs;for(let C=m;C<y;C++){const S=a.data[C],R=Ri(c,a,C,u);oe(R,c),null!==E&&Ti(0,C-m,R,S,0,E),Ms(S)&&(Ji(u.index,c)[Ei]=Ri(c,a,C,u))}}(a,c,u,hr(u,c)),64==(64&u.flags)&&Jw(a,c,u))}function Vv(a,c,u=hr){const h=c.localNames;if(null!==h){let m=c.index+1;for(let y=0;y<h.length;y+=2){const E=h[y+1],C=-1===E?u(c,a):a[E];a[m++]=C}}}function u_(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=Bv(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function Bv(a,c,u,h,m,y,E,C,S,R){const L=Jn+h,H=L+m,ie=function ak(a,c){const u=[];for(let h=0;h<c;h++)u.push(h<a?null:mn);return u}(L,H),ge="function"==typeof R?R():R;return ie[gt]={type:a,blueprint:ie,template:u,queries:null,viewQuery:C,declTNode:c,data:ie.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:S,consts:ge,incompleteFirstPass:!1}}function yC(a,c,u,h){const m=fu(c);null===u?m.push(h):(m.push(u),a.firstCreatePass&&mu(a).push(h,m.length-1))}function vC(a,c,u,h){for(let m in a)if(a.hasOwnProperty(m)){u=null===u?{}:u;const y=a[m];null===h?bC(u,c,m,y):h.hasOwnProperty(m)&&bC(u,c,h[m],y)}return u}function bC(a,c,u,h){a.hasOwnProperty(u)?a[u].push(c,h):a[u]=[c,h]}function Jo(a,c,u,h,m,y,E,C){const S=hr(c,u);let L,R=c.inputs;!C&&null!=R&&(L=R[h])?(ka(a,u,L,h,m),Hc(c)&&function hk(a,c){const u=Ji(c,a);16&u[on]||(u[on]|=32)}(u,c.index)):3&c.type&&(h=function dk(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),m=null!=E?E(m,c.value||"",h):m,y.setProperty(S,h,m))}function Xw(a,c,u,h){if(ju()){const m=null===h?null:{"":-1},y=function gk(a,c){const u=a.directiveRegistry;let h=null,m=null;if(u)for(let y=0;y<u.length;y++){const E=u[y];if(lu(c,E.selectors,!1))if(h||(h=[]),Ms(E))if(null!==E.findHostDirectiveDefs){const C=[];m=m||new Map,E.findHostDirectiveDefs(E,C,m),h.unshift(...C,E),d_(a,c,C.length)}else h.unshift(E),d_(a,c,0);else m=m||new Map,E.findHostDirectiveDefs?.(E,h,m),h.push(E)}return null===h?null:[h,m]}(a,u);let E,C;null===y?E=C=null:[E,C]=y,null!==E&&wC(a,c,u,E,m,C),m&&function os(a,c,u){if(c){const h=a.localNames=[];for(let m=0;m<c.length;m+=2){const y=u[c[m+1]];if(null==y)throw new Oe(-301,!1);h.push(c[m],y)}}}(u,h,m)}u.mergedAttrs=Ka(u.mergedAttrs,u.attrs)}function wC(a,c,u,h,m,y){for(let R=0;R<h.length;R++)Yn(Rh(u,c),a,h[R].type);!function Fd(a,c,u){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+u,a.providerIndexes=c}(u,a.data.length,h.length);for(let R=0;R<h.length;R++){const L=h[R];L.providersResolver&&L.providersResolver(L)}let E=!1,C=!1,S=hu(a,c,h.length,null);for(let R=0;R<h.length;R++){const L=h[R];u.mergedAttrs=Ka(u.mergedAttrs,L.hostAttrs),TC(a,u,c,S,L),xC(S,L,m),null!==L.contentQueries&&(u.flags|=4),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(u.flags|=64);const H=L.type.prototype;!E&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((a.preOrderHooks??(a.preOrderHooks=[])).push(u.index),E=!0),!C&&(H.ngOnChanges||H.ngDoCheck)&&((a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(u.index),C=!0),S++}!function uk(a,c,u){const m=c.directiveEnd,y=a.data,E=c.attrs,C=[];let S=null,R=null;for(let L=c.directiveStart;L<m;L++){const H=y[L],ie=u?u.get(H):null,Le=ie?ie.outputs:null;S=vC(H.inputs,L,S,ie?ie.inputs:null),R=vC(H.outputs,L,R,Le);const st=null===S||null===E||iC(c)?null:CC(S,L,E);C.push(st)}null!==S&&(S.hasOwnProperty("class")&&(c.flags|=8),S.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=C,c.inputs=S,c.outputs=R}(a,u,y)}function Jw(a,c,u){const h=u.directiveStart,m=u.directiveEnd,y=u.index,E=function Qy(){return nn.lFrame.currentDirectiveIndex}();try{jo(y);for(let C=h;C<m;C++){const S=a.data[C],R=c[C];Ui(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&IC(S,R)}}finally{jo(-1),Ui(E)}}function IC(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function d_(a,c,u){c.componentOffset=u,(a.components??(a.components=[])).push(c.index)}function xC(a,c,u){if(u){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)u[c.exportAs[h]]=a;Ms(c)&&(u[""]=a)}}function TC(a,c,u,h,m){a.data[h]=m;const y=m.factory||(m.factory=fo(m.type)),E=new zo(y,Ms(m),Xo);a.blueprint[h]=E,u[h]=E,function mk(a,c,u,h,m){const y=m.hostBindings;if(y){let E=a.hostBindingOpCodes;null===E&&(E=a.hostBindingOpCodes=[]);const C=~c.index;(function EC(a){let c=a.length;for(;c>0;){const u=a[--c];if("number"==typeof u&&u<0)return u}return 0})(E)!=C&&E.push(C),E.push(u,h,y)}}(a,c,h,hu(a,u,m.hostVars,mn),m)}function ea(a,c,u,h,m,y){const E=hr(a,c);!function qr(a,c,u,h,m,y,E){if(null==y)a.removeAttribute(c,m,u);else{const C=null==E?Qe(y):E(y,h||"",m);a.setAttribute(c,m,C,u)}}(c[dn],E,y,a.value,u,h,m)}function Ti(a,c,u,h,m,y){const E=y[c];if(null!==E){const C=h.setInput;for(let S=0;S<E.length;){const R=E[S++],L=E[S++],H=E[S++];null!==C?h.setInput(u,H,R,L):u[L]=H}}}function CC(a,c,u){let h=null,m=0;for(;m<u.length;){const y=u[m];if(0!==y)if(5!==y){if("number"==typeof y)break;if(a.hasOwnProperty(y)){null===h&&(h=[]);const E=a[y];for(let C=0;C<E.length;C+=2)if(E[C]===c){h.push(y,E[C+1],u[m+1]);break}}m+=2}else m+=2;else m+=4}return h}function pf(a,c,u,h){return[a,!0,!1,c,null,0,h,u,null,null]}function _k(a,c){const u=Ji(c,a);if(Bo(u)){const h=u[gt];48&u[on]?Gr(h,u,h.template,u[Ei]):u[Gn]>0&&yr(u)}}function yr(a){for(let h=Kh(a);null!==h;h=bd(h))for(let m=ur;m<h.length;m++){const y=h[m];if(Bo(y))if(512&y[on]){const E=y[gt];Gr(E,y,E.template,y[Ei])}else y[Gn]>0&&yr(y)}const u=a[gt].components;if(null!==u)for(let h=0;h<u.length;h++){const m=Ji(u[h],a);Bo(m)&&m[Gn]>0&&yr(m)}}function yk(a,c){const u=Ji(c,a),h=u[gt];(function Ld(a,c){for(let u=c.length;u<a.blueprint.length;u++)c.push(a.blueprint[u])})(h,u),Fv(h,u,u[Ei])}function Ci(a,c){return a[Ba]?a[Oo][Ds]=c:a[Ba]=c,a[Oo]=c,c}function Ma(a){for(;a;){a[on]|=32;const c=vd(a);if(Ou(a)&&!c)return a;a=c}return null}function gf(a,c,u,h=!0){const m=c[Vr];m.begin&&m.begin();try{Gr(a,c,a.template,u)}catch(E){throw h&&pu(c,E),E}finally{m.end&&m.end()}}function _f(a,c,u){Gu(0),c(a,u)}function fu(a){return a[ho]||(a[ho]=[])}function mu(a){return a.cleanup||(a.cleanup=[])}function h_(a,c,u){return(null===a||Ms(a))&&(u=function Gc(a){for(;Array.isArray(a);){if("object"==typeof a[Dl])return a;a=a[Ss]}return null}(u[c.index])),u[dn]}function pu(a,c){const u=a[Al],h=u?u.get(Jm,null):null;h&&h.handleError(c)}function ka(a,c,u,h,m){for(let y=0;y<u.length;){const E=u[y++],C=u[y++],S=c[E],R=a.data[E];null!==R.setInput?R.setInput(S,m,h,C):S[C]=m}}function ta(a,c,u){const h=Vo(c,a);!function pr(a,c,u){a.setValue(c,u)}(a[dn],h,u)}function xc(a,c,u){let h=u?a.styles:null,m=u?a.classes:null,y=0;if(null!==c)for(let E=0;E<c.length;E++){const C=c[E];"number"==typeof C?y=C:1==y?m=Me(m,C):2==y&&(h=Me(h,C+": "+c[++E]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=m:a.classesWithoutHost=m}function f_(a,c,u,h,m=!1){for(;null!==u;){const y=c[u.index];if(null!==y&&h.push(dr(y)),ys(y))for(let C=ur;C<y.length;C++){const S=y[C],R=S[gt].firstChild;null!==R&&f_(S[gt],S,R,h)}const E=u.type;if(8&E)f_(a,c,u.child,h);else if(32&E){const C=Qs(u,c);let S;for(;S=C();)h.push(S)}else if(16&E){const C=tl(c,u);if(Array.isArray(C))h.push(...C);else{const S=vd(c[ki]);f_(S[gt],S,C,h,!0)}}u=m?u.projectionNext:u.next}return h}class cl{get rootNodes(){const c=this._lView,u=c[gt];return f_(u,c,u.firstChild,[])}constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ei]}set context(c){this._lView[Ei]=c}get destroyed(){return 128==(128&this._lView[on])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[si];if(ys(c)){const u=c[ha],h=u?u.indexOf(this):-1;h>-1&&(Qh(c,h),ic(u,h))}this._attachedToViewContainer=!1}Ed(this._lView[gt],this._lView)}onDestroy(c){yC(this._lView[gt],this._lView,null,c)}markForCheck(){Ma(this._cdRefInjectingView||this._lView)}detach(){this._lView[on]&=-65}reattach(){this._lView[on]|=64}detectChanges(){gf(this._lView[gt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sw(a,c){vc(a,c,c[dn],2,null,null)}(this._lView[gt],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=c}}class tE extends cl{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;gf(c[gt],c,c[Ei],!1)}checkNoChanges(){}get context(){return null}}class m_ extends bs{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=Rn(c);return new np(u,this.ngModule)}}function Vd(a){const c=[];for(let u in a)a.hasOwnProperty(u)&&c.push({propName:a[u],templateName:u});return c}class p_{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,h){h=It(h);const m=this.injector.get(c,Cv,h);return m!==Cv||u===Cv?m:this.parentInjector.get(c,u,h)}}class np extends jw{get inputs(){return Vd(this.componentDef.inputs)}get outputs(){return Vd(this.componentDef.outputs)}constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function Ot(a){return a.map(Gw).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}create(c,u,h,m){let y=(m=m||this.ngModule)instanceof af?m:m?.injector;y&&null!==this.componentDef.getStandaloneInjector&&(y=this.componentDef.getStandaloneInjector(y)||y);const E=y?new p_(c,y):c,C=E.get(Aa,null);if(null===C)throw new Oe(407,!1);const S=E.get(K1,null),R=C.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",H=h?function ck(a,c,u){return a.selectRootElement(c,u===Ue.ShadowDom)}(R,h,this.componentDef.encapsulation):wd(R,L,function nE(a){const c=a.toLowerCase();return"svg"===c?Br:"math"===c?"math":null}(L)),ie=this.componentDef.onPush?288:272,ge=Bv(0,null,null,1,0,null,null,null,null,null),Le=Nv(null,ge,null,ie,null,null,C,R,S,E,null);let st,Ct;Wu(Le);try{const Lt=this.componentDef;let tn,Je=null;Lt.findHostDirectiveDefs?(tn=[],Je=new Map,Lt.findHostDirectiveDefs(Lt,tn,Je),tn.push(Lt)):tn=[Lt];const hn=function g_(a,c){const u=a[gt],h=Jn;return a[h]=c,ss(u,h,2,"#host",null)}(Le,H),Ni=function DC(a,c,u,h,m,y,E,C){const S=m[gt];!function vk(a,c,u,h){for(const m of a)c.mergedAttrs=Ka(c.mergedAttrs,m.hostAttrs);null!==c.mergedAttrs&&(xc(c,c.mergedAttrs,!0),null!==u&&qm(h,u,c))}(h,a,c,E);const R=y.createRenderer(c,u),L=Nv(m,u_(u),null,u.onPush?32:16,m[a.index],a,y,R,C||null,null,null);return S.firstCreatePass&&d_(S,a,h.length-1),Ci(m,L),m[a.index]=L}(hn,H,Lt,tn,Le,C,R);Ct=_m(ge,Jn),H&&function MC(a,c,u,h){if(h)Yc(a,u,["ng-version",Ic.full]);else{const{attrs:m,classes:y}=function $t(a){const c=[],u=[];let h=1,m=2;for(;h<a.length;){let y=a[h];if("string"==typeof y)2===m?""!==y&&c.push(y,a[++h]):8===m&&u.push(y);else{if(!ai(m))break;m=y}h++}return{attrs:c,classes:u}}(c.selectors[0]);m&&Yc(a,u,m),y&&y.length>0&&iu(a,u,y.join(" "))}}(R,Lt,H,h),void 0!==u&&function kC(a,c,u){const h=a.projection=[];for(let m=0;m<c.length;m++){const y=u[m];h.push(null!=y?Array.from(y):null)}}(Ct,this.ngContentSelectors,u),st=function bk(a,c,u,h,m,y){const E=er(),C=m[gt],S=hr(E,m);wC(C,m,E,u,null,h);for(let L=0;L<u.length;L++)oe(Ri(m,C,E.directiveStart+L,E),m);Jw(C,m,E),S&&oe(S,m);const R=Ri(m,C,E.directiveStart+E.componentOffset,E);if(a[Ei]=m[Ei]=R,null!==y)for(const L of y)L(R,c);return Lv(C,E,a),R}(Ni,Lt,tn,Je,Le,[Es]),Fv(ge,Le,null)}finally{Ku()}return new SC(this.componentType,st,uf(Ct,Le),Le,Ct)}}class SC extends lf{constructor(c,u,h,m,y){super(),this.location=h,this._rootLView=m,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new tE(m),this.componentType=c}setInput(c,u){const h=this._tNode.inputs;let m;if(null!==h&&(m=h[c])){const y=this._rootLView;ka(y[gt],y,m,c,u),Ma(Ji(this._tNode.index,y))}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function Es(){const a=er();Yu(ke()[gt],a)}function di(a){let c=function rE(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;c;){let m;if(Ms(a))m=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Oe(903,!1);m=c.\u0275dir}if(m){if(u){h.push(m);const E=a;E.inputs=Uv(a.inputs),E.declaredInputs=Uv(a.declaredInputs),E.outputs=Uv(a.outputs);const C=m.hostBindings;C&&wk(a,C);const S=m.viewQuery,R=m.contentQueries;if(S&&RC(a,S),R&&ip(a,R),Ve(a.inputs,m.inputs),Ve(a.declaredInputs,m.declaredInputs),Ve(a.outputs,m.outputs),Ms(m)&&m.data.animation){const L=a.data;L.animation=(L.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let E=0;E<y.length;E++){const C=y[E];C&&C.ngInherit&&C(a),C===di&&(u=!1)}}c=Object.getPrototypeOf(c)}!function Bd(a){let c=0,u=null;for(let h=a.length-1;h>=0;h--){const m=a[h];m.hostVars=c+=m.hostVars,m.hostAttrs=Ka(m.hostAttrs,u=Ka(u,m.hostAttrs))}}(h)}function Uv(a){return a===ve?{}:a===rt?[]:a}function RC(a,c){const u=a.viewQuery;a.viewQuery=u?(h,m)=>{c(h,m),u(h,m)}:c}function ip(a,c){const u=a.contentQueries;a.contentQueries=u?(h,m,y)=>{c(h,m,y),u(h,m,y)}:c}function wk(a,c){const u=a.hostBindings;a.hostBindings=u?(h,m)=>{c(h,m),u(h,m)}:c}function __(a){return!!oE(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function oE(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Vs(a,c,u){return!Object.is(a[c],u)&&(a[c]=u,!0)}function yf(a,c,u,h){const m=Vs(a,c,u);return Vs(a,c+1,h)||m}function gu(a,c,u,h){const m=ke();return Vs(m,$a(),c)&&(un(),ea(ui(),m,a,c,u,h)),gu}function vf(a,c,u,h,m,y,E,C){const R=function Hv(a,c,u,h,m){const y=yf(a,c,u,h);return Vs(a,c+2,m)||y}(a,ks(),u,m,E);return Rs(3),R?c+Qe(u)+h+Qe(m)+y+Qe(E)+C:mn}function lE(a,c,u,h,m,y,E,C){const S=ke(),R=un(),L=a+Jn,H=R.firstCreatePass?function b_(a,c,u,h,m,y,E,C,S){const R=c.consts,L=ss(c,a,4,E||null,ga(R,C));Xw(c,u,L,ga(R,S)),Yu(c,L);const H=L.tView=Bv(2,L,h,m,y,c.directiveRegistry,c.pipeRegistry,null,c.schemas,R);return null!==c.queries&&(c.queries.template(c,L),H.queries=c.queries.embeddedTView(L)),L}(L,R,S,c,u,h,m,y,E):R.data[L];ts(H,!1);const ie=S[dn].createComment("");xd(R,S,ie,H),oe(ie,S),Ci(S,S[L]=pf(ie,S,ie,H)),wh(H)&&Da(R,S,H),null!=E&&Vv(S,H,C)}function VC(a){return Ur(function Yy(){return nn.lFrame.contextLView}(),Jn+a)}function Cc(a,c,u){const h=ke();return Vs(h,$a(),c)&&Jo(un(),ui(),h,a,c,h[dn],u,!1),Cc}function uE(a,c,u,h,m){const E=m?"class":"style";ka(a,u,c.inputs[E],E,h)}function w_(a,c,u,h){const m=ke(),y=un(),E=Jn+a,C=m[dn],S=y.firstCreatePass?function Io(a,c,u,h,m,y){const E=c.consts,S=ss(c,a,2,h,ga(E,m));return Xw(c,u,S,ga(E,y)),null!==S.attrs&&xc(S,S.attrs,!1),null!==S.mergedAttrs&&xc(S,S.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,S),S}(E,y,m,c,u,h):y.data[E],R=m[E]=wd(C,c,function Cm(){return nn.lFrame.currentNamespace}()),L=wh(S);return ts(S,!0),qm(C,R,S),32!=(32&S.flags)&&xd(y,m,R,S),0===function vm(){return nn.lFrame.elementDepthCount}()&&oe(R,m),function Uu(){nn.lFrame.elementDepthCount++}(),L&&(Da(y,m,S),Lv(y,S,m)),null!==h&&Vv(m,S),w_}function jd(){let a=er();Em()?Hu():(a=a.parent,ts(a,!1));const c=a;!function bm(){nn.lFrame.elementDepthCount--}();const u=un();return u.firstCreatePass&&(Yu(u,a),Ml(a)&&u.queries.elementEnd(a)),null!=c.classesWithoutHost&&function zl(a){return 0!=(8&a.flags)}(c)&&uE(u,c,ke(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Ga(a){return 0!=(16&a.flags)}(c)&&uE(u,c,ke(),c.stylesWithoutHost,!1),jd}function Wv(a,c,u,h){return w_(a,c,u,h),jd(),Wv}function UC(){return ke()}function pn(a){return!!a&&"function"==typeof a.then}function jC(a){return!!a&&"function"==typeof a.subscribe}const Zv=jC;function Yv(a,c,u,h){const m=ke(),y=un(),E=er();return E_(y,m,m[dn],E,a,c,h),Yv}function Qv(a,c){const u=er(),h=ke(),m=un();return E_(m,h,h_(Wc(m.data),u,h),u,a,c),Qv}function E_(a,c,u,h,m,y,E){const C=wh(h),R=a.firstCreatePass&&mu(a),L=c[Ei],H=fu(c);let ie=!0;if(3&h.type||E){const st=hr(h,c),Ct=E?E(st):st,Lt=H.length,tn=E?hn=>E(dr(hn[h.index])):h.index;let Je=null;if(!E&&C&&(Je=function zC(a,c,u,h){const m=a.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const E=m[y];if(E===u&&m[y+1]===h){const C=c[ho],S=m[y+2];return C.length>S?C[S]:null}"string"==typeof E&&(y+=2)}return null}(a,c,m,h.index)),null!==Je)(Je.__ngLastListenerFn__||Je).__ngNextListenerFn__=y,Je.__ngLastListenerFn__=y,ie=!1;else{y=$C(h,c,L,y,!1);const hn=u.listen(Ct,m,y);H.push(y,hn),R&&R.push(m,tn,Lt,Lt+1)}}else y=$C(h,c,L,y,!1);const ge=h.outputs;let Le;if(ie&&null!==ge&&(Le=ge[m])){const st=Le.length;if(st)for(let Ct=0;Ct<st;Ct+=2){const Ni=c[Le[Ct]][Le[Ct+1]].subscribe(y),Mr=H.length;H.push(y,Ni),R&&R.push(m,h.index,Mr,-(Mr+1))}}}function HC(a,c,u,h){try{return es(6,c,u),!1!==u(h)}catch(m){return pu(a,m),!1}finally{es(7,c,u)}}function $C(a,c,u,h,m){return function y(E){if(E===Function)return h;Ma(a.componentOffset>-1?Ji(a.index,c):c);let S=HC(c,u,h,E),R=y.__ngNextListenerFn__;for(;R;)S=HC(c,u,R,E)&&S,R=R.__ngNextListenerFn__;return m&&!1===S&&(E.preventDefault(),E.returnValue=!1),S}}function dE(a=1){return function kg(a){return(nn.lFrame.contextLView=function Zu(a,c){for(;a>0;)c=c[Ua],a--;return c}(a,nn.lFrame.contextLView))[Ei]}(a)}function ap(a,c){let u=null;const h=function $w(a){const c=a.attrs;if(null!=c){const u=c.indexOf(5);if(!(1&u))return c[u+1]}return null}(a);for(let m=0;m<c.length;m++){const y=c[m];if("*"!==y){if(null===h?lu(a,y,!0):gr(h,y))return m}else u=m}return u}function zd(a){const c=ke()[ki][Vi];if(!c.projection){const h=c.projection=ad(a?a.length:1,null),m=h.slice();let y=c.child;for(;null!==y;){const E=a?ap(y,a):0;null!==E&&(m[E]?m[E].projectionNext=y:h[E]=y,m[E]=y),y=y.next}}}function hE(a,c=0,u){const h=ke(),m=un(),y=ss(m,Jn+a,16,null,u||null);null===y.projection&&(y.projection=c),Hu(),32!=(32&y.flags)&&function Kg(a,c,u){is(c[dn],0,c,u,Um(a,u,c),zm(u.parent||c[Vi],u,c))}(m,h,y)}function Tf(a,c){return a<<17|c<<2}function vu(a){return a>>17&32767}function pE(a){return 2|a}function $d(a){return(131068&a)>>2}function Gd(a,c){return-131069&a|c<<2}function Jv(a){return 1|a}function eb(a,c,u,h,m){const y=a[u+1],E=null===c;let C=h?vu(y):$d(y),S=!1;for(;0!==C&&(!1===S||E);){const L=a[C+1];_E(a[C],c)&&(S=!0,a[C+1]=h?Jv(L):pE(L)),C=h?vu(L):$d(L)}S&&(a[u+1]=h?pE(y):Jv(y))}function _E(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&Os(a,c)>=0}function Cf(a,c,u){return Sc(a,c,u,!1),Cf}function Af(a,c){return Sc(a,c,null,!0),Af}function Sc(a,c,u,h){const m=ke(),y=un(),E=Rs(2);y.firstUpdatePass&&function JC(a,c,u,h){const m=a.data;if(null===m[u+1]){const y=m[Cr()],E=function bE(a,c){return c>=a.expandoStartIndex}(a,u);(function fp(a,c){return 0!=(a.flags&(c?8:16))})(y,h)&&null===c&&!E&&(c=!1),c=function Mk(a,c,u,h){const m=Wc(a);let y=h?c.residualClasses:c.residualStyles;if(null===m)0===(h?c.classBindings:c.styleBindings)&&(u=up(u=qd(null,a,c,u,h),c.attrs,h),y=null);else{const E=c.directiveStylingLast;if(-1===E||a[E]!==m)if(u=qd(m,a,c,u,h),null===y){let S=function kk(a,c,u){const h=u?c.classBindings:c.styleBindings;if(0!==$d(h))return a[vu(h)]}(a,c,h);void 0!==S&&Array.isArray(S)&&(S=qd(null,a,c,S[1],h),S=up(S,c.attrs,h),function Rk(a,c,u,h){a[vu(u?c.classBindings:c.styleBindings)]=h}(a,c,h,S))}else y=function wE(a,c,u){let h;const m=c.directiveEnd;for(let y=1+c.directiveStylingLast;y<m;y++)h=up(h,a[y].hostAttrs,u);return up(h,c.attrs,u)}(a,c,h)}return void 0!==y&&(h?c.residualClasses=y:c.residualStyles=y),u}(m,y,c,h),function lp(a,c,u,h,m,y){let E=y?c.classBindings:c.styleBindings,C=vu(E),S=$d(E);a[h]=u;let L,R=!1;if(Array.isArray(u)?(L=u[1],(null===L||Os(u,L)>0)&&(R=!0)):L=u,m)if(0!==S){const ie=vu(a[C+1]);a[h+1]=Tf(ie,C),0!==ie&&(a[ie+1]=Gd(a[ie+1],h)),a[C+1]=function x_(a,c){return 131071&a|c<<17}(a[C+1],h)}else a[h+1]=Tf(C,0),0!==C&&(a[C+1]=Gd(a[C+1],h)),C=h;else a[h+1]=Tf(S,0),0===C?C=h:a[S+1]=Gd(a[S+1],h),S=h;R&&(a[h+1]=pE(a[h+1])),eb(a,L,h,!0),eb(a,L,h,!1),function gE(a,c,u,h,m){const y=m?a.residualClasses:a.residualStyles;null!=y&&"string"==typeof c&&Os(y,c)>=0&&(u[h+1]=Jv(u[h+1]))}(c,L,a,h,y),E=Tf(C,S),y?c.classBindings=E:c.styleBindings=E}(m,y,c,u,E,h)}}(y,a,E,h),c!==mn&&Vs(m,E,c)&&function dp(a,c,u,h,m,y,E,C){if(!(3&c.type))return;const S=a.data,R=S[C+1],L=function bu(a){return 1==(1&a)}(R)?Dc(S,c,u,m,$d(R),E):void 0;hp(L)||(hp(y)||function Tk(a){return 2==(2&a)}(R)&&(y=Dc(S,null,u,m,C,E)),function ef(a,c,u,h,m){if(c)m?a.addClass(u,h):a.removeClass(u,h);else{let y=-1===h.indexOf("-")?void 0:Fs.DashCase;null==m?a.removeStyle(u,h,y):("string"==typeof m&&m.endsWith("!important")&&(m=m.slice(0,-10),y|=Fs.Important),a.setStyle(u,h,m,y))}}(h,E,Vo(Cr(),u),m,y))}(y,y.data[Cr()],m,m[dn],a,m[E+1]=function tA(a,c){return null==a||""===a||("string"==typeof c?a+=c:"object"==typeof a&&(a=Fe(Oi(a)))),a}(c,u),h,E)}function qd(a,c,u,h,m){let y=null;const E=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<E&&(y=c[C],h=up(h,y.hostAttrs,m),y!==a);)C++;return null!==a&&(u.directiveStylingLast=C),h}function up(a,c,u){const h=u?1:2;let m=-1;if(null!==c)for(let y=0;y<c.length;y++){const E=c[y];"number"==typeof E?m=E:m===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ns(a,E,!!u||c[++y]))}return void 0===a?null:a}function Dc(a,c,u,h,m,y){const E=null===c;let C;for(;m>0;){const S=a[m],R=Array.isArray(S),L=R?S[1]:S,H=null===L;let ie=u[m+1];ie===mn&&(ie=H?rt:void 0);let ge=H?jr(ie,h):L===h?ie:void 0;if(R&&!hp(ge)&&(ge=jr(S,h)),hp(ge)&&(C=ge,E))return C;const Le=a[m+1];m=E?vu(Le):$d(Le)}if(null!==c){let S=y?c.residualClasses:c.residualStyles;null!=S&&(C=jr(S,h))}return C}function hp(a){return void 0!==a}function IE(a,c=""){const u=ke(),h=un(),m=a+Jn,y=h.firstCreatePass?ss(h,m,1,c,null):h.data[m],E=u[m]=function Yh(a,c){return a.createText(c)}(u[dn],c);xd(h,u,E,y),ts(y,!1)}function rb(a){return T_("",a,""),rb}function T_(a,c,u){const h=ke(),m=function _u(a,c,u,h){return Vs(a,$a(),u)?c+Qe(u)+h:mn}(h,a,c,u);return m!==mn&&ta(h,Cr(),m),T_}function xE(a,c,u,h,m){const y=ke(),E=function yu(a,c,u,h,m,y){const C=yf(a,ks(),u,m);return Rs(2),C?c+Qe(u)+h+Qe(m)+y:mn}(y,a,c,u,h,m);return E!==mn&&ta(y,Cr(),E),xE}function TE(a,c,u,h,m,y,E){const C=ke(),S=vf(C,a,c,u,h,m,y,E);return S!==mn&&ta(C,Cr(),S),TE}function kf(a,c,u){const h=ke();if(Vs(h,$a(),c)){const y=un(),E=ui();Jo(y,E,h,a,c,h_(Wc(y.data),E,h),u,!0)}return kf}const ia=void 0;var lA=["en",[["a","p"],["AM","PM"],ia],[["AM","PM"],ia,ia],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ia,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ia,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ia,"{1} 'at' {0}",ia],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Uk(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let _p={};function PE(a){const c=function uA(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=Iu(c);if(u)return u;const h=c.split("-")[0];if(u=Iu(h),u)return u;if("en"===h)return lA;throw new Oe(701,!1)}function Kd(a){return PE(a)[Jt.PluralCase]}function Iu(a){return a in _p||(_p[a]=Kn.ng&&Kn.ng.common&&Kn.ng.common.locales&&Kn.ng.common.locales[a]),_p[a]}var Jt=(()=>((Jt=Jt||{})[Jt.LocaleId=0]="LocaleId",Jt[Jt.DayPeriodsFormat=1]="DayPeriodsFormat",Jt[Jt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Jt[Jt.DaysFormat=3]="DaysFormat",Jt[Jt.DaysStandalone=4]="DaysStandalone",Jt[Jt.MonthsFormat=5]="MonthsFormat",Jt[Jt.MonthsStandalone=6]="MonthsStandalone",Jt[Jt.Eras=7]="Eras",Jt[Jt.FirstDayOfWeek=8]="FirstDayOfWeek",Jt[Jt.WeekendRange=9]="WeekendRange",Jt[Jt.DateFormat=10]="DateFormat",Jt[Jt.TimeFormat=11]="TimeFormat",Jt[Jt.DateTimeFormat=12]="DateTimeFormat",Jt[Jt.NumberSymbols=13]="NumberSymbols",Jt[Jt.NumberFormats=14]="NumberFormats",Jt[Jt.CurrencyCode=15]="CurrencyCode",Jt[Jt.CurrencySymbol=16]="CurrencySymbol",Jt[Jt.CurrencyName=17]="CurrencyName",Jt[Jt.Currencies=18]="Currencies",Jt[Jt.Directionality=19]="Directionality",Jt[Jt.PluralCase=20]="PluralCase",Jt[Jt.ExtraData=21]="ExtraData",Jt))();const Zd="en-US";let hA=Zd;function N_(a,c,u,h,m){if(a=ae(a),Array.isArray(a))for(let y=0;y<a.length;y++)N_(a[y],c,u,h,m);else{const y=un(),E=ke();let C=au(a)?a:ae(a.provide),S=wv(a);const R=er(),L=1048575&R.providerIndexes,H=R.directiveStart,ie=R.providerIndexes>>20;if(au(a)||!a.multi){const ge=new zo(S,m,Xo),Le=Ap(C,c,m?L:L+ie,H);-1===Le?(Yn(Rh(R,E),y,C),Tp(y,a,c.length),c.push(C),R.directiveStart++,R.directiveEnd++,m&&(R.providerIndexes+=1048576),u.push(ge),E.push(ge)):(u[Le]=ge,E[Le]=ge)}else{const ge=Ap(C,c,L+ie,H),Le=Ap(C,c,L,L+ie),Ct=Le>=0&&u[Le];if(m&&!Ct||!m&&!(ge>=0&&u[ge])){Yn(Rh(R,E),y,C);const Lt=function NA(a,c,u,h,m){const y=new zo(a,u,Xo);return y.multi=[],y.index=c,y.componentProviders=0,Cp(y,m,h&&!u),y}(m?XE:QE,u.length,m,h,S);!m&&Ct&&(u[Le].providerFactory=Lt),Tp(y,a,c.length,0),c.push(C),R.directiveStart++,R.directiveEnd++,m&&(R.providerIndexes+=1048576),u.push(Lt),E.push(Lt)}else Tp(y,a,ge>-1?ge:Le,Cp(u[m?Le:ge],S,!m&&h));!m&&h&&Ct&&u[Le].componentProviders++}}}function Tp(a,c,u,h){const m=au(c),y=function r_(a){return!!a.useClass}(c);if(m||y){const S=(y?ae(c.useClass):c).prototype.ngOnDestroy;if(S){const R=a.destroyHooks||(a.destroyHooks=[]);if(!m&&c.multi){const L=R.indexOf(u);-1===L?R.push(u,[h,S]):R[L+1].push(h,S)}else R.push(u,S)}}}function Cp(a,c,u){return u&&a.componentProviders++,a.multi.push(c)-1}function Ap(a,c,u,h){for(let m=u;m<h;m++)if(c[m]===a)return m;return-1}function QE(a,c,u,h){return F_(this.multi,[])}function XE(a,c,u,h){const m=this.multi;let y;if(this.providerFactory){const E=this.providerFactory.componentProviders,C=Ri(u,u[gt],this.providerFactory.index,h);y=C.slice(0,E),F_(m,y);for(let S=E;S<C.length;S++)y.push(C[S])}else y=[],F_(m,y);return y}function F_(a,c){for(let u=0;u<a.length;u++)c.push((0,a[u])());return c}function FA(a,c=[]){return u=>{u.providersResolver=(h,m)=>function OA(a,c,u){const h=un();if(h.firstCreatePass){const m=Ms(a);N_(u,h.data,h.blueprint,m,!0),N_(c,h.data,h.blueprint,m,!1)}}(h,m?m(a):a,c)}}class Of{}class L_{}function JE(a,c){return new LA(a,c??null)}class LA extends Of{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new m_(this);const h=Lr(c);this._bootstrapComponents=vo(h.bootstrap),this._r3Injector=rk(c,u,[{provide:Of,useValue:this},{provide:bs,useValue:this.componentFactoryResolver}],Fe(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class cs extends L_{constructor(c){super(),this.moduleType=c}create(c){return new LA(this.moduleType,c)}}class tR extends Of{constructor(c,u,h){super(),this.componentFactoryResolver=new m_(this),this.instance=null;const m=new Uw([...c,{provide:Of,useValue:this},{provide:bs,useValue:this.componentFactoryResolver}],u||sf(),h,new Set(["environment"]));this.injector=m,m.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function bb(a,c,u=null){return new tR(a,c,u).injector}let wb=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=Fw(0,u.type),m=h.length>0?bb([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,m)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=Be({token:a,providedIn:"environment",factory:()=>new a(Mn(af))}),a})();function Sp(a){a.getStandaloneInjector=c=>c.get(wb).getOrCreateStandaloneInjector(a)}function xb(a,c,u,h,m,y){const E=c+u;return Vs(a,E,m)?function ll(a,c,u){return a[c]=u}(a,E+1,y?h.call(y,m):h(m)):function eh(a,c){const u=a[c];return u===mn?void 0:u}(a,E+1)}function GA(a,c){const u=un();let h;const m=a+Jn;u.firstCreatePass?(h=function qA(a,c){if(c)for(let u=c.length-1;u>=0;u--){const h=c[u];if(a===h.name)return h}}(c,u.pipeRegistry),u.data[m]=h,h.onDestroy&&(u.destroyHooks??(u.destroyHooks=[])).push(m,h.onDestroy)):h=u.data[m];const y=h.factory||(h.factory=fo(h.type)),E=Ir(Xo);try{const C=Hl(!1),S=y();return Hl(C),function LC(a,c,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),c[u]=h}(u,ke(),m,S),S}finally{Ir(E)}}function WA(a,c,u){const h=a+Jn,m=ke(),y=Ur(m,h);return function Lf(a,c){return a[gt].data[c].pure}(m,h)?xb(m,function Bi(){const a=nn.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}(),c,y.transform,u,y):y.transform(u)}function B_(a){return c=>{setTimeout(a,void 0,c)}}const Mc=class dR extends l.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,h){let m=c,y=u||(()=>null),E=h;if(c&&"object"==typeof c){const S=c;m=S.next?.bind(S),y=S.error?.bind(S),E=S.complete?.bind(S)}this.__isAsync&&(y=B_(y),m&&(m=B_(m)),E&&(E=B_(E)));const C=super.subscribe({next:m,error:y,complete:E});return c instanceof ue.w0&&c.add(C),C}};function hI(){return this._results[Symbol.iterator]()}class Mp{get changes(){return this._changes||(this._changes=new Mc)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Mp.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=hI)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const h=this;h.dirty=!1;const m=function Ws(a){return a.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function Vh(a,c,u){if(a.length!==c.length)return!1;for(let h=0;h<a.length;h++){let m=a[h],y=c[h];if(u&&(m=u(m),y=u(y)),y!==m)return!1}return!0}(h._results,m,u))&&(h._results=m,h.length=m.length,h.last=m[this.length-1],h.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vf=(()=>{class a{}return a.__NG_ELEMENT_ID__=fI,a})();const kp=Vf,th=class extends kp{constructor(c,u,h){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(c,u){const h=this._declarationTContainer.tView,m=Nv(this._declarationLView,h,c,16,null,h.declTNode,null,null,null,null,u||null);m[jc]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[Gs];return null!==E&&(m[Gs]=E.createEmbeddedView(h)),Fv(h,m,c),new cl(m)}};function fI(){return Tu(er(),ke())}function Tu(a,c){return 4&a.type?new th(c,a,uf(a,c)):null}let Cu=(()=>{class a{}return a.__NG_ELEMENT_ID__=KA,a})();function KA(){return Cb(er(),ke())}const Rp=Cu,ZA=class extends Rp{constructor(c,u,h){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=h}get element(){return uf(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const c=Mm(this._hostTNode,this._hostLView);if(Za(c)){const u=Ya(c,this._hostLView),h=ya(c);return new $o(u[gt].data[h+8],u)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=YA(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-ur}createEmbeddedView(c,u,h){let m,y;"number"==typeof h?m=h:null!=h&&(m=h.index,y=h.injector);const E=c.createEmbeddedView(u||{},y);return this.insert(E,m),E}createComponent(c,u,h,m,y){const E=c&&!function od(a){return"function"==typeof a}(c);let C;if(E)C=u;else{const H=u||{};C=H.index,h=H.injector,m=H.projectableNodes,y=H.environmentInjector||H.ngModuleRef}const S=E?c:new np(Rn(c)),R=h||this.parentInjector;if(!y&&null==S.ngModule){const ie=(E?R:this.parentInjector).get(af,null);ie&&(y=ie)}const L=S.create(R,m,void 0,y);return this.insert(L.hostView,C),L}insert(c,u){const h=c._lView,m=h[gt];if(function Th(a){return ys(a[si])}(h)){const L=this.indexOf(c);if(-1!==L)this.detach(L);else{const H=h[si],ie=new ZA(H,H[Vi],H[si]);ie.detach(ie.indexOf(c))}}const y=this._adjustIndex(u),E=this._lContainer;!function el(a,c,u,h){const m=ur+h,y=u.length;h>0&&(u[m-1][Ds]=c),h<y-ur?(c[Ds]=u[m],jg(u,ur+h,c)):(u.push(c),c[Ds]=null),c[si]=u;const E=c[jc];null!==E&&u!==E&&function Dw(a,c){const u=a[fa];c[ki]!==c[si][si][ki]&&(a[bh]=!0),null===u?a[fa]=[c]:u.push(c)}(E,c);const C=c[Gs];null!==C&&C.insertView(a),c[on]|=64}(m,h,E,y);const C=nu(y,E),S=h[dn],R=Jh(S,E[zc]);return null!==R&&function tv(a,c,u,h,m,y){h[Ss]=m,h[Vi]=c,vc(a,h,u,1,m,y)}(m,E[Vi],S,h,R,C),c.attachToViewContainerRef(),jg(U_(E),y,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=YA(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),h=Qh(this._lContainer,u);h&&(ic(U_(this._lContainer),u),Ed(h[gt],h))}detach(c){const u=this._adjustIndex(c,-1),h=Qh(this._lContainer,u);return h&&null!=ic(U_(this._lContainer),u)?new cl(h):null}_adjustIndex(c,u=0){return c??this.length+u}};function YA(a){return a[ha]}function U_(a){return a[ha]||(a[ha]=[])}function Cb(a,c){let u;const h=c[a.index];if(ys(h))u=h;else{let m;if(8&a.type)m=dr(h);else{const y=c[dn];m=y.createComment("");const E=hr(a,c);_c(y,Jh(y,E),m,function rv(a,c){return a.nextSibling(c)}(y,E),!1)}c[a.index]=u=pf(h,c,m,a),Ci(c,u)}return new ZA(u,a,c)}class j_{constructor(c){this.queryList=c,this.matches=null}clone(){return new j_(this.queryList)}setDirty(){this.queryList.setDirty()}}class z_{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const h=null!==c.contentQueries?c.contentQueries[0]:u.length,m=[];for(let y=0;y<h;y++){const E=u.getByIndex(y);m.push(this.queries[E.indexInDeclarationView].clone())}return new z_(m)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==Db(c,u).matches&&this.queries[u].setDirty()}}class QA{constructor(c,u,h=null){this.predicate=c,this.flags=u,this.read=h}}class mI{constructor(c=[]){this.queries=c}elementStart(c,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let h=0;h<this.length;h++){const m=null!==u?u.length:0,y=this.getByIndex(h).embeddedTView(c,m);y&&(y.indexInDeclarationView=h,null!==u?u.push(y):u=[y])}return null!==u?new mI(u):null}template(c,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class H_{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new H_(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const y=h[m];this.matchTNodeWithReadOption(c,u,pI(u,y)),this.matchTNodeWithReadOption(c,u,Xa(u,c,y,!1,!1))}else h===Vf?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,Xa(u,c,h,!1,!1))}matchTNodeWithReadOption(c,u,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===al||m===Cu||m===Vf&&4&u.type)this.addMatch(u.index,-2);else{const y=Xa(u,c,m,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,h)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function pI(a,c){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===c)return u[h+1];return null}function XA(a,c,u,h){return-1===u?function hR(a,c){return 11&a.type?uf(a,c):4&a.type?Tu(a,c):null}(c,a):-2===u?function fR(a,c,u){return u===al?uf(c,a):u===Vf?Tu(c,a):u===Cu?Cb(c,a):void 0}(a,c,h):Ri(a,a[gt],u,c)}function gI(a,c,u,h){const m=c[Gs].queries[h];if(null===m.matches){const y=a.data,E=u.matches,C=[];for(let S=0;S<E.length;S+=2){const R=E[S];C.push(R<0?null:XA(c,y[R],E[S+1],u.metadata.read))}m.matches=C}return m.matches}function Ab(a,c,u,h){const m=a.queries.getByIndex(u),y=m.matches;if(null!==y){const E=gI(a,c,m,u);for(let C=0;C<y.length;C+=2){const S=y[C];if(S>0)h.push(E[C/2]);else{const R=y[C+1],L=c[-S];for(let H=ur;H<L.length;H++){const ie=L[H];ie[jc]===ie[si]&&Ab(ie[gt],ie,R,h)}if(null!==L[fa]){const H=L[fa];for(let ie=0;ie<H.length;ie++){const ge=H[ie];Ab(ge[gt],ge,R,h)}}}}}return h}function _I(a){const c=ke(),u=un(),h=Ch();Gu(h+1);const m=Db(u,h);if(a.dirty&&function Bu(a){return 4==(4&a[on])}(c)===(2==(2&m.metadata.flags))){if(null===m.matches)a.reset([]);else{const y=m.crossesNgTemplate?Ab(u,c,h,[]):gI(u,c,m,h);a.reset(y,W1),a.notifyOnChanges()}return!0}return!1}function yI(a,c,u){const h=un();h.firstCreatePass&&(Sb(h,new QA(a,c,u),-1),2==(2&c)&&(h.staticViewQueries=!0)),tS(h,ke(),c)}function JA(a,c,u,h){const m=un();if(m.firstCreatePass){const y=er();Sb(m,new QA(c,u,h),y.index),function vI(a,c){const u=a.contentQueries||(a.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,c)}(m,a),2==(2&u)&&(m.staticContentQueries=!0)}tS(m,ke(),u)}function eS(){return function mR(a,c){return a[Gs].queries[c].queryList}(ke(),Ch())}function tS(a,c,u){const h=new Mp(4==(4&u));yC(a,c,h,h.destroy),null===c[Gs]&&(c[Gs]=new z_),c[Gs].queries.push(new j_(h))}function Sb(a,c,u){null===a.queries&&(a.queries=new mI),a.queries.track(new H_(c,u))}function Db(a,c){return a.queries.getByIndex(c)}function nS(a,c){return Tu(a,c)}function $_(a){return!!Lr(a)}function K_(...a){}const Bb=new bn("Application Initializer");let Bf=(()=>{class a{constructor(u){this.appInits=u,this.resolve=K_,this.reject=K_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(pn(y))u.push(y);else if(Zv(y)){const E=new Promise((C,S)=>{y.subscribe({complete:C,error:S})});u.push(E)}}Promise.all(u).then(()=>{h()}).catch(m=>{this.reject(m)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Mn(Bb,8))},a.\u0275prov=Be({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Ub=new bn("AppId",{providedIn:"root",factory:function OI(){return`${jb()}${jb()}${jb()}`}});function jb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zb=new bn("Platform Initializer"),yS=new bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),FI=new bn("AnimationModuleType");let IR=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Be({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Hb=new bn("LocaleId",{providedIn:"root",factory:()=>ze(Hb,Dt.Optional|Dt.SkipSelf)||function xR(){return typeof $localize<"u"&&$localize.locale||Zd}()}),vS=new bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class CR{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let AR=(()=>{class a{compileModuleSync(u){return new cs(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),y=vo(Lr(u).declarations).reduce((E,C)=>{const S=Rn(C);return S&&E.push(new np(S)),E},[]);return new CR(h,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Be({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Gb=(()=>Promise.resolve(0))();function In(a){typeof Zone>"u"?Gb.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Us{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mc(!1),this.onMicrotaskEmpty=new Mc(!1),this.onStable=new Mc(!1),this.onError=new Mc(!1),typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&u,m.shouldCoalesceRunChangeDetection=h,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function wS(){let a=Kn.requestAnimationFrame,c=Kn.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function fl(a){const c=()=>{!function xs(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Kn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Y_(a),a.isCheckStableRunning=!0,hi(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Y_(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,m,y,E,C)=>{try{return IS(a),u.invokeTask(m,y,E,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||a.shouldCoalesceRunChangeDetection)&&c(),Lp(a)}},onInvoke:(u,h,m,y,E,C,S)=>{try{return IS(a),u.invoke(m,y,E,C,S)}finally{a.shouldCoalesceRunChangeDetection&&c(),Lp(a)}},onHasTask:(u,h,m,y)=>{u.hasTask(m,y),h===m&&("microTask"==y.change?(a._hasPendingMicrotasks=y.microTask,Y_(a),hi(a)):"macroTask"==y.change&&(a.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,h,m,y)=>(u.handleError(m,y),a.runOutsideAngular(()=>a.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Us.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(Us.isInAngularZone())throw new Oe(909,!1)}run(c,u,h){return this._inner.run(c,u,h)}runTask(c,u,h,m){const y=this._inner,E=y.scheduleEventTask("NgZoneEvent: "+m,c,ES,K_,K_);try{return y.runTask(E,u,h)}finally{y.cancelTask(E)}}runGuarded(c,u,h){return this._inner.runGuarded(c,u,h)}runOutsideAngular(c){return this._outer.run(c)}}const ES={};function hi(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Y_(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function IS(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Lp(a){a._nesting--,hi(a)}class xS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mc,this.onMicrotaskEmpty=new Mc,this.onStable=new Mc,this.onError=new Mc}run(c,u,h){return c.apply(u,h)}runGuarded(c,u,h){return c.apply(u,h)}runOutsideAngular(c){return c()}runTask(c,u,h,m){return c.apply(u,h)}}const qb=new bn(""),TS=new bn("");let fi,VI=(()=>{class a{constructor(u,h,m){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fi||(function RR(a){fi=a}(m),m.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Us.assertNotInAngularZone(),In(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())In(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,m){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:m})}whenStable(u,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,m){return[]}}return a.\u0275fac=function(u){return new(u||a)(Mn(Us),Mn(CS),Mn(TS))},a.\u0275prov=Be({token:a,factory:a.\u0275fac}),a})(),CS=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return fi?.findTestabilityInTree(this,u,h)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Be({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const rh=!1;let Uf=null;const sr=new bn("AllowMultipleToken"),Wb=new bn("PlatformDestroyListeners"),AS=new bn("appBootstrapListener");class FR{constructor(c,u){this.name=c,this.token=u}}function SS(a,c,u=[]){const h=`Platform: ${c}`,m=new bn(h);return(y=[])=>{let E=Oa();if(!E||E.injector.get(sr,!1)){const C=[...u,...y,{provide:m,useValue:!0}];a?a(C):function LR(a){if(Uf&&!Uf.get(sr,!1))throw new Oe(400,!1);Uf=a;const c=a.get(ml);(function BR(a){const c=a.get(zb,null);c&&c.forEach(u=>u())})(a)}(function Vp(a=[],c){return hf.create({name:c,providers:[{provide:yv,useValue:"platform"},{provide:Wb,useValue:new Set([()=>Uf=null])},...a]})}(C,h))}return function DS(a){const c=Oa();if(!c)throw new Oe(401,!1);return c}()}}function Oa(){return Uf?.get(ml)??null}let ml=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const m=function sh(a,c){let u;return u="noop"===a?new xS:("zone.js"===a?void 0:a)||new Us(c),u}(h?.ngZone,function UR(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),y=[{provide:Us,useValue:m}];return m.run(()=>{const E=hf.create({providers:y,parent:this.injector,name:u.moduleType.name}),C=u.create(E),S=C.injector.get(Jm,null);if(!S)throw new Oe(402,!1);return m.runOutsideAngular(()=>{const R=m.onError.subscribe({next:L=>{S.handleError(L)}});C.onDestroy(()=>{X_(this._modules,C),R.unsubscribe()})}),function Q_(a,c,u){try{const h=u();return pn(h)?h.catch(m=>{throw c.runOutsideAngular(()=>a.handleError(m)),m}):h}catch(h){throw c.runOutsideAngular(()=>a.handleError(h)),h}}(S,m,()=>{const R=C.injector.get(Bf);return R.runInitializers(),R.donePromise.then(()=>(function db(a){me(a,"Expected localeId to be defined"),"string"==typeof a&&(hA=a.toLowerCase().replace(/_/g,"-"))}(C.injector.get(Hb,Zd)||Zd),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,h=[]){const m=MS({},h);return function PR(a,c,u){const h=new cs(u);return Promise.resolve(h)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(u){const h=u.injector.get(Kb);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new Oe(-403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(Wb,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Mn(hf))},a.\u0275prov=Be({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function MS(a,c){return Array.isArray(c)?c.reduce(MS,a):{...a,...c}}let Kb=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,h,m){this._zone=u,this._injector=h,this._exceptionHandler=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new j.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),E=new j.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Us.assertNotInAngularZone(),In(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{Us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),R.unsubscribe()}});this.isStable=(0,Ie.T)(y,E.pipe((0,xe.B)()))}bootstrap(u,h){const m=u instanceof jw;if(!this._injector.get(Bf).done){!m&&uo(u);throw new Oe(405,rh)}let E;E=m?u:this._injector.get(bs).resolveComponentFactory(u),this.componentTypes.push(E.componentType);const C=function NR(a){return a.isBoundToModule}(E)?void 0:this._injector.get(Of),R=E.create(hf.NULL,[],h||E.selector,C),L=R.location.nativeElement,H=R.injector.get(qb,null);return H?.registerApplication(L),R.onDestroy(()=>{this.detachView(R.hostView),X_(this.components,R),H?.unregisterApplication(L)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new Oe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;X_(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get(AS,[]);h.push(...this._bootstrapListeners),h.forEach(m=>m(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>X_(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Oe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(Mn(Us),Mn(af),Mn(Jm))},a.\u0275prov=Be({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function X_(a,c){const u=a.indexOf(c);u>-1&&a.splice(u,1)}function jR(){return!1}let zI=(()=>{class a{}return a.__NG_ELEMENT_ID__=zR,a})();function zR(a){return function HR(a,c,u){if(Hc(a)&&!u){const h=Ji(a.index,c);return new cl(h,h)}return 47&a.type?new cl(c[ki],c):null}(er(),ke(),16==(16&a))}class Hf{constructor(){}supports(c){return __(c)}create(c){return new H2(c)}}const z2=(a,c)=>c;class H2{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||z2}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,h=this._removalsHead,m=0,y=null;for(;u||h;){const E=!h||u&&u.currentIndex<NS(h,m,y)?u:h,C=NS(E,m,y),S=E.currentIndex;if(E===h)m--,h=h._nextRemoved;else if(u=u._next,null==E.previousIndex)m++;else{y||(y=[]);const R=C-m,L=S-m;if(R!=L){for(let ie=0;ie<R;ie++){const ge=ie<y.length?y[ie]:y[ie]=0,Le=ge+ie;L<=Le&&Le<R&&(y[ie]=ge+1)}y[E.previousIndex]=L-R}}C!==S&&c(E,C,S)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!__(c))throw new Oe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let m,y,E,u=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let C=0;C<this.length;C++)y=c[C],E=this._trackByFn(C,y),null!==u&&Object.is(u.trackById,E)?(h&&(u=this._verifyReinsertion(u,y,E,C)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,E,C),h=!0),u=u._next}else m=0,function xk(a,c){if(Array.isArray(a))for(let u=0;u<a.length;u++)c(a[u]);else{const u=a[Symbol.iterator]();let h;for(;!(h=u.next()).done;)c(h.value)}}(c,C=>{E=this._trackByFn(m,C),null!==u&&Object.is(u.trackById,E)?(h&&(u=this._verifyReinsertion(u,C,E,m)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,E,m),h=!0),u=u._next,m++}),this.length=m;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,h,m){let y;return null===c?y=this._itTail:(y=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,y,m)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,y,m)):c=this._addAfter(new $I(u,h),y,m),c}_verifyReinsertion(c,u,h,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?c=this._reinsertAfter(y,c._prev,m):c.currentIndex!=m&&(c.currentIndex=m,this._addToMoves(c,m)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const m=c._prevRemoved,y=c._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(c,u,h),this._addToMoves(c,h),c}_moveAfter(c,u,h){return this._unlink(c),this._insertAfter(c,u,h),this._addToMoves(c,h),c}_addAfter(c,u,h){return this._insertAfter(c,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,h){const m=null===u?this._itHead:u._next;return c._next=m,c._prev=u,null===m?this._itTail=c:m._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new ny),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,h=c._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ny),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class $I{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qR{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const u=c._prevDup,h=c._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class ny{constructor(){this.map=new Map}put(c){const u=c.trackById;let h=this.map.get(u);h||(h=new qR,this.map.set(u,h)),h.add(c)}get(c,u){const m=this.map.get(c);return m?m.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function NS(a,c,u){const h=a.previousIndex;if(null===h)return h;let m=0;return u&&h<u.length&&(m=u[h]),h+c+m}class FS{constructor(){}supports(c){return c instanceof Map||oE(c)}create(){return new t0}}class t0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||oE(c)))throw new Oe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,m)=>{if(u&&u.key===m)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(m,h);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const h=c._prev;return u._next=c,u._prev=h,c._prev=u,h&&(h._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const m=this._records.get(c);this._maybeAddToChanges(m,u);const y=m._prev,E=m._next;return y&&(y._next=E),E&&(E._prev=y),m._next=null,m._prev=null,m}const h=new WR(c);return this._records.set(c,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(h=>u(c[h],h))}}class WR{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function LS(){return new Hp([new Hf])}let Hp=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const m=h.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||LS()),deps:[[a,new hd,new sc]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(null!=h)return h;throw new Oe(901,!1)}}return a.\u0275prov=Be({token:a,providedIn:"root",factory:LS}),a})();function VS(){return new n0([new FS])}let n0=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const m=h.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||VS()),deps:[[a,new hd,new sc]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(h)return h;throw new Oe(901,!1)}}return a.\u0275prov=Be({token:a,providedIn:"root",factory:VS}),a})();const jS=SS(null,"core",[]);let GI=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Mn(Kb))},a.\u0275mod=Cl({type:a}),a.\u0275inj=ln({}),a})();function r0(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},6101:(Ut,$e,U)=>{U.d($e,{Z:()=>pt});var l=U(5578),ue=U(1617),j=U(9752);U(9357);class xe{constructor(Oe,Ye){this._delegate=Oe,this.firebase=Ye,(0,j._addComponent)(Oe,new ue.wA("app-compat",()=>this,"PUBLIC")),this.container=Oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this._delegate.automaticDataCollectionEnabled=Oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Oe=>{this._delegate.checkDestroyed(),Oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Oe,Ye=j._DEFAULT_ENTRY_NAME){var Qe;this._delegate.checkDestroyed();const ot=this._delegate.container.getProvider(Oe);return!ot.isInitialized()&&"EXPLICIT"===(null===(Qe=ot.getComponent())||void 0===Qe?void 0:Qe.instantiationMode)&&ot.initialize(),ot.getImmediate({identifier:Ye})}_removeServiceInstance(Oe,Ye=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Oe).clearInstance(Ye)}_addComponent(Oe){(0,j._addComponent)(this._delegate,Oe)}_addOrOverwriteComponent(Oe){(0,j._addOrOverwriteComponent)(this._delegate,Oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ve=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function Me(){const Rt=function Fe(Rt){const Oe={},Ye={__esModule:!0,initializeApp:function it(Xe,De={}){const ne=j.initializeApp(Xe,De);if((0,l.r3)(Oe,ne.name))return Oe[ne.name];const ht=new Rt(ne,Ye);return Oe[ne.name]=ht,ht},app:ot,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function je(Xe){const De=Xe.name,ne=De.replace("-compat","");if(j._registerComponent(Xe)&&"PUBLIC"===Xe.type){const ht=(ct=ot())=>{if("function"!=typeof ct[ne])throw Ve.create("invalid-app-argument",{appName:De});return ct[ne]()};void 0!==Xe.serviceProps&&(0,l.ZB)(ht,Xe.serviceProps),Ye[ne]=ht,Rt.prototype[ne]=function(...ct){return this._getService.bind(this,De).apply(this,Xe.multipleInstances?ct:[])}}return"PUBLIC"===Xe.type?Ye[ne]:null},removeApp:function Qe(Xe){delete Oe[Xe]},useAsService:function at(Xe,De){return"serverAuth"===De?null:De},modularAPIs:j}};function ot(Xe){if(!(0,l.r3)(Oe,Xe=Xe||j._DEFAULT_ENTRY_NAME))throw Ve.create("no-app",{appName:Xe});return Oe[Xe]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function He(){return Object.keys(Oe).map(Xe=>Oe[Xe])}}),ot.App=Rt,Ye}(xe);return Rt.INTERNAL=Object.assign(Object.assign({},Rt.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function Oe(Ye){(0,l.ZB)(Rt,Ye)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Rt}const te=Me();(0,l.jU)()&&void 0!==self.firebase&&self;const pt=te},9752:(Ut,$e,U)=>{U.r($e),U.d($e,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>Xn,_DEFAULT_ENTRY_NAME:()=>Zi,_addComponent:()=>ye,_addOrOverwriteComponent:()=>Ee,_apps:()=>me,_clearComponents:()=>ln,_components:()=>he,_getProvider:()=>Be,_registerComponent:()=>qe,_removeServiceInstance:()=>Nt,deleteApp:()=>Li,getApp:()=>_n,getApps:()=>Mi,initializeApp:()=>Fr,onLog:()=>ms,registerVersion:()=>Dt,setLogLevel:()=>_h});var l=U(5861),ue=U(1617),j=U(9357),Ie=U(5578);U(8766);const te=new j.Yd("@firebase/app"),Zi="[DEFAULT]",Bc={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},me=new Map,he=new Map;function ye(St,ze){try{St.container.addComponent(ze)}catch(It){te.debug(`Component ${ze.name} failed to register with FirebaseApp ${St.name}`,It)}}function Ee(St,ze){St.container.addOrOverwriteComponent(ze)}function qe(St){const ze=St.name;if(he.has(ze))return te.debug(`There were multiple attempts to register component ${ze}.`),!1;he.set(ze,St);for(const It of me.values())ye(It,St);return!0}function Be(St,ze){const It=St.container.getProvider("heartbeat").getImmediate({optional:!0});return It&&It.triggerHeartbeat(),St.container.getProvider(ze)}function Nt(St,ze,It=Zi){Be(St,ze).clearInstance(It)}function ln(){he.clear()}const Ht=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zn{constructor(ze,It,en){this._isDeleted=!1,this._options=Object.assign({},ze),this._config=Object.assign({},It),this._name=It.name,this._automaticDataCollectionEnabled=It.automaticDataCollectionEnabled,this._container=en,this.container.addComponent(new ue.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ze){this._isDeleted=ze}checkDestroyed(){if(this.isDeleted)throw Ht.create("app-deleted",{appName:this._name})}}const Xn="9.23.0";function Fr(St,ze={}){let It=St;"object"!=typeof ze&&(ze={name:ze});const en=Object.assign({name:Zi,automaticDataCollectionEnabled:!1},ze),Zt=en.name;if("string"!=typeof Zt||!Zt)throw Ht.create("bad-app-name",{appName:String(Zt)});if(It||(It=(0,Ie.aH)()),!It)throw Ht.create("no-options");const xn=me.get(Zt);if(xn){if((0,Ie.vZ)(It,xn.options)&&(0,Ie.vZ)(en,xn.config))return xn;throw Ht.create("duplicate-app",{appName:Zt})}const li=new ue.H0(Zt);for(const q of he.values())li.addComponent(q);const K=new zn(It,en,li);return me.set(Zt,K),K}function _n(St=Zi){const ze=me.get(St);if(!ze&&St===Zi&&(0,Ie.aH)())return Fr();if(!ze)throw Ht.create("no-app",{appName:St});return ze}function Mi(){return Array.from(me.values())}function Li(St){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(St){const ze=St.name;me.has(ze)&&(me.delete(ze),yield Promise.all(St.container.getProviders().map(It=>It.delete())),St.isDeleted=!0)})).apply(this,arguments)}function Dt(St,ze,It){var en;let Zt=null!==(en=Bc[St])&&void 0!==en?en:St;It&&(Zt+=`-${It}`);const xn=Zt.match(/\s|\//),li=ze.match(/\s|\//);if(xn||li){const K=[`Unable to register library "${Zt}" with version "${ze}":`];return xn&&K.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),xn&&li&&K.push("and"),li&&K.push(`version name "${ze}" contains illegal characters (whitespace or "/")`),void te.warn(K.join(" "))}qe(new ue.wA(`${Zt}-version`,()=>({library:Zt,version:ze}),"VERSION"))}function ms(St,ze){if(null!==St&&"function"!=typeof St)throw Ht.create("invalid-log-argument");(0,j.Am)(St,ze)}function _h(St){(0,j.Ub)(St)}},1617:(Ut,$e,U)=>{U.d($e,{H0:()=>Fe,wA:()=>j});var l=U(5861),ue=U(5578);class j{constructor(te,Y,ae){this.name=te,this.instanceFactory=Y,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const Ie="[DEFAULT]";class xe{constructor(te,Y){this.name=te,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const Y=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(Y)){const ae=new ue.BH;if(this.instancesDeferred.set(Y,ae),this.isInitialized(Y)||this.shouldAutoInitialize())try{const dt=this.getOrInitializeService({instanceIdentifier:Y});dt&&ae.resolve(dt)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(te){var Y;const ae=this.normalizeInstanceIdentifier(te?.identifier),dt=null!==(Y=te?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(Ge){if(dt)return null;throw Ge}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function Ve(Me){return"EAGER"===Me.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[Y,ae]of this.instancesDeferred.entries()){const dt=this.normalizeInstanceIdentifier(Y);try{const Ge=this.getOrInitializeService({instanceIdentifier:dt});ae.resolve(Ge)}catch{}}}}clearInstance(te=Ie){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,l.Z)(function*(){const Y=Array.from(te.instances.values());yield Promise.all([...Y.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...Y.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=Ie){return this.instances.has(te)}getOptions(te=Ie){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:Y={}}=te,ae=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const dt=this.getOrInitializeService({instanceIdentifier:ae,options:Y});for(const[Ge,pt]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(Ge)&&pt.resolve(dt);return dt}onInit(te,Y){var ae;const dt=this.normalizeInstanceIdentifier(Y),Ge=null!==(ae=this.onInitCallbacks.get(dt))&&void 0!==ae?ae:new Set;Ge.add(te),this.onInitCallbacks.set(dt,Ge);const pt=this.instances.get(dt);return pt&&te(pt,dt),()=>{Ge.delete(te)}}invokeOnInitCallbacks(te,Y){const ae=this.onInitCallbacks.get(Y);if(ae)for(const dt of ae)try{dt(te,Y)}catch{}}getOrInitializeService({instanceIdentifier:te,options:Y={}}){let ae=this.instances.get(te);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=te,Me===Ie?void 0:Me),options:Y}),this.instances.set(te,ae),this.instancesOptions.set(te,Y),this.invokeOnInitCallbacks(ae,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,ae)}catch{}var Me;return ae||null}normalizeInstanceIdentifier(te=Ie){return this.component?this.component.multipleInstances?te:Ie:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const Y=this.getProvider(te.name);if(Y.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);Y.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const Y=new xe(te,this);return this.providers.set(te,Y),Y}getProviders(){return Array.from(this.providers.values())}}},9357:(Ut,$e,U)=>{U.d($e,{Am:()=>Me,Ub:()=>Fe,Yd:()=>Ve,in:()=>ue});const l=[];var ue=(()=>((ue=ue||{})[ue.DEBUG=0]="DEBUG",ue[ue.VERBOSE=1]="VERBOSE",ue[ue.INFO=2]="INFO",ue[ue.WARN=3]="WARN",ue[ue.ERROR=4]="ERROR",ue[ue.SILENT=5]="SILENT",ue))();const j={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},Ie=ue.INFO,xe={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},de=(te,Y,...ae)=>{if(Y<te.logLevel)return;const dt=(new Date).toISOString(),Ge=xe[Y];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Ge](`[${dt}]  ${te.name}:`,...ae)};class Ve{constructor(Y){this.name=Y,this._logLevel=Ie,this._logHandler=de,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in ue))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?j[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...Y),this._logHandler(this,ue.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...Y),this._logHandler(this,ue.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...Y),this._logHandler(this,ue.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...Y),this._logHandler(this,ue.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...Y),this._logHandler(this,ue.ERROR,...Y)}}function Fe(te){l.forEach(Y=>{Y.setLogLevel(te)})}function Me(te,Y){for(const ae of l){let dt=null;Y&&Y.level&&(dt=j[Y.level]),ae.userLogHandler=null===te?null:(Ge,pt,...Rt)=>{const Oe=Rt.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch{return null}}).filter(Ye=>Ye).join(" ");pt>=(dt??Ge.logLevel)&&te({level:ue[pt].toLowerCase(),message:Oe,args:Rt,type:Ge.name})}}}},8140:(Ut,$e,U)=>{U.d($e,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=U(9752)},1274:(Ut,$e,U)=>{U.d($e,{Z:()=>l.Z});var l=U(6101)},8463:(Ut,$e,U)=>{U.r($e);var l=U(5861),ue=U(6101),j=U(5578),Ie=U(9752),xe=U(7582),de=U(9357);U(1617);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rt=Ge,Oe=new j.LL("auth","Firebase",Ge()),Qe=new de.Yd("@firebase/auth");function it(w,...p){Qe.logLevel<=de.in.ERROR&&Qe.error(`Auth (${Ie.SDK_VERSION}): ${w}`,...p)}function He(w,...p){throw De(w,...p)}function je(w,...p){return De(w,...p)}function at(w,p,_){const I=Object.assign(Object.assign({},Rt()),{[p]:_});return new j.LL("auth","Firebase",I).create(p,{appName:w.name})}function Xe(w,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&He(w,"argument-error"),at(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function De(w,...p){if("string"!=typeof w){const _=p[0],I=[...p.slice(1)];return I[0]&&(I[0].appName=w.name),w._errorFactory.create(_,...I)}return Oe.create(w,...p)}function ne(w,p,..._){if(!w)throw De(p,..._)}function ht(w){const p="INTERNAL ASSERTION FAILED: "+w;throw it(p),new Error(p)}function ct(w,p){w||ht(p)}function Kt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function ci(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ki{constructor(p,_){this.shortDelay=p,this.longDelay=_,ct(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function fs(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Tt(){return"http:"===ci()||"https:"===ci()}()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zi(w,p){ct(w.emulator,"Emulator should always be set here");const{url:_}=w.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Bc{static initialize(p,_,I){this.fetchImpl=p,_&&(this.headersImpl=_),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const me={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},he=new Ki(3e4,6e4);function ye(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function Ee(w,p,_,I){return qe.apply(this,arguments)}function qe(){return(qe=(0,l.Z)(function*(w,p,_,I,M={}){return Be(w,M,(0,l.Z)(function*(){let F={},Z={};I&&("GET"===p?Z=I:F={body:JSON.stringify(I)});const le=(0,j.xO)(Object.assign({key:w.config.apiKey},Z)).slice(1),We=yield w._getAdditionalHeaders();return We["Content-Type"]="application/json",w.languageCode&&(We["X-Firebase-Locale"]=w.languageCode),Bc.fetch()(Ht(w,w.config.apiHost,_,le),Object.assign({method:p,headers:We,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Be(w,p,_){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,l.Z)(function*(w,p,_){w._canInitEmulator=!1;const I=Object.assign(Object.assign({},me),p);try{const M=new zn(w),F=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const Z=yield F.json();if("needConfirmation"in Z)throw Xn(w,"account-exists-with-different-credential",Z);if(F.ok&&!("errorMessage"in Z))return Z;{const le=F.ok?Z.errorMessage:Z.error.message,[We,ft]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw Xn(w,"credential-already-in-use",Z);if("EMAIL_EXISTS"===We)throw Xn(w,"email-already-in-use",Z);if("USER_DISABLED"===We)throw Xn(w,"user-disabled",Z);const Bt=I[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw at(w,Bt,ft);He(w,Bt)}}catch(M){if(M instanceof j.ZR)throw M;He(w,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function ln(w,p,_,I){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(w,p,_,I,M={}){const F=yield Ee(w,p,_,I,M);return"mfaPendingCredential"in F&&He(w,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function Ht(w,p,_,I){const M=`${p}${_}?${I}`;return w.config.emulator?Zi(w.config,M):`${w.config.apiScheme}://${M}`}class zn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,I)=>{this.timer=setTimeout(()=>I(je(this.auth,"network-request-failed")),he.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xn(w,p,_){const I={appName:w.name};_.email&&(I.email=_.email),_.phoneNumber&&(I.phoneNumber=_.phoneNumber);const M=je(w,p,I);return M.customData._tokenResponse=_,M}function _n(){return(_n=(0,l.Z)(function*(w,p){return Ee(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(w,p){return Ee(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(w,p){return Ee(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ms(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function co(){return(co=(0,l.Z)(function*(w,p=!1){const _=(0,j.m9)(w),I=yield _.getIdToken(p),M=Kn(I);ne(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const F="object"==typeof M.firebase?M.firebase:void 0,Z=F?.sign_in_provider;return{claims:M,token:I,authTime:ms(Qr(M.auth_time)),issuedAtTime:ms(Qr(M.iat)),expirationTime:ms(Qr(M.exp)),signInProvider:Z||null,signInSecondFactor:F?.sign_in_second_factor||null}})).apply(this,arguments)}function Qr(w){return 1e3*Number(w)}function Kn(w){const[p,_,I]=w.split(".");if(void 0===p||void 0===_||void 0===I)return it("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(_);return M?JSON.parse(M):(it("Failed to decode base64 JWT payload"),null)}catch(M){return it("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Pt(w,p){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(w,p,_=!1){if(_)return p;try{return yield p}catch(I){throw I instanceof j.ZR&&function lo({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(I)&&w.auth.currentUser===w&&(yield w.auth.signOut()),I}})).apply(this,arguments)}class Xr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const I=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),I)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class Yi{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ms(this.lastLoginAt),this.creationTime=ms(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jr(w){return gi.apply(this,arguments)}function gi(){return gi=(0,l.Z)(function*(w){var p;const _=w.auth,I=yield w.getIdToken(),M=yield Pt(w,function Wn(w,p){return Dt.apply(this,arguments)}(_,{idToken:I}));ne(M?.users.length,_,"internal-error");const F=M.users[0];w._notifyReloadListener(F);const Z=null!==(p=F.providerUserInfo)&&void 0!==p&&p.length?function wn(w){return w.map(p=>{var{providerId:_}=p,I=(0,xe._T)(p,["providerId"]);return{providerId:_,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(F.providerUserInfo):[],le=function ua(w,p){return[...w.filter(I=>!p.some(M=>M.providerId===I.providerId)),...p]}(w.providerData,Z),Bt=!!w.isAnonymous&&!(w.email&&F.passwordHash||le?.length),_t={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:le,metadata:new Yi(F.createdAt,F.lastLoginAt),isAnonymous:Bt};Object.assign(w,_t)}),gi.apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(w){const p=(0,j.m9)(w);yield Jr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(w,p){const _=yield Be(w,{},(0,l.Z)(function*(){const I=(0,j.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:F}=w.config,Z=Ht(w,M,"/v1/token",`key=${F}`),le=yield w._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",Bc.fetch()(Z,{method:"POST",headers:le,body:I})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class St{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ne(p.idToken,"internal-error"),ne(typeof p.idToken<"u","internal-error"),ne(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Hn(w){const p=Kn(w);return ne(p,"internal-error"),ne(typeof p.exp<"u","internal-error"),ne(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p){var _=this;return(0,l.Z)(function*(I,M=!1){return ne(!_.accessToken||_.refreshToken,I,"user-token-expired"),M||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(I,_.refreshToken),_.accessToken):null:_.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var I=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:F,expiresIn:Z}=yield function $s(w,p){return Mn.apply(this,arguments)}(p,_);I.updateTokensAndExpiration(M,F,Number(Z))})()}updateTokensAndExpiration(p,_,I){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(p,_){const{refreshToken:I,accessToken:M,expirationTime:F}=_,Z=new St;return I&&(ne("string"==typeof I,"internal-error",{appName:p}),Z.refreshToken=I),M&&(ne("string"==typeof M,"internal-error",{appName:p}),Z.accessToken=M),F&&(ne("number"==typeof F,"internal-error",{appName:p}),Z.expirationTime=F),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new St,this.toJSON())}_performRefresh(){return ht("not implemented")}}function ze(w,p){ne("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class It{constructor(p){var{uid:_,auth:I,stsTokenManager:M}=p,F=(0,xe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=I,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Yi(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,l.Z)(function*(){const I=yield Pt(_,_.stsTokenManager.getToken(_.auth,p));return ne(I,_.auth,"internal-error"),_.accessToken!==I&&(_.accessToken=I,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),I})()}getIdTokenResult(p){return function Ir(w){return co.apply(this,arguments)}(this,p)}reload(){return function Tl(w){return $n.apply(this,arguments)}(this)}_assign(p){this!==p&&(ne(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new It(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p){var _=this;return(0,l.Z)(function*(I,M=!1){let F=!1;I.idToken&&I.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(I),F=!0),M&&(yield Jr(_)),yield _.auth._persistUserIfCurrent(_),F&&_.auth._notifyListenersIfCurrent(_)}).apply(this,arguments)}delete(){var p=this;return(0,l.Z)(function*(){const _=yield p.getIdToken();return yield Pt(p,function Fr(w,p){return _n.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var I,M,F,Z,le,We,ft,Bt;const _t=null!==(I=_.displayName)&&void 0!==I?I:void 0,gn=null!==(M=_.email)&&void 0!==M?M:void 0,vs=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,Ca=null!==(Z=_.photoURL)&&void 0!==Z?Z:void 0,sl=null!==(le=_.tenantId)&&void 0!==le?le:void 0,yi=null!==(We=_._redirectEventId)&&void 0!==We?We:void 0,n_=null!==(ft=_.createdAt)&&void 0!==ft?ft:void 0,hv=null!==(Bt=_.lastLoginAt)&&void 0!==Bt?Bt:void 0,{uid:rf,emailVerified:i_,isAnonymous:fv,providerData:Md,stsTokenManager:kd}=_;ne(rf&&kd,p,"internal-error");const Ym=St.fromJSON(this.name,kd);ne("string"==typeof rf,p,"internal-error"),ze(_t,p.name),ze(gn,p.name),ne("boolean"==typeof i_,p,"internal-error"),ne("boolean"==typeof fv,p,"internal-error"),ze(vs,p.name),ze(Ca,p.name),ze(sl,p.name),ze(yi,p.name),ze(n_,p.name),ze(hv,p.name);const Rd=new It({uid:rf,auth:p,email:gn,emailVerified:i_,displayName:_t,isAnonymous:fv,photoURL:Ca,phoneNumber:vs,tenantId:sl,stsTokenManager:Ym,createdAt:n_,lastLoginAt:hv});return Md&&Array.isArray(Md)&&(Rd.providerData=Md.map(Pw=>Object.assign({},Pw))),yi&&(Rd._redirectEventId=yi),Rd}static _fromIdTokenResponse(p,_){return(0,l.Z)(function*(I,M,F=!1){const Z=new St;Z.updateFromServerResponse(M);const le=new It({uid:M.localId,auth:I,stsTokenManager:Z,isAnonymous:F});return yield Jr(le),le}).apply(this,arguments)}}const en=new Map;function Zt(w){ct(w instanceof Function,"Expected a class definition");let p=en.get(w);return p?(ct(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,en.set(w,p),p)}function K(w,p,_){return`firebase:${w}:${p}:${_}`}function ve(w=(0,j.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function kn(w=(0,j.z$)()){return/android/i.test(w)}function Zn(w=(0,j.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Va(w=(0,j.z$)()){return Zn(w)||kn(w)||function wi(w=(0,j.z$)()){return/webos/i.test(w)}(w)||function Qi(w=(0,j.z$)()){return/blackberry/i.test(w)}(w)||/windows phone/i.test(w)||function sn(w=(0,j.z$)()){return/iemobile/i.test(w)}(w)}function Gn(w){return(0,j.m9)(w)}class Oo{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return ht("not implemented")}_getIdTokenResponse(p){return ht("not implemented")}_linkToIdToken(p,_){return ht("not implemented")}_getReauthenticationResolver(p){return ht("not implemented")}}function jc(w,p){return No.apply(this,arguments)}function No(){return(No=(0,l.Z)(function*(w,p){return Ee(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function gs(w,p){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,l.Z)(function*(w,p){return Ee(w,"POST","/v1/accounts:sendOobCode",ye(w,p))})).apply(this,arguments)}function zc(){return(zc=(0,l.Z)(function*(w,p){return gs(w,p)})).apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(w,p){return gs(w,p)})).apply(this,arguments)}function qs(w,p){return um.apply(this,arguments)}function um(){return(um=(0,l.Z)(function*(w,p){return ln(w,"POST","/v1/accounts:signInWithIdp",ye(w,p))})).apply(this,arguments)}class Fo extends Oo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Fo(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):He("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:M}=_,F=(0,xe._T)(_,["providerId","signInMethod"]);if(!I||!M)return null;const Z=new Fo(I,M);return Z.idToken=F.idToken||void 0,Z.accessToken=F.accessToken||void 0,Z.secret=F.secret,Z.nonce=F.nonce,Z.pendingToken=F.pendingToken||null,Z}_getIdTokenResponse(p){return qs(p,this.buildRequest())}_linkToIdToken(p,_){const I=this.buildRequest();return I.idToken=_,qs(p,I)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,qs(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,j.xO)(_)}return p}}function Eh(){return(Eh=(0,l.Z)(function*(w,p){return Ee(w,"POST","/v1/accounts:sendVerificationCode",ye(w,p))})).apply(this,arguments)}function dm(){return(dm=(0,l.Z)(function*(w,p){return ln(w,"POST","/v1/accounts:signInWithPhoneNumber",ye(w,p))})).apply(this,arguments)}function Nu(){return(Nu=(0,l.Z)(function*(w,p){const _=yield ln(w,"POST","/v1/accounts:signInWithPhoneNumber",ye(w,p));if(_.temporaryProof)throw Xn(w,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const hm={USER_NOT_FOUND:"user-not-found"};function Fu(){return(Fu=(0,l.Z)(function*(w,p){return ln(w,"POST","/v1/accounts:signInWithPhoneNumber",ye(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),hm)})).apply(this,arguments)}class Tr extends Oo{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Tr({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Tr({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Wy(w,p){return dm.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Ky(w,p){return Nu.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ww(w,p){return Fu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:I,verificationCode:M}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:I,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:I,phoneNumber:M,temporaryProof:F}=p;return I||_||M||F?new Tr({verificationId:_,verificationCode:I,phoneNumber:M,temporaryProof:F}):null}}class Lo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class fo extends Lo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class za extends fo{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return ne("providerId"in _&&"signInMethod"in _,"argument-error"),Fo._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ne(p.idToken||p.accessToken,"argument-error"),Fo._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return za.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return za.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:I,oauthTokenSecret:M,pendingToken:F,nonce:Z,providerId:le}=p;if(!I&&!M&&!_&&!F||!le)return null;try{return new za(le)._credential({idToken:_,accessToken:I,nonce:Z,pendingToken:F})}catch{return null}}}let Ih=(()=>{class w extends fo{constructor(){super("facebook.com")}static credential(_){return Fo._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),kl=(()=>{class w extends fo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,I){return Fo._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:I})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:M}=_;if(!I&&!M)return null;try{return w.credential(I,M)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),pm=(()=>{class w extends fo{constructor(){super("github.com")}static credential(_){return Fo._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class ma extends Oo{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return qs(p,this.buildRequest())}_linkToIdToken(p,_){const I=this.buildRequest();return I.idToken=_,qs(p,I)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,qs(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:M,pendingToken:F}=_;return I&&M&&F&&I===M?new ma(I,F):null}static _create(p,_){return new ma(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Vu=(()=>{class w extends fo{constructor(){super("twitter.com")}static credential(_,I){return Fo._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:I})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:I,oauthTokenSecret:M}=_;if(!I||!M)return null;try{return w.credential(I,M)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();class Br{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,I){return(0,l.Z)(function*(M,F,Z,le=!1){const We=yield It._fromIdTokenResponse(M,Z,le),ft=Rl(Z);return new Br({user:We,providerId:ft,_tokenResponse:Z,operationType:F})}).apply(this,arguments)}static _forOperation(p,_,I){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(I,!0);const M=Rl(I);return new Br({user:p,providerId:M,_tokenResponse:I,operationType:_})})()}}function Rl(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}class Vo extends j.ZR{constructor(p,_,I,M){var F;super(_.code,_.message),this.operationType=I,this.user=M,Object.setPrototypeOf(this,Vo.prototype),this.customData={appName:p.name,tenantId:null!==(F=p.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(p,_,I,M){return new Vo(p,_,I,M)}}function hr(w,p,_,I){return("reauthenticate"===p?_._getReauthenticationResolver(w):_._getIdTokenResponse(w)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?Vo._fromErrorAndOperation(w,F,p,I):F})}function gm(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function Ur(){return Ur=(0,l.Z)(function*(w,p){const _=(0,j.m9)(w);yield Bo(!0,_,p);const{providerUserInfo:I}=yield function Mi(w,p){return Li.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),M=gm(I||[]);return _.providerData=_.providerData.filter(F=>M.has(F.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Ur.apply(this,arguments)}function Ji(w,p){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,l.Z)(function*(w,p,_=!1){const I=yield Pt(w,p._linkToIdToken(w.auth,yield w.getIdToken()),_);return Br._forOperation(w,"link",I)})).apply(this,arguments)}function Bo(w,p,_){return Th.apply(this,arguments)}function Th(){return(Th=(0,l.Z)(function*(w,p,_){yield Jr(p);const M=!1===w?"provider-already-linked":"no-such-provider";ne(gm(p.providerData).has(_)===w,p.auth,M)})).apply(this,arguments)}function ga(w,p){return qc.apply(this,arguments)}function qc(){return(qc=(0,l.Z)(function*(w,p,_=!1){const{auth:I}=w,M="reauthenticate";try{const F=yield Pt(w,hr(I,M,p,w),_);ne(F.idToken,I,"internal-error");const Z=Kn(F.idToken);ne(Z,I,"internal-error");const{sub:le}=Z;return ne(w.uid===le,I,"user-mismatch"),Br._forOperation(w,M,F)}catch(F){throw"auth/user-not-found"===F?.code&&He(I,"user-mismatch"),F}})).apply(this,arguments)}function Pl(w,p){return nn.apply(this,arguments)}function nn(){return(nn=(0,l.Z)(function*(w,p,_=!1){const I="signIn",M=yield hr(w,I,p),F=yield Br._fromIdTokenResponse(w,I,M);return _||(yield w._updateCurrentUser(F.user)),F})).apply(this,arguments)}function vm(w,p){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,l.Z)(function*(w,p){const _=(0,j.m9)(w);return yield Bo(!1,_,p.providerId),Ji(_,p)})).apply(this,arguments)}function bm(w,p){return ju.apply(this,arguments)}function ju(){return(ju=(0,l.Z)(function*(w,p){return ga((0,j.m9)(w),p)})).apply(this,arguments)}class Nl{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Fl._fromServerResponse(p,_):"totpInfo"in _?er._fromServerResponse(p,_):He(p,"internal-error")}}class Fl extends Nl{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Fl(_)}}class er extends Nl{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new er(_)}}function Ha(w,p,_){var I;ne((null===(I=_.url)||void 0===I?void 0:I.length)>0,w,"invalid-continue-uri"),ne(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ne(_.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(ne(_.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Bl(){return Bl=(0,l.Z)(function*(w,p){const _=(0,j.m9)(w),M={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&Ha(_.auth,M,p);const{email:F}=yield function bh(w,p){return zc.apply(this,arguments)}(_.auth,M);F!==w.email&&(yield w.reload())}),Bl.apply(this,arguments)}function Ul(){return Ul=(0,l.Z)(function*(w,p,_){const I=(0,j.m9)(w),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};_&&Ha(I.auth,F,_);const{email:Z}=yield function _s(w,p){return ys.apply(this,arguments)}(I.auth,F);Z!==w.email&&(yield w.reload())}),Ul.apply(this,arguments)}function Ku(){return(Ku=(0,l.Z)(function*(w,p){return Ee(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Zu(){return Zu=(0,l.Z)(function*(w,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const I=(0,j.m9)(w),F={idToken:yield I.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},Z=yield Pt(I,function Tm(w,p){return Ku.apply(this,arguments)}(I.auth,F));I.displayName=Z.displayName||null,I.photoURL=Z.photoUrl||null;const le=I.providerData.find(({providerId:We})=>"password"===We);le&&(le.displayName=I.displayName,le.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Z)}),Zu.apply(this,arguments)}function ui(w,p,_){return jl.apply(this,arguments)}function jl(){return(jl=(0,l.Z)(function*(w,p,_){const{auth:I}=w,F={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(F.email=p),_&&(F.password=_);const Z=yield Pt(w,jc(I,F));yield w._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class _a{constructor(p,_,I={}){this.isNewUser=p,this.providerId=_,this.profile=I}}class Pg extends _a{constructor(p,_,I,M){super(p,_,I),this.username=M}}class Cm extends _a{constructor(p,_){super(p,"facebook.com",_)}}class Xy extends Pg{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Yu extends _a{constructor(p,_){super(p,"google.com",_)}}class Sh extends Pg{constructor(p,_,I){super(p,"twitter.com",_,I)}}function Dh(w){const{user:p,_tokenResponse:_}=w;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Rg(w){var p,_;if(!w)return null;const{providerId:I}=w,M=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},F=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!I&&w?.idToken){const Z=null===(_=null===(p=Kn(w.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(Z)return new _a(F,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!I)return null;switch(I){case"facebook.com":return new Cm(F,M);case"github.com":return new Xy(F,M);case"google.com":return new Yu(F,M);case"twitter.com":return new Sh(F,M,w.screenName||null);case"custom":case"anonymous":return new _a(F,null);default:return new _a(F,I,M)}}(_)}class Ga{constructor(p,_,I){this.type=p,this.credential=_,this.auth=I}static _fromIdtoken(p,_){return new Ga("enroll",p,_)}static _fromMfaPendingCredential(p){return new Ga("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,I;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ga._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(I=p.multiFactorSession)&&void 0!==I&&I.idToken)return Ga._fromIdtoken(p.multiFactorSession.idToken)}return null}}class qa{constructor(p,_,I){this.session=p,this.hints=_,this.signInResolver=I}static _fromError(p,_){const I=Gn(p),M=_.customData._serverResponse,F=(M.mfaInfo||[]).map(le=>Nl._fromServerResponse(I,le));ne(M.mfaPendingCredential,I,"internal-error");const Z=Ga._fromMfaPendingCredential(M.mfaPendingCredential);return new qa(Z,F,function(){var le=(0,l.Z)(function*(We){const ft=yield We._process(I,Z);delete M.mfaInfo,delete M.mfaPendingCredential;const Bt=Object.assign(Object.assign({},M),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(_.operationType){case"signIn":const _t=yield Br._fromIdTokenResponse(I,_.operationType,Bt);return yield I._updateCurrentUser(_t.user),_t;case"reauthenticate":return ne(_.user,I,"internal-error"),Br._forOperation(_.user,_.operationType,Bt);default:He(I,"internal-error")}});return function(We){return le.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,l.Z)(function*(){return _.signInResolver(p)})()}}class Za{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(I=>Nl._fromServerResponse(p.auth,I)))})}static _fromUser(p){return new Za(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Ga._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var I=this;return(0,l.Z)(function*(){const M=p,F=yield I.getSession(),Z=yield Pt(I.user,M._process(I.user.auth,F,_));return yield I.user._updateTokensIfNecessary(Z),I.user.reload()})()}unenroll(p){var _=this;return(0,l.Z)(function*(){const I="string"==typeof p?p:p.uid,M=yield _.user.getIdToken();try{const F=yield Pt(_.user,function Ju(w,p){return Ee(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ye(w,p))}(_.user.auth,{idToken:M,mfaEnrollmentId:I}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Z})=>Z!==I),yield _.user._updateTokensIfNecessary(F),yield _.user.reload()}catch(F){throw F}})()}}const ya=new WeakMap;class ed{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qa=(()=>{class w extends ed{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,I)=>this.onStorageEvent(_,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Hl(){const w=(0,j.z$)();return ve(w)||Zn(w)}()&&function yh(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Va(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const I of Object.keys(this.listeners)){const M=this.storage.getItem(I),F=this.localCache[I];M!==F&&_(I,F,M)}}onStorageEvent(_,I=!1){if(!_.key)return void this.forAllChangedKeys((le,We,ft)=>{this.notifyListeners(le,ft)});const M=_.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(M);if(_.newValue!==le)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!I)return}const F=()=>{const le=this.storage.getItem(M);!I&&this.localCache[M]===le||this.notifyListeners(M,le)},Z=this.storage.getItem(M);!function Po(){return(0,j.w1)()&&10===document.documentMode}()||Z===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,I){this.localCache[_]=I;const M=this.listeners[_];if(M)for(const F of Array.from(M))F(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,I,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:I,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(I)}_removeListener(_,I){this.listeners[_]&&(this.listeners[_].delete(I),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,I){var M=()=>super._set,F=this;return(0,l.Z)(function*(){yield M().call(F,_,I),F.localCache[_]=JSON.stringify(I)})()}_get(_){var I=()=>super._get,M=this;return(0,l.Z)(function*(){const F=yield I().call(M,_);return M.localCache[_]=JSON.stringify(F),F})()}_remove(_){var I=()=>super._remove,M=this;return(0,l.Z)(function*(){yield I().call(M,_),delete M.localCache[_]})()}}return w.type="LOCAL",w})(),Ho=(()=>{class w extends ed{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,I){}_removeListener(_,I){}}return w.type="SESSION",w})();function Xc(w="",p=10){let _="";for(let I=0;I<p;I++)_+=Math.floor(10*Math.random());return w+_}function Yn(){return window}const Zl="recaptcha";class po{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Tr._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function cd(){return(cd=(0,l.Z)(function*(w,p,_){const I=(0,j.m9)(w);yield Bo(!1,I,"phone");const M=yield Yl(I.auth,p,(0,j.m9)(_));return new po(M,F=>vm(I,F))})).apply(this,arguments)}function ud(){return(ud=(0,l.Z)(function*(w,p,_){const I=(0,j.m9)(w),M=yield Yl(I.auth,p,(0,j.m9)(_));return new po(M,F=>bm(I,F))})).apply(this,arguments)}function Yl(w,p,_){return ns.apply(this,arguments)}function ns(){return ns=(0,l.Z)(function*(w,p,_){var I;const M=yield _.verify();try{let F;if(ne("string"==typeof M,w,"argument-error"),ne(_.type===Zl,w,"argument-error"),F="string"==typeof p?{phoneNumber:p}:p,"session"in F){const Z=F.session;if("phoneNumber"in F)return ne("enroll"===Z.type,w,"internal-error"),(yield function Yc(w,p){return Ee(w,"POST","/v2/accounts/mfaEnrollment:start",ye(w,p))}(w,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ne("signin"===Z.type,w,"internal-error");const le=(null===(I=F.multiFactorHint)||void 0===I?void 0:I.uid)||F.multiFactorUid;return ne(le,w,"missing-multi-factor-info"),(yield function tc(w,p){return Ee(w,"POST","/v2/accounts/mfaSignIn:start",ye(w,p))}(w,{mfaPendingCredential:Z.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield function qy(w,p){return Eh.apply(this,arguments)}(w,{phoneNumber:F.phoneNumber,recaptchaToken:M});return Z}}finally{_._reset()}}),ns.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(w,p){yield Ji((0,j.m9)(w),p)})).apply(this,arguments)}let _i=(()=>{class w{constructor(_){this.providerId=w.PROVIDER_ID,this.auth=Gn(_)}verifyPhoneNumber(_,I){return Yl(this.auth,_,(0,j.m9)(I))}static credential(_,I){return Tr._fromVerification(_,I)}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:I,temporaryProof:M}=_;return I&&M?Tr._fromTokenResponse(I,M):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function An(w,p){return p?Zt(p):(ne(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class fr extends Oo{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return qs(p,this._buildIdpRequest())}_linkToIdToken(p,_){return qs(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return qs(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Mt(w){return Pl(w.auth,new fr(w),w.bypassAuthState)}function Qn(w){const{auth:p,user:_}=w;return ne(_,p,"internal-error"),ga(_,new fr(w),w.bypassAuthState)}function wa(w){return dd.apply(this,arguments)}function dd(){return(dd=(0,l.Z)(function*(w){const{auth:p,user:_}=w;return ne(_,p,"internal-error"),Ji(_,new fr(w),w.bypassAuthState)})).apply(this,arguments)}class rc{constructor(p,_,I,M,F=!1){this.auth=p,this.resolver=I,this.user=M,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,l.Z)(function*(I,M){p.pendingPromise={resolve:I,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(F){p.reject(F)}});return function(I,M){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,l.Z)(function*(){const{urlResponse:I,sessionId:M,postBody:F,tenantId:Z,error:le,type:We}=p;if(le)return void _.reject(le);const ft={auth:_.auth,requestUri:I,sessionId:M,tenantId:Z||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(We)(ft))}catch(Bt){_.reject(Bt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Mt;case"linkViaPopup":case"linkViaRedirect":return wa;case"reauthViaPopup":case"reauthViaRedirect":return Qn;default:He(this.auth,"internal-error")}}resolve(p){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ln=new Ki(2e3,1e4);function kt(){return(kt=(0,l.Z)(function*(w,p,_){const I=(0,j.m9)(w);Xe(I.auth,p,Lo);const M=An(I.auth,_);return new Ea(I.auth,"reauthViaPopup",p,M,I).executeNotNull()})).apply(this,arguments)}function oc(){return(oc=(0,l.Z)(function*(w,p,_){const I=(0,j.m9)(w);Xe(I.auth,p,Lo);const M=An(I.auth,_);return new Ea(I.auth,"linkViaPopup",p,M,I).executeNotNull()})).apply(this,arguments)}let Ea=(()=>{class w extends rc{constructor(_,I,M,F,Z){super(_,I,F,Z),this.provider=M,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const I=yield _.execute();return ne(I,_.auth,"internal-error"),I})()}onExecution(){var _=this;return(0,l.Z)(function*(){ct(1===_.filter.length,"Popup operations only handle one event");const I=Xc();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],I),_.authWindow.associatedEvent=I,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(je(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const _=()=>{var I,M;this.pollId=null!==(M=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Ln.get())};_()}}return w.currentPopupAction=null,w})();const Go="pendingRedirect",ac=new Map;class ei extends rc{constructor(p,_,I=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,I),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,l.Z)(function*(){let I=ac.get(_.auth._key());if(!I){try{const F=(yield function Pm(w,p){return Om.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;I=()=>Promise.resolve(F)}catch(M){I=()=>Promise.reject(M)}ac.set(_.auth._key(),I)}return _.bypassAuthState||ac.set(_.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,I=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(I,p);if("unknown"!==p.type){if(p.eventId){const M=yield I.auth._redirectUserForId(p.eventId);if(M)return I.user=M,_().call(I,p);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Om(){return(Om=(0,l.Z)(function*(w,p){const _=Uh(p),I=Tn(w);if(!(yield I._isAvailable()))return!1;const M="true"===(yield I._get(_));return yield I._remove(_),M})).apply(this,arguments)}function re(w,p){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(w,p){return Tn(w)._set(Uh(p),"true")})).apply(this,arguments)}function qo(w,p){ac.set(w._key(),p)}function Tn(w){return Zt(w._redirectPersistence)}function Uh(w){return K(Go,w.config.apiKey,w.name)}function an(w,p,_){return function cc(w,p,_){return Ia.apply(this,arguments)}(w,p,_)}function Ia(){return(Ia=(0,l.Z)(function*(w,p,_){const I=(0,j.m9)(w);Xe(I.auth,p,Lo),yield I.auth._initializationPromise;const M=An(I.auth,_);yield re(M,I.auth);const F=yield Ii(I);return M._openRedirect(I.auth,p,"reauthViaRedirect",F)})).apply(this,arguments)}function zg(w,p,_){return function jh(w,p,_){return Nm.apply(this,arguments)}(w,p,_)}function Nm(){return(Nm=(0,l.Z)(function*(w,p,_){const I=(0,j.m9)(w);Xe(I.auth,p,Lo),yield I.auth._initializationPromise;const M=An(I.auth,_);yield Bo(!1,I,p.providerId),yield re(M,I.auth);const F=yield Ii(I);return M._openRedirect(I.auth,p,"linkViaRedirect",F)})).apply(this,arguments)}function Pi(w,p){return lc.apply(this,arguments)}function lc(){return(lc=(0,l.Z)(function*(w,p,_=!1){const I=Gn(w),M=An(I,p),Z=yield new ei(I,M,_).execute();return Z&&!_&&(delete Z.user._redirectEventId,yield I._persistUserIfCurrent(Z.user),yield I._setRedirectUser(null,p)),Z})).apply(this,arguments)}function Ii(w){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(w){const p=Xc(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class uc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(p,I)&&(_=!0,this.sendToConsumer(p,I),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function mr(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fd(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var I;if(p.error&&!fd(p)){const M=(null===(I=p.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";_.onError(je(this.auth,M))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const I=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&I}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xl(p))}saveEventToCache(p){this.cachedEventUids.add(Xl(p)),this.lastProcessedEventTime=Date.now()}}function Xl(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function fd({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===p?.code}function Hh(w){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,l.Z)(function*(w,p={}){return Ee(w,"GET","/v1/projects",p)})).apply(this,arguments)}const $h=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,go=/^https?/;function md(){return(md=(0,l.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield Hh(w);for(const _ of p)try{if(dc(_))return}catch{}He(w,"unauthorized-domain")})).apply(this,arguments)}function dc(w){const p=Kt(),{protocol:_,hostname:I}=new URL(p);if(w.startsWith("chrome-extension://")){const Z=new URL(w);return""===Z.hostname&&""===I?"chrome-extension:"===_&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Z.hostname===I}if(!go.test(_))return!1;if($h.test(w))return I===w;const M=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(I)}const xa=new Ki(3e4,6e4);function Fs(){const w=Yn().___jsl;if(w?.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let _=0;_<w.CP.length;_++)w.CP[_]=null}let Ys=null;function Hg(w){return Ys=Ys||function Gh(w){return new Promise((p,_)=>{var I,M,F;function Z(){Fs(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Fs(),_(je(w,"network-request-failed"))},timeout:xa.get()})}if(null!==(M=null===(I=Yn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(F=Yn().gapi)||void 0===F||!F.load){const le=function Lr(w){return`__${w}${Math.floor(1e6*Math.random())}`}("iframefcb");return Yn()[le]=()=>{gapi.load?Z():_(je(w,"network-request-failed"))},function uo(w){return new Promise((p,_)=>{const I=document.createElement("script");I.setAttribute("src",w),I.onload=p,I.onerror=M=>{const F=je("internal-error");F.customData=M,_(F)},I.type="text/javascript",I.charset="UTF-8",function xr(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(I)})}(`https://apis.google.com/js/api.js?onload=${le}`).catch(We=>_(We))}Z()}}).catch(p=>{throw Ys=null,p})}(w),Ys}const Wo=new Ki(5e3,15e3),pd="__/auth/iframe",Vm="emulator/auth/iframe",gd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _d(w){const p=w.config;ne(p.authDomain,w,"auth-domain-config-required");const _=p.emulator?Zi(p,Vm):`https://${w.config.authDomain}/${pd}`,I={apiKey:p.apiKey,appName:w.name,v:Ie.SDK_VERSION},M=qh.get(w.config.apiHost);M&&(I.eid=M);const F=w._getFrameworks();return F.length&&(I.fw=F.join(",")),`${_}?${(0,j.xO)(I).slice(1)}`}function T(){return T=(0,l.Z)(function*(w){const p=yield Hg(w),_=Yn().gapi;return ne(_,w,"internal-error"),p.open({where:document.body,url:_d(w),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gd,dontclear:!0},I=>new Promise(function(){var M=(0,l.Z)(function*(F,Z){yield I.restyle({setHideOnLeave:!1});const le=je(w,"network-request-failed"),We=Yn().setTimeout(()=>{Z(le)},Wo.get());function ft(){Yn().clearTimeout(We),F(I)}I.ping(ft).then(ft,()=>{Z(le)})});return function(F,Z){return M.apply(this,arguments)}}()))}),T.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O=500,z=600,J="_blank",oe="http://localhost";class Ce{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ut(w,p,_,I=O,M=z){const F=Math.max((window.screen.availHeight-M)/2,0).toString(),Z=Math.max((window.screen.availWidth-I)/2,0).toString();let le="";const We=Object.assign(Object.assign({},A),{width:I.toString(),height:M.toString(),top:F,left:Z}),ft=(0,j.z$)().toLowerCase();_&&(le=function rt(w=(0,j.z$)()){return/crios\//i.test(w)}(ft)?J:_),function Ue(w=(0,j.z$)()){return/firefox\//i.test(w)}(ft)&&(p=p||oe,We.scrollbars="yes");const Bt=Object.entries(We).reduce((gn,[vs,Ca])=>`${gn}${vs}=${Ca},`,"");if(function ps(w=(0,j.z$)()){var p;return Zn(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ft)&&"_self"!==le)return function lt(w,p){const _=document.createElement("a");_.href=w,_.target=p;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(I)}(p||"",le),new Ce(null);const _t=window.open(p||"",le,Bt);ne(_t,w,"popup-blocked");try{_t.focus()}catch{}return new Ce(_t)}const Ft="__/auth/handler",Xt="emulator/auth/handler",rn=encodeURIComponent("fac");function ir(w,p,_,I,M,F){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(w,p,_,I,M,F){ne(w.config.authDomain,w,"auth-domain-config-required"),ne(w.config.apiKey,w,"invalid-api-key");const Z={apiKey:w.config.apiKey,appName:w.name,authType:_,redirectUrl:I,v:Ie.SDK_VERSION,eventId:M};if(p instanceof Lo){p.setDefaultLanguage(w.languageCode),Z.providerId=p.providerId||"",(0,j.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Bt,_t]of Object.entries(F||{}))Z[Bt]=_t}if(p instanceof fo){const Bt=p.getScopes().filter(_t=>""!==_t);Bt.length>0&&(Z.scopes=Bt.join(","))}w.tenantId&&(Z.tid=w.tenantId);const le=Z;for(const Bt of Object.keys(le))void 0===le[Bt]&&delete le[Bt];const We=yield w._getAppCheckToken(),ft=We?`#${rn}=${encodeURIComponent(We)}`:"";return`${function hc({config:w}){return w.emulator?Zi(w,Xt):`https://${w.authDomain}/${Ft}`}(w)}?${(0,j.xO)(le).slice(1)}${ft}`})).apply(this,arguments)}const fc="webStorageSupport",zr=class mc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ho,this._completeRedirectFn=Pi,this._overrideRedirectResult=qo}_openPopup(p,_,I,M){var F=this;return(0,l.Z)(function*(){var Z;ct(null===(Z=F.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const le=yield ir(p,_,I,Kt(),M);return ut(p,le,Xc())})()}_openRedirect(p,_,I,M){var F=this;return(0,l.Z)(function*(){return yield F._originValidation(p),function km(w){Yn().location.href=w}(yield ir(p,_,I,Kt(),M)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:M,promise:F}=this.eventManagers[_];return M?Promise.resolve(M):(ct(F,"If manager is not set, promise should be"),F)}const I=this.initAndGetManager(p);return this.eventManagers[_]={promise:I},I.catch(()=>{delete this.eventManagers[_]}),I}initAndGetManager(p){var _=this;return(0,l.Z)(function*(){const I=yield function Bm(w){return T.apply(this,arguments)}(p),M=new uc(p);return I.register("authEvent",F=>(ne(F?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:M},_.iframes[p._key()]=I,M})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(fc,{type:fc},M=>{var F;const Z=null===(F=M?.[0])||void 0===F?void 0:F[fc];void 0!==Z&&_(!!Z),He(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function eu(w){return md.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Va()||ve()||Zn()}};function el(){return window}const Dw=2e3;function Qh(){return Qh=(0,l.Z)(function*(w,p,_){var I;const{BuildInfo:M}=el();ct(p.sessionId,"AuthEvent did not contain a session ID");const F=yield function _c(w){return Id.apply(this,arguments)}(p.sessionId),Z={};return Zn()?Z.ibi=M.packageName:kn()?Z.apn=M.packageName:He(w,"operation-not-supported-in-this-environment"),M.displayName&&(Z.appDisplayName=M.displayName),Z.sessionId=F,ir(w,_,p.type,void 0,null!==(I=p.eventId)&&void 0!==I?I:void 0,Z)}),Qh.apply(this,arguments)}function gc(){return(gc=(0,l.Z)(function*(w){const{BuildInfo:p}=el(),_={};Zn()?_.iosBundleId=p.packageName:kn()?_.androidPackageName=p.packageName:He(w,"operation-not-supported-in-this-environment"),yield Hh(w,_)})).apply(this,arguments)}function Um(){return(Um=(0,l.Z)(function*(w,p,_){const{cordova:I}=el();let M=()=>{};try{yield new Promise((F,Z)=>{let le=null;function We(){var _t;F();const gn=null===(_t=I.plugins.browsertab)||void 0===_t?void 0:_t.close;"function"==typeof gn&&gn(),"function"==typeof _?.close&&_.close()}function ft(){le||(le=window.setTimeout(()=>{Z(je(w,"redirect-cancelled-by-user"))},Dw))}function Bt(){"visible"===document?.visibilityState&&ft()}p.addPassiveListener(We),document.addEventListener("resume",ft,!1),kn()&&document.addEventListener("visibilitychange",Bt,!1),M=()=>{p.removePassiveListener(We),document.removeEventListener("resume",ft,!1),document.removeEventListener("visibilitychange",Bt,!1),le&&window.clearTimeout(le)}})}finally{M()}})).apply(this,arguments)}function Id(){return(Id=(0,l.Z)(function*(w){const p=function qg(w){if(ct(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const p=new ArrayBuffer(w.length),_=new Uint8Array(p);for(let I=0;I<w.length;I++)_[I]=w.charCodeAt(I);return _}(w),_=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(_)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Mw=20;class jm extends uc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function zm(w){return tu.apply(this,arguments)}function tu(){return(tu=(0,l.Z)(function*(w){const p=yield yc()._get(xd(w));return p&&(yield yc()._remove(xd(w))),p})).apply(this,arguments)}function Wg(){const w=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<Mw;_++){const I=Math.floor(Math.random()*p.length);w.push(p.charAt(I))}return w.join("")}function yc(){return Zt(Qa)}function xd(w){return K("authEvent",w.config.apiKey,w.name)}function nu(w){if(!w?.includes("?"))return{};const[p,..._]=w.split("?");return(0,j.zd)(_.join("?"))}const vc=class $m{constructor(){this._redirectPersistence=Ho,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pi,this._overrideRedirectResult=qo}_initialize(p){var _=this;return(0,l.Z)(function*(){const I=p._key();let M=_.eventManagers.get(I);return M||(M=new jm(p),_.eventManagers.set(I,M),_.attachCallbackListeners(p,M)),M})()}_openPopup(p){He(p,"operation-not-supported-in-this-environment")}_openRedirect(p,_,I,M){var F=this;return(0,l.Z)(function*(){!function Xh(w){var p,_,I,M,F,Z,le,We,ft,Bt;const _t=el();ne("function"==typeof(null===(p=_t?.universalLinks)||void 0===p?void 0:p.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(typeof(null===(_=_t?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(F=null===(M=null===(I=_t?.cordova)||void 0===I?void 0:I.plugins)||void 0===M?void 0:M.browsertab)||void 0===F?void 0:F.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(We=null===(le=null===(Z=_t?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===le?void 0:le.browsertab)||void 0===We?void 0:We.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Bt=null===(ft=_t?.cordova)||void 0===ft?void 0:ft.InAppBrowser)||void 0===Bt?void 0:Bt.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Z=yield F._initialize(p);yield Z.initialized(),Z.resetRedirect(),function Bh(){ac.clear()}(),yield F._originValidation(p);const le=function Jh(w,p,_=null){return{type:p,eventId:_,urlResponse:null,sessionId:Wg(),postBody:null,tenantId:w.tenantId,error:je(w,"no-auth-event")}}(p,I,M);yield function rv(w,p){return yc()._set(xd(w),p)}(p,le);const We=yield function nv(w,p,_){return Qh.apply(this,arguments)}(p,le,_),ft=yield function Gg(w){const{cordova:p}=el();return new Promise(_=>{p.plugins.browsertab.isAvailable(I=>{let M=null;I?p.plugins.browsertab.openUrl(w):M=p.InAppBrowser.open(w,function En(w=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),_(M)})})}(We);return function iv(w,p,_){return Um.apply(this,arguments)}(p,Z,ft)})()}_isIframeWebStorageSupported(p,_){throw new Error("Method not implemented.")}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ed(w){return gc.apply(this,arguments)}(p)),this.originValidationPromises[_]}attachCallbackListeners(p,_){const{universalLinks:I,handleOpenURL:M,BuildInfo:F}=el(),Z=setTimeout((0,l.Z)(function*(){yield zm(p),_.onEvent(Kg())}),500),le=function(){var Bt=(0,l.Z)(function*(_t){clearTimeout(Z);const gn=yield zm(p);let vs=null;gn&&_t?.url&&(vs=function sv(w,p){var _,I;const M=function tl(w){const p=nu(w),_=p.link?decodeURIComponent(p.link):void 0,I=nu(_).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return nu(M).link||M||I||_||w}(p);if(M.includes("/__/auth/callback")){const F=nu(M),Z=F.firebaseError?function Hm(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(F.firebaseError)):null,le=null===(I=null===(_=Z?.code)||void 0===_?void 0:_.split("auth/"))||void 0===I?void 0:I[1],We=le?je(le):null;return We?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:We,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:M,postBody:null}}return null}(gn,_t.url)),_.onEvent(vs||Kg())});return function(gn){return Bt.apply(this,arguments)}}();typeof I<"u"&&"function"==typeof I.subscribe&&I.subscribe(null,le);const We=M,ft=`${F.packageName.toLowerCase()}://`;el().handleOpenURL=function(){var Bt=(0,l.Z)(function*(_t){if(_t.toLowerCase().startsWith(ft)&&le({url:_t}),"function"==typeof We)try{We(_t)}catch(gn){console.error(gn)}});return function(_t){return Bt.apply(this,arguments)}}()}};function Kg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:je("no-auth-event")}}const Gm=1e3;function iu(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function Xg(){return function Cd(w=(0,j.z$)()){return!("file:"!==iu()&&"ionic:"!==iu()&&"capacitor:"!==iu()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function nl(){return(nl=(0,l.Z)(function*(){return!!Xg()&&new Promise(w=>{const p=setTimeout(()=>{w(!1)},Gm);document.addEventListener("deviceready",()=>{clearTimeout(p),w(!0)})})})).apply(this,arguments)}const Km="persistence";function Jg(w){return su.apply(this,arguments)}function su(){return(su=(0,l.Z)(function*(w){yield w._initializationPromise;const p=function tf(){var w;try{return(null===(w=function Sd(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}(),_=K(Km,w.config.apiKey,w.name);p&&p.setItem(_,w._getPersistence())})).apply(this,arguments)}const nf=ne;class Oi{constructor(){this.browserResolver=Zt(zr),this.cordovaResolver=Zt(vc),this.underlyingResolver=null,this._redirectPersistence=Ho,this._completeRedirectFn=Pi,this._overrideRedirectResult=qo}_initialize(p){var _=this;return(0,l.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,_,I,M){var F=this;return(0,l.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openPopup(p,_,I,M)})()}_openRedirect(p,_,I,M){var F=this;return(0,l.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openRedirect(p,_,I,M)})()}_isIframeWebStorageSupported(p,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,_)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Xg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const _=yield function av(){return nl.apply(this,arguments)}();p.underlyingResolver=_?p.cordovaResolver:p.browserResolver})()}}function wc(w){return w.unwrap()}function Rw(w){return e_(w)}function e_(w){const{_tokenResponse:p}=w instanceof j.ZR?w.customData:w;if(!p)return null;if(!(w instanceof j.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return _i.credentialFromResult(w);const _=p.providerId;if(!_||_===Me.PASSWORD)return null;let I;switch(_){case Me.GOOGLE:I=kl;break;case Me.FACEBOOK:I=Ih;break;case Me.GITHUB:I=pm;break;case Me.TWITTER:I=Vu;break;default:const{oauthIdToken:M,oauthAccessToken:F,oauthTokenSecret:Z,pendingToken:le,nonce:We}=p;return F||Z||M||le?le?_.startsWith("saml.")?ma._create(_,le):Fo._fromParams({providerId:_,signInMethod:_,pendingToken:le,idToken:M,accessToken:F}):new za(_).credential({idToken:M,accessToken:F,rawNonce:We}):null}return w instanceof j.ZR?I.credentialFromError(w):I.credentialFromResult(w)}function Ls(w,p){return p.catch(_=>{throw _ instanceof j.ZR&&function lv(w,p){var _;const I=null===(_=p.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Zm(w,function Xu(w,p){var _;const I=(0,j.m9)(w),M=p;return ne(p.customData.operationType,I,"argument-error"),ne(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,I,"argument-error"),qa._fromError(I,M)}(w,p));else if(I){const M=e_(p),F=p;M&&(F.credential=M,F.tenantId=I.tenantId||void 0,F.email=I.email||void 0,F.phoneNumber=I.phoneNumber||void 0)}}(w,_),_}).then(_=>{const M=_.user;return{operationType:_.operationType,credential:Rw(_),additionalUserInfo:Dh(_),user:yo.getOrCreate(M)}})}function Ec(w,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(w,p){const _=yield p;return{verificationId:_.verificationId,confirm:I=>Ls(w,_.confirm(I))}})).apply(this,arguments)}class Zm{constructor(p,_){this.resolver=_,this.auth=function kw(w){return w.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ls(wc(this.auth),this.resolver.resolveSignIn(p))}}class yo{constructor(p){this._delegate=p,this.multiFactor=function Sm(w){const p=(0,j.m9)(w);return ya.has(p)||ya.set(p,Za._fromUser(p)),ya.get(p)}(p)}static getOrCreate(p){return yo.USER_MAP.has(p)||yo.USER_MAP.set(p,new yo(p)),yo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var _=this;return(0,l.Z)(function*(){return Ls(_.auth,vm(_._delegate,p))})()}linkWithPhoneNumber(p,_){var I=this;return(0,l.Z)(function*(){return Ec(I.auth,function ad(w,p,_){return cd.apply(this,arguments)}(I._delegate,p,_))})()}linkWithPopup(p){var _=this;return(0,l.Z)(function*(){return Ls(_.auth,function hd(w,p,_){return oc.apply(this,arguments)}(_._delegate,p,Oi))})()}linkWithRedirect(p){var _=this;return(0,l.Z)(function*(){return yield Jg(Gn(_.auth)),zg(_._delegate,p,Oi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var _=this;return(0,l.Z)(function*(){return Ls(_.auth,bm(_._delegate,p))})()}reauthenticateWithPhoneNumber(p,_){return Ec(this.auth,function ld(w,p,_){return ud.apply(this,arguments)}(this._delegate,p,_))}reauthenticateWithPopup(p){return Ls(this.auth,function sc(w,p,_){return kt.apply(this,arguments)}(this._delegate,p,Oi))}reauthenticateWithRedirect(p){var _=this;return(0,l.Z)(function*(){return yield Jg(Gn(_.auth)),an(_._delegate,p,Oi)})()}sendEmailVerification(p){return function Wu(w,p){return Bl.apply(this,arguments)}(this._delegate,p)}unlink(p){var _=this;return(0,l.Z)(function*(){return yield function _m(w,p){return Ur.apply(this,arguments)}(_._delegate,p),_})()}updateEmail(p){return function Cr(w,p){return ui((0,j.m9)(w),p,null)}(this._delegate,p)}updatePassword(p){return function jo(w,p){return ui((0,j.m9)(w),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function jr(w,p){return Os.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function kg(w,p){return Zu.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,_){return function Ah(w,p,_){return Ul.apply(this,arguments)}(this._delegate,p,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yo.USER_MAP=new WeakMap;class Ko{constructor(){this.providerId="phone",this._delegate=new _i(wc(ue.Z.auth()))}static credential(p,_){return _i.credential(p,_)}verifyPhoneNumber(p,_){return this._delegate.verifyPhoneNumber(p,_)}unwrap(){return this._delegate}}Ko.PHONE_SIGN_IN_METHOD=_i.PHONE_SIGN_IN_METHOD,Ko.PROVIDER_ID=_i.PROVIDER_ID},8766:(Ut,$e,U)=>{U.d($e,{X3:()=>ot});var l=U(5861);const ue=(De,ne)=>ne.some(ht=>De instanceof ht);let j,Ie;const Ve=new WeakMap,Fe=new WeakMap,Me=new WeakMap,te=new WeakMap,Y=new WeakMap;let Ge={get(De,ne,ht){if(De instanceof IDBTransaction){if("done"===ne)return Fe.get(De);if("objectStoreNames"===ne)return De.objectStoreNames||Me.get(De);if("store"===ne)return ht.objectStoreNames[1]?void 0:ht.objectStore(ht.objectStoreNames[0])}return Ye(De[ne])},set:(De,ne,ht)=>(De[ne]=ht,!0),has:(De,ne)=>De instanceof IDBTransaction&&("done"===ne||"store"===ne)||ne in De};function Oe(De){return"function"==typeof De?function Rt(De){return De!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(De)?function(...ne){return De.apply(Qe(this),ne),Ye(Ve.get(this))}:function(...ne){return Ye(De.apply(Qe(this),ne))}:function(ne,...ht){const ct=De.call(Qe(this),ne,...ht);return Me.set(ct,ne.sort?ne.sort():[ne]),Ye(ct)}}(De):(De instanceof IDBTransaction&&function dt(De){if(Fe.has(De))return;const ne=new Promise((ht,ct)=>{const Kt=()=>{De.removeEventListener("complete",Tt),De.removeEventListener("error",ci),De.removeEventListener("abort",ci)},Tt=()=>{ht(),Kt()},ci=()=>{ct(De.error||new DOMException("AbortError","AbortError")),Kt()};De.addEventListener("complete",Tt),De.addEventListener("error",ci),De.addEventListener("abort",ci)});Fe.set(De,ne)}(De),ue(De,function xe(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(De,Ge):De)}function Ye(De){if(De instanceof IDBRequest)return function ae(De){const ne=new Promise((ht,ct)=>{const Kt=()=>{De.removeEventListener("success",Tt),De.removeEventListener("error",ci)},Tt=()=>{ht(Ye(De.result)),Kt()},ci=()=>{ct(De.error),Kt()};De.addEventListener("success",Tt),De.addEventListener("error",ci)});return ne.then(ht=>{ht instanceof IDBCursor&&Ve.set(ht,De)}).catch(()=>{}),Y.set(ne,De),ne}(De);if(te.has(De))return te.get(De);const ne=Oe(De);return ne!==De&&(te.set(De,ne),Y.set(ne,De)),ne}const Qe=De=>Y.get(De);function ot(De,ne,{blocked:ht,upgrade:ct,blocking:Kt,terminated:Tt}={}){const ci=indexedDB.open(De,ne),fs=Ye(ci);return ct&&ci.addEventListener("upgradeneeded",pi=>{ct(Ye(ci.result),pi.oldVersion,pi.newVersion,Ye(ci.transaction),pi)}),ht&&ci.addEventListener("blocked",pi=>ht(pi.oldVersion,pi.newVersion,pi)),fs.then(pi=>{Tt&&pi.addEventListener("close",()=>Tt()),Kt&&pi.addEventListener("versionchange",Ki=>Kt(Ki.oldVersion,Ki.newVersion,Ki))}).catch(()=>{}),fs}const He=["get","getKey","getAll","getAllKeys","count"],je=["put","add","delete","clear"],at=new Map;function Xe(De,ne){if(!(De instanceof IDBDatabase)||ne in De||"string"!=typeof ne)return;if(at.get(ne))return at.get(ne);const ht=ne.replace(/FromIndex$/,""),ct=ne!==ht,Kt=je.includes(ht);if(!(ht in(ct?IDBIndex:IDBObjectStore).prototype)||!Kt&&!He.includes(ht))return;const Tt=function(){var ci=(0,l.Z)(function*(fs,...pi){const Ki=this.transaction(fs,Kt?"readwrite":"readonly");let Zi=Ki.store;return ct&&(Zi=Zi.index(pi.shift())),(yield Promise.all([Zi[ht](...pi),Kt&&Ki.done]))[0]});return function(pi){return ci.apply(this,arguments)}}();return at.set(ne,Tt),Tt}!function pt(De){Ge=De(Ge)}(De=>({...De,get:(ne,ht,ct)=>Xe(ne,ht)||De.get(ne,ht,ct),has:(ne,ht)=>!!Xe(ne,ht)||De.has(ne,ht)}))},5861:(Ut,$e,U)=>{function l(j,Ie,xe,de,Ve,Fe,Me){try{var te=j[Fe](Me),Y=te.value}catch(ae){return void xe(ae)}te.done?Ie(Y):Promise.resolve(Y).then(de,Ve)}function ue(j){return function(){var Ie=this,xe=arguments;return new Promise(function(de,Ve){var Fe=j.apply(Ie,xe);function Me(Y){l(Fe,de,Ve,Me,te,"next",Y)}function te(Y){l(Fe,de,Ve,Me,te,"throw",Y)}Me(void 0)})}}U.d($e,{Z:()=>ue})},7582:(Ut,$e,U)=>{function Ie(me,he){var ye={};for(var Ee in me)Object.prototype.hasOwnProperty.call(me,Ee)&&he.indexOf(Ee)<0&&(ye[Ee]=me[Ee]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(Ee=Object.getOwnPropertySymbols(me);qe<Ee.length;qe++)he.indexOf(Ee[qe])<0&&Object.prototype.propertyIsEnumerable.call(me,Ee[qe])&&(ye[Ee[qe]]=me[Ee[qe]])}return ye}function ae(me,he,ye,Ee){return new(ye||(ye=Promise))(function(Be,Nt){function ln(zn){try{Ht(Ee.next(zn))}catch(Xn){Nt(Xn)}}function Fn(zn){try{Ht(Ee.throw(zn))}catch(Xn){Nt(Xn)}}function Ht(zn){zn.done?Be(zn.value):function qe(Be){return Be instanceof ye?Be:new ye(function(Nt){Nt(Be)})}(zn.value).then(ln,Fn)}Ht((Ee=Ee.apply(me,he||[])).next())})}function it(me){return this instanceof it?(this.v=me,this):new it(me)}function He(me,he,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Ee=ye.apply(me,he||[]),Be=[];return qe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),ln("next"),ln("throw"),ln("return",function Nt(_n){return function(Mi){return Promise.resolve(Mi).then(_n,Xn)}}),qe[Symbol.asyncIterator]=function(){return this},qe;function ln(_n,Mi){Ee[_n]&&(qe[_n]=function(Li){return new Promise(function(Wn,Dt){Be.push([_n,Li,Wn,Dt])>1||Fn(_n,Li)})},Mi&&(qe[_n]=Mi(qe[_n])))}function Fn(_n,Mi){try{!function Ht(_n){_n.value instanceof it?Promise.resolve(_n.value.v).then(zn,Xn):Fr(Be[0][2],_n)}(Ee[_n](Mi))}catch(Li){Fr(Be[0][3],Li)}}function zn(_n){Fn("next",_n)}function Xn(_n){Fn("throw",_n)}function Fr(_n,Mi){_n(Mi),Be.shift(),Be.length&&Fn(Be[0][0],Be[0][1])}}function at(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,he=me[Symbol.asyncIterator];return he?he.call(me):(me=function Rt(me){var he="function"==typeof Symbol&&Symbol.iterator,ye=he&&me[he],Ee=0;if(ye)return ye.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&Ee>=me.length&&(me=void 0),{value:me&&me[Ee++],done:!me}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),ye={},Ee("next"),Ee("throw"),Ee("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function Ee(Be){ye[Be]=me[Be]&&function(Nt){return new Promise(function(ln,Fn){!function qe(Be,Nt,ln,Fn){Promise.resolve(Fn).then(function(Ht){Be({value:Ht,done:ln})},Nt)}(ln,Fn,(Nt=me[Be](Nt)).done,Nt.value)})}}}U.d($e,{FC:()=>He,KL:()=>at,_T:()=>Ie,mG:()=>ae,qq:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},Ut=>{Ut(Ut.s=1105)}]);